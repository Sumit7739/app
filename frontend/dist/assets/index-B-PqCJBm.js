function wx(t,r){for(var a=0;a<r.length;a++){const s=r[a];if(typeof s!="string"&&!Array.isArray(s)){for(const n in s)if(n!=="default"&&!(n in t)){const l=Object.getOwnPropertyDescriptor(s,n);l&&Object.defineProperty(t,n,l.get?l:{enumerable:!0,get:()=>s[n]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function a(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(n){if(n.ep)return;n.ep=!0;const l=a(n);fetch(n.href,l)}})();function Pc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ec={exports:{}},Dn={},Lc={exports:{}},K={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cs=Symbol.for("react.element"),Nx=Symbol.for("react.portal"),_x=Symbol.for("react.fragment"),Sx=Symbol.for("react.strict_mode"),Cx=Symbol.for("react.profiler"),zx=Symbol.for("react.provider"),Px=Symbol.for("react.context"),Ex=Symbol.for("react.forward_ref"),Lx=Symbol.for("react.suspense"),Tx=Symbol.for("react.memo"),Mx=Symbol.for("react.lazy"),Qo=Symbol.iterator;function Dx(t){return t===null||typeof t!="object"?null:(t=Qo&&t[Qo]||t["@@iterator"],typeof t=="function"?t:null)}var Tc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Mc=Object.assign,Dc={};function ga(t,r,a){this.props=t,this.context=r,this.refs=Dc,this.updater=a||Tc}ga.prototype.isReactComponent={};ga.prototype.setState=function(t,r){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,r,"setState")};ga.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function $c(){}$c.prototype=ga.prototype;function Hi(t,r,a){this.props=t,this.context=r,this.refs=Dc,this.updater=a||Tc}var Vi=Hi.prototype=new $c;Vi.constructor=Hi;Mc(Vi,ga.prototype);Vi.isPureReactComponent=!0;var Go=Array.isArray,Ic=Object.prototype.hasOwnProperty,qi={current:null},Rc={key:!0,ref:!0,__self:!0,__source:!0};function Ac(t,r,a){var s,n={},l=null,i=null;if(r!=null)for(s in r.ref!==void 0&&(i=r.ref),r.key!==void 0&&(l=""+r.key),r)Ic.call(r,s)&&!Rc.hasOwnProperty(s)&&(n[s]=r[s]);var d=arguments.length-2;if(d===1)n.children=a;else if(1<d){for(var o=Array(d),c=0;c<d;c++)o[c]=arguments[c+2];n.children=o}if(t&&t.defaultProps)for(s in d=t.defaultProps,d)n[s]===void 0&&(n[s]=d[s]);return{$$typeof:cs,type:t,key:l,ref:i,props:n,_owner:qi.current}}function $x(t,r){return{$$typeof:cs,type:t.type,key:r,ref:t.ref,props:t.props,_owner:t._owner}}function Qi(t){return typeof t=="object"&&t!==null&&t.$$typeof===cs}function Ix(t){var r={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(a){return r[a]})}var Ko=/\/+/g;function nl(t,r){return typeof t=="object"&&t!==null&&t.key!=null?Ix(""+t.key):r.toString(36)}function Ws(t,r,a,s,n){var l=typeof t;(l==="undefined"||l==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case cs:case Nx:i=!0}}if(i)return i=t,n=n(i),t=s===""?"."+nl(i,0):s,Go(n)?(a="",t!=null&&(a=t.replace(Ko,"$&/")+"/"),Ws(n,r,a,"",function(c){return c})):n!=null&&(Qi(n)&&(n=$x(n,a+(!n.key||i&&i.key===n.key?"":(""+n.key).replace(Ko,"$&/")+"/")+t)),r.push(n)),1;if(i=0,s=s===""?".":s+":",Go(t))for(var d=0;d<t.length;d++){l=t[d];var o=s+nl(l,d);i+=Ws(l,r,a,o,n)}else if(o=Dx(t),typeof o=="function")for(t=o.call(t),d=0;!(l=t.next()).done;)l=l.value,o=s+nl(l,d++),i+=Ws(l,r,a,o,n);else if(l==="object")throw r=String(t),Error("Objects are not valid as a React child (found: "+(r==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return i}function bs(t,r,a){if(t==null)return t;var s=[],n=0;return Ws(t,s,"","",function(l){return r.call(a,l,n++)}),s}function Rx(t){if(t._status===-1){var r=t._result;r=r(),r.then(function(a){(t._status===0||t._status===-1)&&(t._status=1,t._result=a)},function(a){(t._status===0||t._status===-1)&&(t._status=2,t._result=a)}),t._status===-1&&(t._status=0,t._result=r)}if(t._status===1)return t._result.default;throw t._result}var Re={current:null},Hs={transition:null},Ax={ReactCurrentDispatcher:Re,ReactCurrentBatchConfig:Hs,ReactCurrentOwner:qi};function Oc(){throw Error("act(...) is not supported in production builds of React.")}K.Children={map:bs,forEach:function(t,r,a){bs(t,function(){r.apply(this,arguments)},a)},count:function(t){var r=0;return bs(t,function(){r++}),r},toArray:function(t){return bs(t,function(r){return r})||[]},only:function(t){if(!Qi(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};K.Component=ga;K.Fragment=_x;K.Profiler=Cx;K.PureComponent=Hi;K.StrictMode=Sx;K.Suspense=Lx;K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ax;K.act=Oc;K.cloneElement=function(t,r,a){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=Mc({},t.props),n=t.key,l=t.ref,i=t._owner;if(r!=null){if(r.ref!==void 0&&(l=r.ref,i=qi.current),r.key!==void 0&&(n=""+r.key),t.type&&t.type.defaultProps)var d=t.type.defaultProps;for(o in r)Ic.call(r,o)&&!Rc.hasOwnProperty(o)&&(s[o]=r[o]===void 0&&d!==void 0?d[o]:r[o])}var o=arguments.length-2;if(o===1)s.children=a;else if(1<o){d=Array(o);for(var c=0;c<o;c++)d[c]=arguments[c+2];s.children=d}return{$$typeof:cs,type:t.type,key:n,ref:l,props:s,_owner:i}};K.createContext=function(t){return t={$$typeof:Px,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:zx,_context:t},t.Consumer=t};K.createElement=Ac;K.createFactory=function(t){var r=Ac.bind(null,t);return r.type=t,r};K.createRef=function(){return{current:null}};K.forwardRef=function(t){return{$$typeof:Ex,render:t}};K.isValidElement=Qi;K.lazy=function(t){return{$$typeof:Mx,_payload:{_status:-1,_result:t},_init:Rx}};K.memo=function(t,r){return{$$typeof:Tx,type:t,compare:r===void 0?null:r}};K.startTransition=function(t){var r=Hs.transition;Hs.transition={};try{t()}finally{Hs.transition=r}};K.unstable_act=Oc;K.useCallback=function(t,r){return Re.current.useCallback(t,r)};K.useContext=function(t){return Re.current.useContext(t)};K.useDebugValue=function(){};K.useDeferredValue=function(t){return Re.current.useDeferredValue(t)};K.useEffect=function(t,r){return Re.current.useEffect(t,r)};K.useId=function(){return Re.current.useId()};K.useImperativeHandle=function(t,r,a){return Re.current.useImperativeHandle(t,r,a)};K.useInsertionEffect=function(t,r){return Re.current.useInsertionEffect(t,r)};K.useLayoutEffect=function(t,r){return Re.current.useLayoutEffect(t,r)};K.useMemo=function(t,r){return Re.current.useMemo(t,r)};K.useReducer=function(t,r,a){return Re.current.useReducer(t,r,a)};K.useRef=function(t){return Re.current.useRef(t)};K.useState=function(t){return Re.current.useState(t)};K.useSyncExternalStore=function(t,r,a){return Re.current.useSyncExternalStore(t,r,a)};K.useTransition=function(){return Re.current.useTransition()};K.version="18.3.1";Lc.exports=K;var p=Lc.exports;const Fc=Pc(p),Ox=wx({__proto__:null,default:Fc},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fx=p,Ux=Symbol.for("react.element"),Bx=Symbol.for("react.fragment"),Wx=Object.prototype.hasOwnProperty,Hx=Fx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Vx={key:!0,ref:!0,__self:!0,__source:!0};function Uc(t,r,a){var s,n={},l=null,i=null;a!==void 0&&(l=""+a),r.key!==void 0&&(l=""+r.key),r.ref!==void 0&&(i=r.ref);for(s in r)Wx.call(r,s)&&!Vx.hasOwnProperty(s)&&(n[s]=r[s]);if(t&&t.defaultProps)for(s in r=t.defaultProps,r)n[s]===void 0&&(n[s]=r[s]);return{$$typeof:Ux,type:t,key:l,ref:i,props:n,_owner:Hx.current}}Dn.Fragment=Bx;Dn.jsx=Uc;Dn.jsxs=Uc;Ec.exports=Dn;var e=Ec.exports,Hl={},Bc={exports:{}},tt={},Wc={exports:{}},Hc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function r(D,U){var A=D.length;D.push(U);e:for(;0<A;){var H=A-1>>>1,Q=D[H];if(0<n(Q,U))D[H]=U,D[A]=Q,A=H;else break e}}function a(D){return D.length===0?null:D[0]}function s(D){if(D.length===0)return null;var U=D[0],A=D.pop();if(A!==U){D[0]=A;e:for(var H=0,Q=D.length,$=Q>>>1;H<$;){var V=2*(H+1)-1,Y=D[V],le=V+1,oe=D[le];if(0>n(Y,A))le<Q&&0>n(oe,Y)?(D[H]=oe,D[le]=A,H=le):(D[H]=Y,D[V]=A,H=V);else if(le<Q&&0>n(oe,A))D[H]=oe,D[le]=A,H=le;else break e}}return U}function n(D,U){var A=D.sortIndex-U.sortIndex;return A!==0?A:D.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var i=Date,d=i.now();t.unstable_now=function(){return i.now()-d}}var o=[],c=[],m=1,h=null,x=3,_=!1,y=!1,w=!1,z=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function u(D){for(var U=a(c);U!==null;){if(U.callback===null)s(c);else if(U.startTime<=D)s(c),U.sortIndex=U.expirationTime,r(o,U);else break;U=a(c)}}function b(D){if(w=!1,u(D),!y)if(a(o)!==null)y=!0,T(f);else{var U=a(c);U!==null&&W(b,U.startTime-D)}}function f(D,U){y=!1,w&&(w=!1,j(k),k=-1),_=!0;var A=x;try{for(u(U),h=a(o);h!==null&&(!(h.expirationTime>U)||D&&!C());){var H=h.callback;if(typeof H=="function"){h.callback=null,x=h.priorityLevel;var Q=H(h.expirationTime<=U);U=t.unstable_now(),typeof Q=="function"?h.callback=Q:h===a(o)&&s(o),u(U)}else s(o);h=a(o)}if(h!==null)var $=!0;else{var V=a(c);V!==null&&W(b,V.startTime-U),$=!1}return $}finally{h=null,x=A,_=!1}}var v=!1,N=null,k=-1,E=5,S=-1;function C(){return!(t.unstable_now()-S<E)}function P(){if(N!==null){var D=t.unstable_now();S=D;var U=!0;try{U=N(!0,D)}finally{U?M():(v=!1,N=null)}}else v=!1}var M;if(typeof g=="function")M=function(){g(P)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,L=B.port2;B.port1.onmessage=P,M=function(){L.postMessage(null)}}else M=function(){z(P,0)};function T(D){N=D,v||(v=!0,M())}function W(D,U){k=z(function(){D(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){y||_||(y=!0,T(f))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return a(o)},t.unstable_next=function(D){switch(x){case 1:case 2:case 3:var U=3;break;default:U=x}var A=x;x=U;try{return D()}finally{x=A}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,U){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var A=x;x=D;try{return U()}finally{x=A}},t.unstable_scheduleCallback=function(D,U,A){var H=t.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?H+A:H):A=H,D){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=A+Q,D={id:m++,callback:U,priorityLevel:D,startTime:A,expirationTime:Q,sortIndex:-1},A>H?(D.sortIndex=A,r(c,D),a(o)===null&&D===a(c)&&(w?(j(k),k=-1):w=!0,W(b,A-H))):(D.sortIndex=Q,r(o,D),y||_||(y=!0,T(f))),D},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(D){var U=x;return function(){var A=x;x=U;try{return D.apply(this,arguments)}finally{x=A}}}})(Hc);Wc.exports=Hc;var qx=Wc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qx=p,Ze=qx;function I(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,a=1;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vc=new Set,Fa={};function Pr(t,r){ea(t,r),ea(t+"Capture",r)}function ea(t,r){for(Fa[t]=r,t=0;t<r.length;t++)Vc.add(r[t])}var Dt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vl=Object.prototype.hasOwnProperty,Gx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jo={},Yo={};function Kx(t){return Vl.call(Yo,t)?!0:Vl.call(Jo,t)?!1:Gx.test(t)?Yo[t]=!0:(Jo[t]=!0,!1)}function Jx(t,r,a,s){if(a!==null&&a.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return s?!1:a!==null?!a.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Yx(t,r,a,s){if(r===null||typeof r>"u"||Jx(t,r,a,s))return!0;if(s)return!1;if(a!==null)switch(a.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function Ae(t,r,a,s,n,l,i){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=s,this.attributeNamespace=n,this.mustUseProperty=a,this.propertyName=t,this.type=r,this.sanitizeURL=l,this.removeEmptyString=i}var Ce={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ce[t]=new Ae(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];Ce[r]=new Ae(r,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ce[t]=new Ae(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ce[t]=new Ae(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ce[t]=new Ae(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ce[t]=new Ae(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ce[t]=new Ae(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ce[t]=new Ae(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ce[t]=new Ae(t,5,!1,t.toLowerCase(),null,!1,!1)});var Gi=/[\-:]([a-z])/g;function Ki(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(Gi,Ki);Ce[r]=new Ae(r,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(Gi,Ki);Ce[r]=new Ae(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(Gi,Ki);Ce[r]=new Ae(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ce[t]=new Ae(t,1,!1,t.toLowerCase(),null,!1,!1)});Ce.xlinkHref=new Ae("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ce[t]=new Ae(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ji(t,r,a,s){var n=Ce.hasOwnProperty(r)?Ce[r]:null;(n!==null?n.type!==0:s||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(Yx(r,a,n,s)&&(a=null),s||n===null?Kx(r)&&(a===null?t.removeAttribute(r):t.setAttribute(r,""+a)):n.mustUseProperty?t[n.propertyName]=a===null?n.type===3?!1:"":a:(r=n.attributeName,s=n.attributeNamespace,a===null?t.removeAttribute(r):(n=n.type,a=n===3||n===4&&a===!0?"":""+a,s?t.setAttributeNS(s,r,a):t.setAttribute(r,a))))}var Ft=Qx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vs=Symbol.for("react.element"),$r=Symbol.for("react.portal"),Ir=Symbol.for("react.fragment"),Yi=Symbol.for("react.strict_mode"),ql=Symbol.for("react.profiler"),qc=Symbol.for("react.provider"),Qc=Symbol.for("react.context"),Xi=Symbol.for("react.forward_ref"),Ql=Symbol.for("react.suspense"),Gl=Symbol.for("react.suspense_list"),Zi=Symbol.for("react.memo"),Vt=Symbol.for("react.lazy"),Gc=Symbol.for("react.offscreen"),Xo=Symbol.iterator;function ba(t){return t===null||typeof t!="object"?null:(t=Xo&&t[Xo]||t["@@iterator"],typeof t=="function"?t:null)}var xe=Object.assign,ll;function Ca(t){if(ll===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);ll=r&&r[1]||""}return`
`+ll+t}var il=!1;function ol(t,r){if(!t||il)return"";il=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(c){var s=c}Reflect.construct(t,[],r)}else{try{r.call()}catch(c){s=c}t.call(r.prototype)}else{try{throw Error()}catch(c){s=c}t()}}catch(c){if(c&&s&&typeof c.stack=="string"){for(var n=c.stack.split(`
`),l=s.stack.split(`
`),i=n.length-1,d=l.length-1;1<=i&&0<=d&&n[i]!==l[d];)d--;for(;1<=i&&0<=d;i--,d--)if(n[i]!==l[d]){if(i!==1||d!==1)do if(i--,d--,0>d||n[i]!==l[d]){var o=`
`+n[i].replace(" at new "," at ");return t.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",t.displayName)),o}while(1<=i&&0<=d);break}}}finally{il=!1,Error.prepareStackTrace=a}return(t=t?t.displayName||t.name:"")?Ca(t):""}function Xx(t){switch(t.tag){case 5:return Ca(t.type);case 16:return Ca("Lazy");case 13:return Ca("Suspense");case 19:return Ca("SuspenseList");case 0:case 2:case 15:return t=ol(t.type,!1),t;case 11:return t=ol(t.type.render,!1),t;case 1:return t=ol(t.type,!0),t;default:return""}}function Kl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ir:return"Fragment";case $r:return"Portal";case ql:return"Profiler";case Yi:return"StrictMode";case Ql:return"Suspense";case Gl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Qc:return(t.displayName||"Context")+".Consumer";case qc:return(t._context.displayName||"Context")+".Provider";case Xi:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Zi:return r=t.displayName||null,r!==null?r:Kl(t.type)||"Memo";case Vt:r=t._payload,t=t._init;try{return Kl(t(r))}catch{}}return null}function Zx(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kl(r);case 8:return r===Yi?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function ir(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Kc(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function eg(t){var r=Kc(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),s=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var n=a.get,l=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return n.call(this)},set:function(i){s=""+i,l.call(this,i)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return s},setValue:function(i){s=""+i},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function js(t){t._valueTracker||(t._valueTracker=eg(t))}function Jc(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),s="";return t&&(s=Kc(t)?t.checked?"true":"false":t.value),t=s,t!==a?(r.setValue(t),!0):!1}function tn(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Jl(t,r){var a=r.checked;return xe({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a!=null?a:t._wrapperState.initialChecked})}function Zo(t,r){var a=r.defaultValue==null?"":r.defaultValue,s=r.checked!=null?r.checked:r.defaultChecked;a=ir(r.value!=null?r.value:a),t._wrapperState={initialChecked:s,initialValue:a,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Yc(t,r){r=r.checked,r!=null&&Ji(t,"checked",r,!1)}function Yl(t,r){Yc(t,r);var a=ir(r.value),s=r.type;if(a!=null)s==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+a):t.value!==""+a&&(t.value=""+a);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Xl(t,r.type,a):r.hasOwnProperty("defaultValue")&&Xl(t,r.type,ir(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function ed(t,r,a){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var s=r.type;if(!(s!=="submit"&&s!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,a||r===t.value||(t.value=r),t.defaultValue=r}a=t.name,a!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,a!==""&&(t.name=a)}function Xl(t,r,a){(r!=="number"||tn(t.ownerDocument)!==t)&&(a==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+a&&(t.defaultValue=""+a))}var za=Array.isArray;function Qr(t,r,a,s){if(t=t.options,r){r={};for(var n=0;n<a.length;n++)r["$"+a[n]]=!0;for(a=0;a<t.length;a++)n=r.hasOwnProperty("$"+t[a].value),t[a].selected!==n&&(t[a].selected=n),n&&s&&(t[a].defaultSelected=!0)}else{for(a=""+ir(a),r=null,n=0;n<t.length;n++){if(t[n].value===a){t[n].selected=!0,s&&(t[n].defaultSelected=!0);return}r!==null||t[n].disabled||(r=t[n])}r!==null&&(r.selected=!0)}}function Zl(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(I(91));return xe({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function td(t,r){var a=r.value;if(a==null){if(a=r.children,r=r.defaultValue,a!=null){if(r!=null)throw Error(I(92));if(za(a)){if(1<a.length)throw Error(I(93));a=a[0]}r=a}r==null&&(r=""),a=r}t._wrapperState={initialValue:ir(a)}}function Xc(t,r){var a=ir(r.value),s=ir(r.defaultValue);a!=null&&(a=""+a,a!==t.value&&(t.value=a),r.defaultValue==null&&t.defaultValue!==a&&(t.defaultValue=a)),s!=null&&(t.defaultValue=""+s)}function rd(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function Zc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ei(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?Zc(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ks,e0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,a,s,n){MSApp.execUnsafeLocalFunction(function(){return t(r,a,s,n)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(ks=ks||document.createElement("div"),ks.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=ks.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function Ua(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var La={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tg=["Webkit","ms","Moz","O"];Object.keys(La).forEach(function(t){tg.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),La[r]=La[t]})});function t0(t,r,a){return r==null||typeof r=="boolean"||r===""?"":a||typeof r!="number"||r===0||La.hasOwnProperty(t)&&La[t]?(""+r).trim():r+"px"}function r0(t,r){t=t.style;for(var a in r)if(r.hasOwnProperty(a)){var s=a.indexOf("--")===0,n=t0(a,r[a],s);a==="float"&&(a="cssFloat"),s?t.setProperty(a,n):t[a]=n}}var rg=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ti(t,r){if(r){if(rg[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(I(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(I(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(I(61))}if(r.style!=null&&typeof r.style!="object")throw Error(I(62))}}function ri(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ai=null;function eo(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var si=null,Gr=null,Kr=null;function ad(t){if(t=gs(t)){if(typeof si!="function")throw Error(I(280));var r=t.stateNode;r&&(r=On(r),si(t.stateNode,t.type,r))}}function a0(t){Gr?Kr?Kr.push(t):Kr=[t]:Gr=t}function s0(){if(Gr){var t=Gr,r=Kr;if(Kr=Gr=null,ad(t),r)for(t=0;t<r.length;t++)ad(r[t])}}function n0(t,r){return t(r)}function l0(){}var dl=!1;function i0(t,r,a){if(dl)return t(r,a);dl=!0;try{return n0(t,r,a)}finally{dl=!1,(Gr!==null||Kr!==null)&&(l0(),s0())}}function Ba(t,r){var a=t.stateNode;if(a===null)return null;var s=On(a);if(s===null)return null;a=s[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(I(231,r,typeof a));return a}var ni=!1;if(Dt)try{var va={};Object.defineProperty(va,"passive",{get:function(){ni=!0}}),window.addEventListener("test",va,va),window.removeEventListener("test",va,va)}catch{ni=!1}function ag(t,r,a,s,n,l,i,d,o){var c=Array.prototype.slice.call(arguments,3);try{r.apply(a,c)}catch(m){this.onError(m)}}var Ta=!1,rn=null,an=!1,li=null,sg={onError:function(t){Ta=!0,rn=t}};function ng(t,r,a,s,n,l,i,d,o){Ta=!1,rn=null,ag.apply(sg,arguments)}function lg(t,r,a,s,n,l,i,d,o){if(ng.apply(this,arguments),Ta){if(Ta){var c=rn;Ta=!1,rn=null}else throw Error(I(198));an||(an=!0,li=c)}}function Er(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function o0(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function sd(t){if(Er(t)!==t)throw Error(I(188))}function ig(t){var r=t.alternate;if(!r){if(r=Er(t),r===null)throw Error(I(188));return r!==t?null:t}for(var a=t,s=r;;){var n=a.return;if(n===null)break;var l=n.alternate;if(l===null){if(s=n.return,s!==null){a=s;continue}break}if(n.child===l.child){for(l=n.child;l;){if(l===a)return sd(n),t;if(l===s)return sd(n),r;l=l.sibling}throw Error(I(188))}if(a.return!==s.return)a=n,s=l;else{for(var i=!1,d=n.child;d;){if(d===a){i=!0,a=n,s=l;break}if(d===s){i=!0,s=n,a=l;break}d=d.sibling}if(!i){for(d=l.child;d;){if(d===a){i=!0,a=l,s=n;break}if(d===s){i=!0,s=l,a=n;break}d=d.sibling}if(!i)throw Error(I(189))}}if(a.alternate!==s)throw Error(I(190))}if(a.tag!==3)throw Error(I(188));return a.stateNode.current===a?t:r}function d0(t){return t=ig(t),t!==null?c0(t):null}function c0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=c0(t);if(r!==null)return r;t=t.sibling}return null}var u0=Ze.unstable_scheduleCallback,nd=Ze.unstable_cancelCallback,og=Ze.unstable_shouldYield,dg=Ze.unstable_requestPaint,he=Ze.unstable_now,cg=Ze.unstable_getCurrentPriorityLevel,to=Ze.unstable_ImmediatePriority,x0=Ze.unstable_UserBlockingPriority,sn=Ze.unstable_NormalPriority,ug=Ze.unstable_LowPriority,g0=Ze.unstable_IdlePriority,$n=null,Nt=null;function xg(t){if(Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot($n,t,void 0,(t.current.flags&128)===128)}catch{}}var ft=Math.clz32?Math.clz32:mg,gg=Math.log,pg=Math.LN2;function mg(t){return t>>>=0,t===0?32:31-(gg(t)/pg|0)|0}var ws=64,Ns=4194304;function Pa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function nn(t,r){var a=t.pendingLanes;if(a===0)return 0;var s=0,n=t.suspendedLanes,l=t.pingedLanes,i=a&268435455;if(i!==0){var d=i&~n;d!==0?s=Pa(d):(l&=i,l!==0&&(s=Pa(l)))}else i=a&~n,i!==0?s=Pa(i):l!==0&&(s=Pa(l));if(s===0)return 0;if(r!==0&&r!==s&&!(r&n)&&(n=s&-s,l=r&-r,n>=l||n===16&&(l&4194240)!==0))return r;if(s&4&&(s|=a&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=s;0<r;)a=31-ft(r),n=1<<a,s|=t[a],r&=~n;return s}function hg(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fg(t,r){for(var a=t.suspendedLanes,s=t.pingedLanes,n=t.expirationTimes,l=t.pendingLanes;0<l;){var i=31-ft(l),d=1<<i,o=n[i];o===-1?(!(d&a)||d&s)&&(n[i]=hg(d,r)):o<=r&&(t.expiredLanes|=d),l&=~d}}function ii(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function p0(){var t=ws;return ws<<=1,!(ws&4194240)&&(ws=64),t}function cl(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function us(t,r,a){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-ft(r),t[r]=a}function yg(t,r){var a=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<a;){var n=31-ft(a),l=1<<n;r[n]=0,s[n]=-1,t[n]=-1,a&=~l}}function ro(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var s=31-ft(a),n=1<<s;n&r|t[s]&r&&(t[s]|=r),a&=~n}}var Z=0;function m0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var h0,ao,f0,y0,b0,oi=!1,_s=[],Xt=null,Zt=null,er=null,Wa=new Map,Ha=new Map,Qt=[],bg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ld(t,r){switch(t){case"focusin":case"focusout":Xt=null;break;case"dragenter":case"dragleave":Zt=null;break;case"mouseover":case"mouseout":er=null;break;case"pointerover":case"pointerout":Wa.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ha.delete(r.pointerId)}}function ja(t,r,a,s,n,l){return t===null||t.nativeEvent!==l?(t={blockedOn:r,domEventName:a,eventSystemFlags:s,nativeEvent:l,targetContainers:[n]},r!==null&&(r=gs(r),r!==null&&ao(r)),t):(t.eventSystemFlags|=s,r=t.targetContainers,n!==null&&r.indexOf(n)===-1&&r.push(n),t)}function vg(t,r,a,s,n){switch(r){case"focusin":return Xt=ja(Xt,t,r,a,s,n),!0;case"dragenter":return Zt=ja(Zt,t,r,a,s,n),!0;case"mouseover":return er=ja(er,t,r,a,s,n),!0;case"pointerover":var l=n.pointerId;return Wa.set(l,ja(Wa.get(l)||null,t,r,a,s,n)),!0;case"gotpointercapture":return l=n.pointerId,Ha.set(l,ja(Ha.get(l)||null,t,r,a,s,n)),!0}return!1}function v0(t){var r=yr(t.target);if(r!==null){var a=Er(r);if(a!==null){if(r=a.tag,r===13){if(r=o0(a),r!==null){t.blockedOn=r,b0(t.priority,function(){f0(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vs(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=di(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(a===null){a=t.nativeEvent;var s=new a.constructor(a.type,a);ai=s,a.target.dispatchEvent(s),ai=null}else return r=gs(a),r!==null&&ao(r),t.blockedOn=a,!1;r.shift()}return!0}function id(t,r,a){Vs(t)&&a.delete(r)}function jg(){oi=!1,Xt!==null&&Vs(Xt)&&(Xt=null),Zt!==null&&Vs(Zt)&&(Zt=null),er!==null&&Vs(er)&&(er=null),Wa.forEach(id),Ha.forEach(id)}function ka(t,r){t.blockedOn===r&&(t.blockedOn=null,oi||(oi=!0,Ze.unstable_scheduleCallback(Ze.unstable_NormalPriority,jg)))}function Va(t){function r(n){return ka(n,t)}if(0<_s.length){ka(_s[0],t);for(var a=1;a<_s.length;a++){var s=_s[a];s.blockedOn===t&&(s.blockedOn=null)}}for(Xt!==null&&ka(Xt,t),Zt!==null&&ka(Zt,t),er!==null&&ka(er,t),Wa.forEach(r),Ha.forEach(r),a=0;a<Qt.length;a++)s=Qt[a],s.blockedOn===t&&(s.blockedOn=null);for(;0<Qt.length&&(a=Qt[0],a.blockedOn===null);)v0(a),a.blockedOn===null&&Qt.shift()}var Jr=Ft.ReactCurrentBatchConfig,ln=!0;function kg(t,r,a,s){var n=Z,l=Jr.transition;Jr.transition=null;try{Z=1,so(t,r,a,s)}finally{Z=n,Jr.transition=l}}function wg(t,r,a,s){var n=Z,l=Jr.transition;Jr.transition=null;try{Z=4,so(t,r,a,s)}finally{Z=n,Jr.transition=l}}function so(t,r,a,s){if(ln){var n=di(t,r,a,s);if(n===null)vl(t,r,s,on,a),ld(t,s);else if(vg(n,t,r,a,s))s.stopPropagation();else if(ld(t,s),r&4&&-1<bg.indexOf(t)){for(;n!==null;){var l=gs(n);if(l!==null&&h0(l),l=di(t,r,a,s),l===null&&vl(t,r,s,on,a),l===n)break;n=l}n!==null&&s.stopPropagation()}else vl(t,r,s,null,a)}}var on=null;function di(t,r,a,s){if(on=null,t=eo(s),t=yr(t),t!==null)if(r=Er(t),r===null)t=null;else if(a=r.tag,a===13){if(t=o0(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return on=t,null}function j0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cg()){case to:return 1;case x0:return 4;case sn:case ug:return 16;case g0:return 536870912;default:return 16}default:return 16}}var Kt=null,no=null,qs=null;function k0(){if(qs)return qs;var t,r=no,a=r.length,s,n="value"in Kt?Kt.value:Kt.textContent,l=n.length;for(t=0;t<a&&r[t]===n[t];t++);var i=a-t;for(s=1;s<=i&&r[a-s]===n[l-s];s++);return qs=n.slice(t,1<s?1-s:void 0)}function Qs(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Ss(){return!0}function od(){return!1}function rt(t){function r(a,s,n,l,i){this._reactName=a,this._targetInst=n,this.type=s,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var d in t)t.hasOwnProperty(d)&&(a=t[d],this[d]=a?a(l):l[d]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Ss:od,this.isPropagationStopped=od,this}return xe(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ss)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ss)},persist:function(){},isPersistent:Ss}),r}var pa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lo=rt(pa),xs=xe({},pa,{view:0,detail:0}),Ng=rt(xs),ul,xl,wa,In=xe({},xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:io,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wa&&(wa&&t.type==="mousemove"?(ul=t.screenX-wa.screenX,xl=t.screenY-wa.screenY):xl=ul=0,wa=t),ul)},movementY:function(t){return"movementY"in t?t.movementY:xl}}),dd=rt(In),_g=xe({},In,{dataTransfer:0}),Sg=rt(_g),Cg=xe({},xs,{relatedTarget:0}),gl=rt(Cg),zg=xe({},pa,{animationName:0,elapsedTime:0,pseudoElement:0}),Pg=rt(zg),Eg=xe({},pa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Lg=rt(Eg),Tg=xe({},pa,{data:0}),cd=rt(Tg),Mg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$g={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ig(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=$g[t])?!!r[t]:!1}function io(){return Ig}var Rg=xe({},xs,{key:function(t){if(t.key){var r=Mg[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Qs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Dg[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:io,charCode:function(t){return t.type==="keypress"?Qs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ag=rt(Rg),Og=xe({},In,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ud=rt(Og),Fg=xe({},xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:io}),Ug=rt(Fg),Bg=xe({},pa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wg=rt(Bg),Hg=xe({},In,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Vg=rt(Hg),qg=[9,13,27,32],oo=Dt&&"CompositionEvent"in window,Ma=null;Dt&&"documentMode"in document&&(Ma=document.documentMode);var Qg=Dt&&"TextEvent"in window&&!Ma,w0=Dt&&(!oo||Ma&&8<Ma&&11>=Ma),xd=" ",gd=!1;function N0(t,r){switch(t){case"keyup":return qg.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Rr=!1;function Gg(t,r){switch(t){case"compositionend":return _0(r);case"keypress":return r.which!==32?null:(gd=!0,xd);case"textInput":return t=r.data,t===xd&&gd?null:t;default:return null}}function Kg(t,r){if(Rr)return t==="compositionend"||!oo&&N0(t,r)?(t=k0(),qs=no=Kt=null,Rr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return w0&&r.locale!=="ko"?null:r.data;default:return null}}var Jg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pd(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Jg[t.type]:r==="textarea"}function S0(t,r,a,s){a0(s),r=dn(r,"onChange"),0<r.length&&(a=new lo("onChange","change",null,a,s),t.push({event:a,listeners:r}))}var Da=null,qa=null;function Yg(t){R0(t,0)}function Rn(t){var r=Fr(t);if(Jc(r))return t}function Xg(t,r){if(t==="change")return r}var C0=!1;if(Dt){var pl;if(Dt){var ml="oninput"in document;if(!ml){var md=document.createElement("div");md.setAttribute("oninput","return;"),ml=typeof md.oninput=="function"}pl=ml}else pl=!1;C0=pl&&(!document.documentMode||9<document.documentMode)}function hd(){Da&&(Da.detachEvent("onpropertychange",z0),qa=Da=null)}function z0(t){if(t.propertyName==="value"&&Rn(qa)){var r=[];S0(r,qa,t,eo(t)),i0(Yg,r)}}function Zg(t,r,a){t==="focusin"?(hd(),Da=r,qa=a,Da.attachEvent("onpropertychange",z0)):t==="focusout"&&hd()}function ep(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Rn(qa)}function tp(t,r){if(t==="click")return Rn(r)}function rp(t,r){if(t==="input"||t==="change")return Rn(r)}function ap(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var bt=typeof Object.is=="function"?Object.is:ap;function Qa(t,r){if(bt(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),s=Object.keys(r);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var n=a[s];if(!Vl.call(r,n)||!bt(t[n],r[n]))return!1}return!0}function fd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yd(t,r){var a=fd(t);t=0;for(var s;a;){if(a.nodeType===3){if(s=t+a.textContent.length,t<=r&&s>=r)return{node:a,offset:r-t};t=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=fd(a)}}function P0(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?P0(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function E0(){for(var t=window,r=tn();r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=tn(t.document)}return r}function co(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function sp(t){var r=E0(),a=t.focusedElem,s=t.selectionRange;if(r!==a&&a&&a.ownerDocument&&P0(a.ownerDocument.documentElement,a)){if(s!==null&&co(a)){if(r=s.start,t=s.end,t===void 0&&(t=r),"selectionStart"in a)a.selectionStart=r,a.selectionEnd=Math.min(t,a.value.length);else if(t=(r=a.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var n=a.textContent.length,l=Math.min(s.start,n);s=s.end===void 0?l:Math.min(s.end,n),!t.extend&&l>s&&(n=s,s=l,l=n),n=yd(a,l);var i=yd(a,s);n&&i&&(t.rangeCount!==1||t.anchorNode!==n.node||t.anchorOffset!==n.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(r=r.createRange(),r.setStart(n.node,n.offset),t.removeAllRanges(),l>s?(t.addRange(r),t.extend(i.node,i.offset)):(r.setEnd(i.node,i.offset),t.addRange(r)))}}for(r=[],t=a;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<r.length;a++)t=r[a],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var np=Dt&&"documentMode"in document&&11>=document.documentMode,Ar=null,ci=null,$a=null,ui=!1;function bd(t,r,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ui||Ar==null||Ar!==tn(s)||(s=Ar,"selectionStart"in s&&co(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),$a&&Qa($a,s)||($a=s,s=dn(ci,"onSelect"),0<s.length&&(r=new lo("onSelect","select",null,r,a),t.push({event:r,listeners:s}),r.target=Ar)))}function Cs(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Or={animationend:Cs("Animation","AnimationEnd"),animationiteration:Cs("Animation","AnimationIteration"),animationstart:Cs("Animation","AnimationStart"),transitionend:Cs("Transition","TransitionEnd")},hl={},L0={};Dt&&(L0=document.createElement("div").style,"AnimationEvent"in window||(delete Or.animationend.animation,delete Or.animationiteration.animation,delete Or.animationstart.animation),"TransitionEvent"in window||delete Or.transitionend.transition);function An(t){if(hl[t])return hl[t];if(!Or[t])return t;var r=Or[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in L0)return hl[t]=r[a];return t}var T0=An("animationend"),M0=An("animationiteration"),D0=An("animationstart"),$0=An("transitionend"),I0=new Map,vd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cr(t,r){I0.set(t,r),Pr(r,[t])}for(var fl=0;fl<vd.length;fl++){var yl=vd[fl],lp=yl.toLowerCase(),ip=yl[0].toUpperCase()+yl.slice(1);cr(lp,"on"+ip)}cr(T0,"onAnimationEnd");cr(M0,"onAnimationIteration");cr(D0,"onAnimationStart");cr("dblclick","onDoubleClick");cr("focusin","onFocus");cr("focusout","onBlur");cr($0,"onTransitionEnd");ea("onMouseEnter",["mouseout","mouseover"]);ea("onMouseLeave",["mouseout","mouseover"]);ea("onPointerEnter",["pointerout","pointerover"]);ea("onPointerLeave",["pointerout","pointerover"]);Pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ea="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),op=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ea));function jd(t,r,a){var s=t.type||"unknown-event";t.currentTarget=a,lg(s,r,void 0,t),t.currentTarget=null}function R0(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var s=t[a],n=s.event;s=s.listeners;e:{var l=void 0;if(r)for(var i=s.length-1;0<=i;i--){var d=s[i],o=d.instance,c=d.currentTarget;if(d=d.listener,o!==l&&n.isPropagationStopped())break e;jd(n,d,c),l=o}else for(i=0;i<s.length;i++){if(d=s[i],o=d.instance,c=d.currentTarget,d=d.listener,o!==l&&n.isPropagationStopped())break e;jd(n,d,c),l=o}}}if(an)throw t=li,an=!1,li=null,t}function ae(t,r){var a=r[hi];a===void 0&&(a=r[hi]=new Set);var s=t+"__bubble";a.has(s)||(A0(r,t,2,!1),a.add(s))}function bl(t,r,a){var s=0;r&&(s|=4),A0(a,t,s,r)}var zs="_reactListening"+Math.random().toString(36).slice(2);function Ga(t){if(!t[zs]){t[zs]=!0,Vc.forEach(function(a){a!=="selectionchange"&&(op.has(a)||bl(a,!1,t),bl(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[zs]||(r[zs]=!0,bl("selectionchange",!1,r))}}function A0(t,r,a,s){switch(j0(r)){case 1:var n=kg;break;case 4:n=wg;break;default:n=so}a=n.bind(null,r,a,t),n=void 0,!ni||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(n=!0),s?n!==void 0?t.addEventListener(r,a,{capture:!0,passive:n}):t.addEventListener(r,a,!0):n!==void 0?t.addEventListener(r,a,{passive:n}):t.addEventListener(r,a,!1)}function vl(t,r,a,s,n){var l=s;if(!(r&1)&&!(r&2)&&s!==null)e:for(;;){if(s===null)return;var i=s.tag;if(i===3||i===4){var d=s.stateNode.containerInfo;if(d===n||d.nodeType===8&&d.parentNode===n)break;if(i===4)for(i=s.return;i!==null;){var o=i.tag;if((o===3||o===4)&&(o=i.stateNode.containerInfo,o===n||o.nodeType===8&&o.parentNode===n))return;i=i.return}for(;d!==null;){if(i=yr(d),i===null)return;if(o=i.tag,o===5||o===6){s=l=i;continue e}d=d.parentNode}}s=s.return}i0(function(){var c=l,m=eo(a),h=[];e:{var x=I0.get(t);if(x!==void 0){var _=lo,y=t;switch(t){case"keypress":if(Qs(a)===0)break e;case"keydown":case"keyup":_=Ag;break;case"focusin":y="focus",_=gl;break;case"focusout":y="blur",_=gl;break;case"beforeblur":case"afterblur":_=gl;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=dd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=Sg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=Ug;break;case T0:case M0:case D0:_=Pg;break;case $0:_=Wg;break;case"scroll":_=Ng;break;case"wheel":_=Vg;break;case"copy":case"cut":case"paste":_=Lg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=ud}var w=(r&4)!==0,z=!w&&t==="scroll",j=w?x!==null?x+"Capture":null:x;w=[];for(var g=c,u;g!==null;){u=g;var b=u.stateNode;if(u.tag===5&&b!==null&&(u=b,j!==null&&(b=Ba(g,j),b!=null&&w.push(Ka(g,b,u)))),z)break;g=g.return}0<w.length&&(x=new _(x,y,null,a,m),h.push({event:x,listeners:w}))}}if(!(r&7)){e:{if(x=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",x&&a!==ai&&(y=a.relatedTarget||a.fromElement)&&(yr(y)||y[$t]))break e;if((_||x)&&(x=m.window===m?m:(x=m.ownerDocument)?x.defaultView||x.parentWindow:window,_?(y=a.relatedTarget||a.toElement,_=c,y=y?yr(y):null,y!==null&&(z=Er(y),y!==z||y.tag!==5&&y.tag!==6)&&(y=null)):(_=null,y=c),_!==y)){if(w=dd,b="onMouseLeave",j="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(w=ud,b="onPointerLeave",j="onPointerEnter",g="pointer"),z=_==null?x:Fr(_),u=y==null?x:Fr(y),x=new w(b,g+"leave",_,a,m),x.target=z,x.relatedTarget=u,b=null,yr(m)===c&&(w=new w(j,g+"enter",y,a,m),w.target=u,w.relatedTarget=z,b=w),z=b,_&&y)t:{for(w=_,j=y,g=0,u=w;u;u=Dr(u))g++;for(u=0,b=j;b;b=Dr(b))u++;for(;0<g-u;)w=Dr(w),g--;for(;0<u-g;)j=Dr(j),u--;for(;g--;){if(w===j||j!==null&&w===j.alternate)break t;w=Dr(w),j=Dr(j)}w=null}else w=null;_!==null&&kd(h,x,_,w,!1),y!==null&&z!==null&&kd(h,z,y,w,!0)}}e:{if(x=c?Fr(c):window,_=x.nodeName&&x.nodeName.toLowerCase(),_==="select"||_==="input"&&x.type==="file")var f=Xg;else if(pd(x))if(C0)f=rp;else{f=ep;var v=Zg}else(_=x.nodeName)&&_.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(f=tp);if(f&&(f=f(t,c))){S0(h,f,a,m);break e}v&&v(t,x,c),t==="focusout"&&(v=x._wrapperState)&&v.controlled&&x.type==="number"&&Xl(x,"number",x.value)}switch(v=c?Fr(c):window,t){case"focusin":(pd(v)||v.contentEditable==="true")&&(Ar=v,ci=c,$a=null);break;case"focusout":$a=ci=Ar=null;break;case"mousedown":ui=!0;break;case"contextmenu":case"mouseup":case"dragend":ui=!1,bd(h,a,m);break;case"selectionchange":if(np)break;case"keydown":case"keyup":bd(h,a,m)}var N;if(oo)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Rr?N0(t,a)&&(k="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(k="onCompositionStart");k&&(w0&&a.locale!=="ko"&&(Rr||k!=="onCompositionStart"?k==="onCompositionEnd"&&Rr&&(N=k0()):(Kt=m,no="value"in Kt?Kt.value:Kt.textContent,Rr=!0)),v=dn(c,k),0<v.length&&(k=new cd(k,t,null,a,m),h.push({event:k,listeners:v}),N?k.data=N:(N=_0(a),N!==null&&(k.data=N)))),(N=Qg?Gg(t,a):Kg(t,a))&&(c=dn(c,"onBeforeInput"),0<c.length&&(m=new cd("onBeforeInput","beforeinput",null,a,m),h.push({event:m,listeners:c}),m.data=N))}R0(h,r)})}function Ka(t,r,a){return{instance:t,listener:r,currentTarget:a}}function dn(t,r){for(var a=r+"Capture",s=[];t!==null;){var n=t,l=n.stateNode;n.tag===5&&l!==null&&(n=l,l=Ba(t,a),l!=null&&s.unshift(Ka(t,l,n)),l=Ba(t,r),l!=null&&s.push(Ka(t,l,n))),t=t.return}return s}function Dr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function kd(t,r,a,s,n){for(var l=r._reactName,i=[];a!==null&&a!==s;){var d=a,o=d.alternate,c=d.stateNode;if(o!==null&&o===s)break;d.tag===5&&c!==null&&(d=c,n?(o=Ba(a,l),o!=null&&i.unshift(Ka(a,o,d))):n||(o=Ba(a,l),o!=null&&i.push(Ka(a,o,d)))),a=a.return}i.length!==0&&t.push({event:r,listeners:i})}var dp=/\r\n?/g,cp=/\u0000|\uFFFD/g;function wd(t){return(typeof t=="string"?t:""+t).replace(dp,`
`).replace(cp,"")}function Ps(t,r,a){if(r=wd(r),wd(t)!==r&&a)throw Error(I(425))}function cn(){}var xi=null,gi=null;function pi(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var mi=typeof setTimeout=="function"?setTimeout:void 0,up=typeof clearTimeout=="function"?clearTimeout:void 0,Nd=typeof Promise=="function"?Promise:void 0,xp=typeof queueMicrotask=="function"?queueMicrotask:typeof Nd<"u"?function(t){return Nd.resolve(null).then(t).catch(gp)}:mi;function gp(t){setTimeout(function(){throw t})}function jl(t,r){var a=r,s=0;do{var n=a.nextSibling;if(t.removeChild(a),n&&n.nodeType===8)if(a=n.data,a==="/$"){if(s===0){t.removeChild(n),Va(r);return}s--}else a!=="$"&&a!=="$?"&&a!=="$!"||s++;a=n}while(a);Va(r)}function tr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function _d(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}var ma=Math.random().toString(36).slice(2),wt="__reactFiber$"+ma,Ja="__reactProps$"+ma,$t="__reactContainer$"+ma,hi="__reactEvents$"+ma,pp="__reactListeners$"+ma,mp="__reactHandles$"+ma;function yr(t){var r=t[wt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[$t]||a[wt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=_d(t);t!==null;){if(a=t[wt])return a;t=_d(t)}return r}t=a,a=t.parentNode}return null}function gs(t){return t=t[wt]||t[$t],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(I(33))}function On(t){return t[Ja]||null}var fi=[],Ur=-1;function ur(t){return{current:t}}function se(t){0>Ur||(t.current=fi[Ur],fi[Ur]=null,Ur--)}function te(t,r){Ur++,fi[Ur]=t.current,t.current=r}var or={},Me=ur(or),Ue=ur(!1),wr=or;function ta(t,r){var a=t.type.contextTypes;if(!a)return or;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===r)return s.__reactInternalMemoizedMaskedChildContext;var n={},l;for(l in a)n[l]=r[l];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=n),n}function Be(t){return t=t.childContextTypes,t!=null}function un(){se(Ue),se(Me)}function Sd(t,r,a){if(Me.current!==or)throw Error(I(168));te(Me,r),te(Ue,a)}function O0(t,r,a){var s=t.stateNode;if(r=r.childContextTypes,typeof s.getChildContext!="function")return a;s=s.getChildContext();for(var n in s)if(!(n in r))throw Error(I(108,Zx(t)||"Unknown",n));return xe({},a,s)}function xn(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||or,wr=Me.current,te(Me,t),te(Ue,Ue.current),!0}function Cd(t,r,a){var s=t.stateNode;if(!s)throw Error(I(169));a?(t=O0(t,r,wr),s.__reactInternalMemoizedMergedChildContext=t,se(Ue),se(Me),te(Me,t)):se(Ue),te(Ue,a)}var Pt=null,Fn=!1,kl=!1;function F0(t){Pt===null?Pt=[t]:Pt.push(t)}function hp(t){Fn=!0,F0(t)}function xr(){if(!kl&&Pt!==null){kl=!0;var t=0,r=Z;try{var a=Pt;for(Z=1;t<a.length;t++){var s=a[t];do s=s(!0);while(s!==null)}Pt=null,Fn=!1}catch(n){throw Pt!==null&&(Pt=Pt.slice(t+1)),u0(to,xr),n}finally{Z=r,kl=!1}}return null}var Br=[],Wr=0,gn=null,pn=0,st=[],nt=0,Nr=null,Lt=1,Tt="";function hr(t,r){Br[Wr++]=pn,Br[Wr++]=gn,gn=t,pn=r}function U0(t,r,a){st[nt++]=Lt,st[nt++]=Tt,st[nt++]=Nr,Nr=t;var s=Lt;t=Tt;var n=32-ft(s)-1;s&=~(1<<n),a+=1;var l=32-ft(r)+n;if(30<l){var i=n-n%5;l=(s&(1<<i)-1).toString(32),s>>=i,n-=i,Lt=1<<32-ft(r)+n|a<<n|s,Tt=l+t}else Lt=1<<l|a<<n|s,Tt=t}function uo(t){t.return!==null&&(hr(t,1),U0(t,1,0))}function xo(t){for(;t===gn;)gn=Br[--Wr],Br[Wr]=null,pn=Br[--Wr],Br[Wr]=null;for(;t===Nr;)Nr=st[--nt],st[nt]=null,Tt=st[--nt],st[nt]=null,Lt=st[--nt],st[nt]=null}var Je=null,Ke=null,ie=!1,mt=null;function B0(t,r){var a=lt(5,null,null,0);a.elementType="DELETED",a.stateNode=r,a.return=t,r=t.deletions,r===null?(t.deletions=[a],t.flags|=16):r.push(a)}function zd(t,r){switch(t.tag){case 5:var a=t.type;return r=r.nodeType!==1||a.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,Je=t,Ke=tr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,Je=t,Ke=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(a=Nr!==null?{id:Lt,overflow:Tt}:null,t.memoizedState={dehydrated:r,treeContext:a,retryLane:1073741824},a=lt(18,null,null,0),a.stateNode=r,a.return=t,t.child=a,Je=t,Ke=null,!0):!1;default:return!1}}function yi(t){return(t.mode&1)!==0&&(t.flags&128)===0}function bi(t){if(ie){var r=Ke;if(r){var a=r;if(!zd(t,r)){if(yi(t))throw Error(I(418));r=tr(a.nextSibling);var s=Je;r&&zd(t,r)?B0(s,a):(t.flags=t.flags&-4097|2,ie=!1,Je=t)}}else{if(yi(t))throw Error(I(418));t.flags=t.flags&-4097|2,ie=!1,Je=t}}}function Pd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Je=t}function Es(t){if(t!==Je)return!1;if(!ie)return Pd(t),ie=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!pi(t.type,t.memoizedProps)),r&&(r=Ke)){if(yi(t))throw W0(),Error(I(418));for(;r;)B0(t,r),r=tr(r.nextSibling)}if(Pd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(I(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"){if(r===0){Ke=tr(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++}t=t.nextSibling}Ke=null}}else Ke=Je?tr(t.stateNode.nextSibling):null;return!0}function W0(){for(var t=Ke;t;)t=tr(t.nextSibling)}function ra(){Ke=Je=null,ie=!1}function go(t){mt===null?mt=[t]:mt.push(t)}var fp=Ft.ReactCurrentBatchConfig;function Na(t,r,a){if(t=a.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(I(309));var s=a.stateNode}if(!s)throw Error(I(147,t));var n=s,l=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===l?r.ref:(r=function(i){var d=n.refs;i===null?delete d[l]:d[l]=i},r._stringRef=l,r)}if(typeof t!="string")throw Error(I(284));if(!a._owner)throw Error(I(290,t))}return t}function Ls(t,r){throw t=Object.prototype.toString.call(r),Error(I(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function Ed(t){var r=t._init;return r(t._payload)}function H0(t){function r(j,g){if(t){var u=j.deletions;u===null?(j.deletions=[g],j.flags|=16):u.push(g)}}function a(j,g){if(!t)return null;for(;g!==null;)r(j,g),g=g.sibling;return null}function s(j,g){for(j=new Map;g!==null;)g.key!==null?j.set(g.key,g):j.set(g.index,g),g=g.sibling;return j}function n(j,g){return j=nr(j,g),j.index=0,j.sibling=null,j}function l(j,g,u){return j.index=u,t?(u=j.alternate,u!==null?(u=u.index,u<g?(j.flags|=2,g):u):(j.flags|=2,g)):(j.flags|=1048576,g)}function i(j){return t&&j.alternate===null&&(j.flags|=2),j}function d(j,g,u,b){return g===null||g.tag!==6?(g=Pl(u,j.mode,b),g.return=j,g):(g=n(g,u),g.return=j,g)}function o(j,g,u,b){var f=u.type;return f===Ir?m(j,g,u.props.children,b,u.key):g!==null&&(g.elementType===f||typeof f=="object"&&f!==null&&f.$$typeof===Vt&&Ed(f)===g.type)?(b=n(g,u.props),b.ref=Na(j,g,u),b.return=j,b):(b=en(u.type,u.key,u.props,null,j.mode,b),b.ref=Na(j,g,u),b.return=j,b)}function c(j,g,u,b){return g===null||g.tag!==4||g.stateNode.containerInfo!==u.containerInfo||g.stateNode.implementation!==u.implementation?(g=El(u,j.mode,b),g.return=j,g):(g=n(g,u.children||[]),g.return=j,g)}function m(j,g,u,b,f){return g===null||g.tag!==7?(g=kr(u,j.mode,b,f),g.return=j,g):(g=n(g,u),g.return=j,g)}function h(j,g,u){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Pl(""+g,j.mode,u),g.return=j,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case vs:return u=en(g.type,g.key,g.props,null,j.mode,u),u.ref=Na(j,null,g),u.return=j,u;case $r:return g=El(g,j.mode,u),g.return=j,g;case Vt:var b=g._init;return h(j,b(g._payload),u)}if(za(g)||ba(g))return g=kr(g,j.mode,u,null),g.return=j,g;Ls(j,g)}return null}function x(j,g,u,b){var f=g!==null?g.key:null;if(typeof u=="string"&&u!==""||typeof u=="number")return f!==null?null:d(j,g,""+u,b);if(typeof u=="object"&&u!==null){switch(u.$$typeof){case vs:return u.key===f?o(j,g,u,b):null;case $r:return u.key===f?c(j,g,u,b):null;case Vt:return f=u._init,x(j,g,f(u._payload),b)}if(za(u)||ba(u))return f!==null?null:m(j,g,u,b,null);Ls(j,u)}return null}function _(j,g,u,b,f){if(typeof b=="string"&&b!==""||typeof b=="number")return j=j.get(u)||null,d(g,j,""+b,f);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case vs:return j=j.get(b.key===null?u:b.key)||null,o(g,j,b,f);case $r:return j=j.get(b.key===null?u:b.key)||null,c(g,j,b,f);case Vt:var v=b._init;return _(j,g,u,v(b._payload),f)}if(za(b)||ba(b))return j=j.get(u)||null,m(g,j,b,f,null);Ls(g,b)}return null}function y(j,g,u,b){for(var f=null,v=null,N=g,k=g=0,E=null;N!==null&&k<u.length;k++){N.index>k?(E=N,N=null):E=N.sibling;var S=x(j,N,u[k],b);if(S===null){N===null&&(N=E);break}t&&N&&S.alternate===null&&r(j,N),g=l(S,g,k),v===null?f=S:v.sibling=S,v=S,N=E}if(k===u.length)return a(j,N),ie&&hr(j,k),f;if(N===null){for(;k<u.length;k++)N=h(j,u[k],b),N!==null&&(g=l(N,g,k),v===null?f=N:v.sibling=N,v=N);return ie&&hr(j,k),f}for(N=s(j,N);k<u.length;k++)E=_(N,j,k,u[k],b),E!==null&&(t&&E.alternate!==null&&N.delete(E.key===null?k:E.key),g=l(E,g,k),v===null?f=E:v.sibling=E,v=E);return t&&N.forEach(function(C){return r(j,C)}),ie&&hr(j,k),f}function w(j,g,u,b){var f=ba(u);if(typeof f!="function")throw Error(I(150));if(u=f.call(u),u==null)throw Error(I(151));for(var v=f=null,N=g,k=g=0,E=null,S=u.next();N!==null&&!S.done;k++,S=u.next()){N.index>k?(E=N,N=null):E=N.sibling;var C=x(j,N,S.value,b);if(C===null){N===null&&(N=E);break}t&&N&&C.alternate===null&&r(j,N),g=l(C,g,k),v===null?f=C:v.sibling=C,v=C,N=E}if(S.done)return a(j,N),ie&&hr(j,k),f;if(N===null){for(;!S.done;k++,S=u.next())S=h(j,S.value,b),S!==null&&(g=l(S,g,k),v===null?f=S:v.sibling=S,v=S);return ie&&hr(j,k),f}for(N=s(j,N);!S.done;k++,S=u.next())S=_(N,j,k,S.value,b),S!==null&&(t&&S.alternate!==null&&N.delete(S.key===null?k:S.key),g=l(S,g,k),v===null?f=S:v.sibling=S,v=S);return t&&N.forEach(function(P){return r(j,P)}),ie&&hr(j,k),f}function z(j,g,u,b){if(typeof u=="object"&&u!==null&&u.type===Ir&&u.key===null&&(u=u.props.children),typeof u=="object"&&u!==null){switch(u.$$typeof){case vs:e:{for(var f=u.key,v=g;v!==null;){if(v.key===f){if(f=u.type,f===Ir){if(v.tag===7){a(j,v.sibling),g=n(v,u.props.children),g.return=j,j=g;break e}}else if(v.elementType===f||typeof f=="object"&&f!==null&&f.$$typeof===Vt&&Ed(f)===v.type){a(j,v.sibling),g=n(v,u.props),g.ref=Na(j,v,u),g.return=j,j=g;break e}a(j,v);break}else r(j,v);v=v.sibling}u.type===Ir?(g=kr(u.props.children,j.mode,b,u.key),g.return=j,j=g):(b=en(u.type,u.key,u.props,null,j.mode,b),b.ref=Na(j,g,u),b.return=j,j=b)}return i(j);case $r:e:{for(v=u.key;g!==null;){if(g.key===v)if(g.tag===4&&g.stateNode.containerInfo===u.containerInfo&&g.stateNode.implementation===u.implementation){a(j,g.sibling),g=n(g,u.children||[]),g.return=j,j=g;break e}else{a(j,g);break}else r(j,g);g=g.sibling}g=El(u,j.mode,b),g.return=j,j=g}return i(j);case Vt:return v=u._init,z(j,g,v(u._payload),b)}if(za(u))return y(j,g,u,b);if(ba(u))return w(j,g,u,b);Ls(j,u)}return typeof u=="string"&&u!==""||typeof u=="number"?(u=""+u,g!==null&&g.tag===6?(a(j,g.sibling),g=n(g,u),g.return=j,j=g):(a(j,g),g=Pl(u,j.mode,b),g.return=j,j=g),i(j)):a(j,g)}return z}var aa=H0(!0),V0=H0(!1),mn=ur(null),hn=null,Hr=null,po=null;function mo(){po=Hr=hn=null}function ho(t){var r=mn.current;se(mn),t._currentValue=r}function vi(t,r,a){for(;t!==null;){var s=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,s!==null&&(s.childLanes|=r)):s!==null&&(s.childLanes&r)!==r&&(s.childLanes|=r),t===a)break;t=t.return}}function Yr(t,r){hn=t,po=Hr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(Fe=!0),t.firstContext=null)}function dt(t){var r=t._currentValue;if(po!==t)if(t={context:t,memoizedValue:r,next:null},Hr===null){if(hn===null)throw Error(I(308));Hr=t,hn.dependencies={lanes:0,firstContext:t}}else Hr=Hr.next=t;return r}var br=null;function fo(t){br===null?br=[t]:br.push(t)}function q0(t,r,a,s){var n=r.interleaved;return n===null?(a.next=a,fo(r)):(a.next=n.next,n.next=a),r.interleaved=a,It(t,s)}function It(t,r){t.lanes|=r;var a=t.alternate;for(a!==null&&(a.lanes|=r),a=t,t=t.return;t!==null;)t.childLanes|=r,a=t.alternate,a!==null&&(a.childLanes|=r),a=t,t=t.return;return a.tag===3?a.stateNode:null}var qt=!1;function yo(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Q0(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Mt(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function rr(t,r,a){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,J&2){var n=s.pending;return n===null?r.next=r:(r.next=n.next,n.next=r),s.pending=r,It(t,a)}return n=s.interleaved,n===null?(r.next=r,fo(s)):(r.next=n.next,n.next=r),s.interleaved=r,It(t,a)}function Gs(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194240)!==0)){var s=r.lanes;s&=t.pendingLanes,a|=s,r.lanes=a,ro(t,a)}}function Ld(t,r){var a=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var n=null,l=null;if(a=a.firstBaseUpdate,a!==null){do{var i={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};l===null?n=l=i:l=l.next=i,a=a.next}while(a!==null);l===null?n=l=r:l=l.next=r}else n=l=r;a={baseState:s.baseState,firstBaseUpdate:n,lastBaseUpdate:l,shared:s.shared,effects:s.effects},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}function fn(t,r,a,s){var n=t.updateQueue;qt=!1;var l=n.firstBaseUpdate,i=n.lastBaseUpdate,d=n.shared.pending;if(d!==null){n.shared.pending=null;var o=d,c=o.next;o.next=null,i===null?l=c:i.next=c,i=o;var m=t.alternate;m!==null&&(m=m.updateQueue,d=m.lastBaseUpdate,d!==i&&(d===null?m.firstBaseUpdate=c:d.next=c,m.lastBaseUpdate=o))}if(l!==null){var h=n.baseState;i=0,m=c=o=null,d=l;do{var x=d.lane,_=d.eventTime;if((s&x)===x){m!==null&&(m=m.next={eventTime:_,lane:0,tag:d.tag,payload:d.payload,callback:d.callback,next:null});e:{var y=t,w=d;switch(x=r,_=a,w.tag){case 1:if(y=w.payload,typeof y=="function"){h=y.call(_,h,x);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,x=typeof y=="function"?y.call(_,h,x):y,x==null)break e;h=xe({},h,x);break e;case 2:qt=!0}}d.callback!==null&&d.lane!==0&&(t.flags|=64,x=n.effects,x===null?n.effects=[d]:x.push(d))}else _={eventTime:_,lane:x,tag:d.tag,payload:d.payload,callback:d.callback,next:null},m===null?(c=m=_,o=h):m=m.next=_,i|=x;if(d=d.next,d===null){if(d=n.shared.pending,d===null)break;x=d,d=x.next,x.next=null,n.lastBaseUpdate=x,n.shared.pending=null}}while(!0);if(m===null&&(o=h),n.baseState=o,n.firstBaseUpdate=c,n.lastBaseUpdate=m,r=n.shared.interleaved,r!==null){n=r;do i|=n.lane,n=n.next;while(n!==r)}else l===null&&(n.shared.lanes=0);Sr|=i,t.lanes=i,t.memoizedState=h}}function Td(t,r,a){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var s=t[r],n=s.callback;if(n!==null){if(s.callback=null,s=a,typeof n!="function")throw Error(I(191,n));n.call(s)}}}var ps={},_t=ur(ps),Ya=ur(ps),Xa=ur(ps);function vr(t){if(t===ps)throw Error(I(174));return t}function bo(t,r){switch(te(Xa,r),te(Ya,t),te(_t,ps),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:ei(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=ei(r,t)}se(_t),te(_t,r)}function sa(){se(_t),se(Ya),se(Xa)}function G0(t){vr(Xa.current);var r=vr(_t.current),a=ei(r,t.type);r!==a&&(te(Ya,t),te(_t,a))}function vo(t){Ya.current===t&&(se(_t),se(Ya))}var de=ur(0);function yn(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var wl=[];function jo(){for(var t=0;t<wl.length;t++)wl[t]._workInProgressVersionPrimary=null;wl.length=0}var Ks=Ft.ReactCurrentDispatcher,Nl=Ft.ReactCurrentBatchConfig,_r=0,ce=null,be=null,je=null,bn=!1,Ia=!1,Za=0,yp=0;function ze(){throw Error(I(321))}function ko(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!bt(t[a],r[a]))return!1;return!0}function wo(t,r,a,s,n,l){if(_r=l,ce=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Ks.current=t===null||t.memoizedState===null?kp:wp,t=a(s,n),Ia){l=0;do{if(Ia=!1,Za=0,25<=l)throw Error(I(301));l+=1,je=be=null,r.updateQueue=null,Ks.current=Np,t=a(s,n)}while(Ia)}if(Ks.current=vn,r=be!==null&&be.next!==null,_r=0,je=be=ce=null,bn=!1,r)throw Error(I(300));return t}function No(){var t=Za!==0;return Za=0,t}function kt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?ce.memoizedState=je=t:je=je.next=t,je}function ct(){if(be===null){var t=ce.alternate;t=t!==null?t.memoizedState:null}else t=be.next;var r=je===null?ce.memoizedState:je.next;if(r!==null)je=r,be=t;else{if(t===null)throw Error(I(310));be=t,t={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},je===null?ce.memoizedState=je=t:je=je.next=t}return je}function es(t,r){return typeof r=="function"?r(t):r}function _l(t){var r=ct(),a=r.queue;if(a===null)throw Error(I(311));a.lastRenderedReducer=t;var s=be,n=s.baseQueue,l=a.pending;if(l!==null){if(n!==null){var i=n.next;n.next=l.next,l.next=i}s.baseQueue=n=l,a.pending=null}if(n!==null){l=n.next,s=s.baseState;var d=i=null,o=null,c=l;do{var m=c.lane;if((_r&m)===m)o!==null&&(o=o.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),s=c.hasEagerState?c.eagerState:t(s,c.action);else{var h={lane:m,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};o===null?(d=o=h,i=s):o=o.next=h,ce.lanes|=m,Sr|=m}c=c.next}while(c!==null&&c!==l);o===null?i=s:o.next=d,bt(s,r.memoizedState)||(Fe=!0),r.memoizedState=s,r.baseState=i,r.baseQueue=o,a.lastRenderedState=s}if(t=a.interleaved,t!==null){n=t;do l=n.lane,ce.lanes|=l,Sr|=l,n=n.next;while(n!==t)}else n===null&&(a.lanes=0);return[r.memoizedState,a.dispatch]}function Sl(t){var r=ct(),a=r.queue;if(a===null)throw Error(I(311));a.lastRenderedReducer=t;var s=a.dispatch,n=a.pending,l=r.memoizedState;if(n!==null){a.pending=null;var i=n=n.next;do l=t(l,i.action),i=i.next;while(i!==n);bt(l,r.memoizedState)||(Fe=!0),r.memoizedState=l,r.baseQueue===null&&(r.baseState=l),a.lastRenderedState=l}return[l,s]}function K0(){}function J0(t,r){var a=ce,s=ct(),n=r(),l=!bt(s.memoizedState,n);if(l&&(s.memoizedState=n,Fe=!0),s=s.queue,_o(Z0.bind(null,a,s,t),[t]),s.getSnapshot!==r||l||je!==null&&je.memoizedState.tag&1){if(a.flags|=2048,ts(9,X0.bind(null,a,s,n,r),void 0,null),ke===null)throw Error(I(349));_r&30||Y0(a,r,n)}return n}function Y0(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=ce.updateQueue,r===null?(r={lastEffect:null,stores:null},ce.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function X0(t,r,a,s){r.value=a,r.getSnapshot=s,eu(r)&&tu(t)}function Z0(t,r,a){return a(function(){eu(r)&&tu(t)})}function eu(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!bt(t,a)}catch{return!0}}function tu(t){var r=It(t,1);r!==null&&yt(r,t,1,-1)}function Md(t){var r=kt();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:t},r.queue=t,t=t.dispatch=jp.bind(null,ce,t),[r.memoizedState,t]}function ts(t,r,a,s){return t={tag:t,create:r,destroy:a,deps:s,next:null},r=ce.updateQueue,r===null?(r={lastEffect:null,stores:null},ce.updateQueue=r,r.lastEffect=t.next=t):(a=r.lastEffect,a===null?r.lastEffect=t.next=t:(s=a.next,a.next=t,t.next=s,r.lastEffect=t)),t}function ru(){return ct().memoizedState}function Js(t,r,a,s){var n=kt();ce.flags|=t,n.memoizedState=ts(1|r,a,void 0,s===void 0?null:s)}function Un(t,r,a,s){var n=ct();s=s===void 0?null:s;var l=void 0;if(be!==null){var i=be.memoizedState;if(l=i.destroy,s!==null&&ko(s,i.deps)){n.memoizedState=ts(r,a,l,s);return}}ce.flags|=t,n.memoizedState=ts(1|r,a,l,s)}function Dd(t,r){return Js(8390656,8,t,r)}function _o(t,r){return Un(2048,8,t,r)}function au(t,r){return Un(4,2,t,r)}function su(t,r){return Un(4,4,t,r)}function nu(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function lu(t,r,a){return a=a!=null?a.concat([t]):null,Un(4,4,nu.bind(null,r,t),a)}function So(){}function iu(t,r){var a=ct();r=r===void 0?null:r;var s=a.memoizedState;return s!==null&&r!==null&&ko(r,s[1])?s[0]:(a.memoizedState=[t,r],t)}function ou(t,r){var a=ct();r=r===void 0?null:r;var s=a.memoizedState;return s!==null&&r!==null&&ko(r,s[1])?s[0]:(t=t(),a.memoizedState=[t,r],t)}function du(t,r,a){return _r&21?(bt(a,r)||(a=p0(),ce.lanes|=a,Sr|=a,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,Fe=!0),t.memoizedState=a)}function bp(t,r){var a=Z;Z=a!==0&&4>a?a:4,t(!0);var s=Nl.transition;Nl.transition={};try{t(!1),r()}finally{Z=a,Nl.transition=s}}function cu(){return ct().memoizedState}function vp(t,r,a){var s=sr(t);if(a={lane:s,action:a,hasEagerState:!1,eagerState:null,next:null},uu(t))xu(r,a);else if(a=q0(t,r,a,s),a!==null){var n=Ie();yt(a,t,s,n),gu(a,r,s)}}function jp(t,r,a){var s=sr(t),n={lane:s,action:a,hasEagerState:!1,eagerState:null,next:null};if(uu(t))xu(r,n);else{var l=t.alternate;if(t.lanes===0&&(l===null||l.lanes===0)&&(l=r.lastRenderedReducer,l!==null))try{var i=r.lastRenderedState,d=l(i,a);if(n.hasEagerState=!0,n.eagerState=d,bt(d,i)){var o=r.interleaved;o===null?(n.next=n,fo(r)):(n.next=o.next,o.next=n),r.interleaved=n;return}}catch{}finally{}a=q0(t,r,n,s),a!==null&&(n=Ie(),yt(a,t,s,n),gu(a,r,s))}}function uu(t){var r=t.alternate;return t===ce||r!==null&&r===ce}function xu(t,r){Ia=bn=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function gu(t,r,a){if(a&4194240){var s=r.lanes;s&=t.pendingLanes,a|=s,r.lanes=a,ro(t,a)}}var vn={readContext:dt,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useInsertionEffect:ze,useLayoutEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useMutableSource:ze,useSyncExternalStore:ze,useId:ze,unstable_isNewReconciler:!1},kp={readContext:dt,useCallback:function(t,r){return kt().memoizedState=[t,r===void 0?null:r],t},useContext:dt,useEffect:Dd,useImperativeHandle:function(t,r,a){return a=a!=null?a.concat([t]):null,Js(4194308,4,nu.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Js(4194308,4,t,r)},useInsertionEffect:function(t,r){return Js(4,2,t,r)},useMemo:function(t,r){var a=kt();return r=r===void 0?null:r,t=t(),a.memoizedState=[t,r],t},useReducer:function(t,r,a){var s=kt();return r=a!==void 0?a(r):r,s.memoizedState=s.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},s.queue=t,t=t.dispatch=vp.bind(null,ce,t),[s.memoizedState,t]},useRef:function(t){var r=kt();return t={current:t},r.memoizedState=t},useState:Md,useDebugValue:So,useDeferredValue:function(t){return kt().memoizedState=t},useTransition:function(){var t=Md(!1),r=t[0];return t=bp.bind(null,t[1]),kt().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,a){var s=ce,n=kt();if(ie){if(a===void 0)throw Error(I(407));a=a()}else{if(a=r(),ke===null)throw Error(I(349));_r&30||Y0(s,r,a)}n.memoizedState=a;var l={value:a,getSnapshot:r};return n.queue=l,Dd(Z0.bind(null,s,l,t),[t]),s.flags|=2048,ts(9,X0.bind(null,s,l,a,r),void 0,null),a},useId:function(){var t=kt(),r=ke.identifierPrefix;if(ie){var a=Tt,s=Lt;a=(s&~(1<<32-ft(s)-1)).toString(32)+a,r=":"+r+"R"+a,a=Za++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=yp++,r=":"+r+"r"+a.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},wp={readContext:dt,useCallback:iu,useContext:dt,useEffect:_o,useImperativeHandle:lu,useInsertionEffect:au,useLayoutEffect:su,useMemo:ou,useReducer:_l,useRef:ru,useState:function(){return _l(es)},useDebugValue:So,useDeferredValue:function(t){var r=ct();return du(r,be.memoizedState,t)},useTransition:function(){var t=_l(es)[0],r=ct().memoizedState;return[t,r]},useMutableSource:K0,useSyncExternalStore:J0,useId:cu,unstable_isNewReconciler:!1},Np={readContext:dt,useCallback:iu,useContext:dt,useEffect:_o,useImperativeHandle:lu,useInsertionEffect:au,useLayoutEffect:su,useMemo:ou,useReducer:Sl,useRef:ru,useState:function(){return Sl(es)},useDebugValue:So,useDeferredValue:function(t){var r=ct();return be===null?r.memoizedState=t:du(r,be.memoizedState,t)},useTransition:function(){var t=Sl(es)[0],r=ct().memoizedState;return[t,r]},useMutableSource:K0,useSyncExternalStore:J0,useId:cu,unstable_isNewReconciler:!1};function gt(t,r){if(t&&t.defaultProps){r=xe({},r),t=t.defaultProps;for(var a in t)r[a]===void 0&&(r[a]=t[a]);return r}return r}function ji(t,r,a,s){r=t.memoizedState,a=a(s,r),a=a==null?r:xe({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Bn={isMounted:function(t){return(t=t._reactInternals)?Er(t)===t:!1},enqueueSetState:function(t,r,a){t=t._reactInternals;var s=Ie(),n=sr(t),l=Mt(s,n);l.payload=r,a!=null&&(l.callback=a),r=rr(t,l,n),r!==null&&(yt(r,t,n,s),Gs(r,t,n))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var s=Ie(),n=sr(t),l=Mt(s,n);l.tag=1,l.payload=r,a!=null&&(l.callback=a),r=rr(t,l,n),r!==null&&(yt(r,t,n,s),Gs(r,t,n))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=Ie(),s=sr(t),n=Mt(a,s);n.tag=2,r!=null&&(n.callback=r),r=rr(t,n,s),r!==null&&(yt(r,t,s,a),Gs(r,t,s))}};function $d(t,r,a,s,n,l,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,l,i):r.prototype&&r.prototype.isPureReactComponent?!Qa(a,s)||!Qa(n,l):!0}function pu(t,r,a){var s=!1,n=or,l=r.contextType;return typeof l=="object"&&l!==null?l=dt(l):(n=Be(r)?wr:Me.current,s=r.contextTypes,l=(s=s!=null)?ta(t,n):or),r=new r(a,l),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Bn,t.stateNode=r,r._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=l),r}function Id(t,r,a,s){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,s),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,s),r.state!==t&&Bn.enqueueReplaceState(r,r.state,null)}function ki(t,r,a,s){var n=t.stateNode;n.props=a,n.state=t.memoizedState,n.refs={},yo(t);var l=r.contextType;typeof l=="object"&&l!==null?n.context=dt(l):(l=Be(r)?wr:Me.current,n.context=ta(t,l)),n.state=t.memoizedState,l=r.getDerivedStateFromProps,typeof l=="function"&&(ji(t,r,l,a),n.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(r=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),r!==n.state&&Bn.enqueueReplaceState(n,n.state,null),fn(t,a,n,s),n.state=t.memoizedState),typeof n.componentDidMount=="function"&&(t.flags|=4194308)}function na(t,r){try{var a="",s=r;do a+=Xx(s),s=s.return;while(s);var n=a}catch(l){n=`
Error generating stack: `+l.message+`
`+l.stack}return{value:t,source:r,stack:n,digest:null}}function Cl(t,r,a){return{value:t,source:null,stack:a!=null?a:null,digest:r!=null?r:null}}function wi(t,r){try{console.error(r.value)}catch(a){setTimeout(function(){throw a})}}var _p=typeof WeakMap=="function"?WeakMap:Map;function mu(t,r,a){a=Mt(-1,a),a.tag=3,a.payload={element:null};var s=r.value;return a.callback=function(){kn||(kn=!0,Mi=s),wi(t,r)},a}function hu(t,r,a){a=Mt(-1,a),a.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var n=r.value;a.payload=function(){return s(n)},a.callback=function(){wi(t,r)}}var l=t.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(a.callback=function(){wi(t,r),typeof s!="function"&&(ar===null?ar=new Set([this]):ar.add(this));var i=r.stack;this.componentDidCatch(r.value,{componentStack:i!==null?i:""})}),a}function Rd(t,r,a){var s=t.pingCache;if(s===null){s=t.pingCache=new _p;var n=new Set;s.set(r,n)}else n=s.get(r),n===void 0&&(n=new Set,s.set(r,n));n.has(a)||(n.add(a),t=Op.bind(null,t,r,a),r.then(t,t))}function Ad(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function Od(t,r,a,s,n){return t.mode&1?(t.flags|=65536,t.lanes=n,t):(t===r?t.flags|=65536:(t.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(r=Mt(-1,1),r.tag=2,rr(a,r,1))),a.lanes|=1),t)}var Sp=Ft.ReactCurrentOwner,Fe=!1;function $e(t,r,a,s){r.child=t===null?V0(r,null,a,s):aa(r,t.child,a,s)}function Fd(t,r,a,s,n){a=a.render;var l=r.ref;return Yr(r,n),s=wo(t,r,a,s,l,n),a=No(),t!==null&&!Fe?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~n,Rt(t,r,n)):(ie&&a&&uo(r),r.flags|=1,$e(t,r,s,n),r.child)}function Ud(t,r,a,s,n){if(t===null){var l=a.type;return typeof l=="function"&&!Do(l)&&l.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(r.tag=15,r.type=l,fu(t,r,l,s,n)):(t=en(a.type,null,s,r,r.mode,n),t.ref=r.ref,t.return=r,r.child=t)}if(l=t.child,!(t.lanes&n)){var i=l.memoizedProps;if(a=a.compare,a=a!==null?a:Qa,a(i,s)&&t.ref===r.ref)return Rt(t,r,n)}return r.flags|=1,t=nr(l,s),t.ref=r.ref,t.return=r,r.child=t}function fu(t,r,a,s,n){if(t!==null){var l=t.memoizedProps;if(Qa(l,s)&&t.ref===r.ref)if(Fe=!1,r.pendingProps=s=l,(t.lanes&n)!==0)t.flags&131072&&(Fe=!0);else return r.lanes=t.lanes,Rt(t,r,n)}return Ni(t,r,a,s,n)}function yu(t,r,a){var s=r.pendingProps,n=s.children,l=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},te(qr,Ge),Ge|=a;else{if(!(a&1073741824))return t=l!==null?l.baseLanes|a:a,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,te(qr,Ge),Ge|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=l!==null?l.baseLanes:a,te(qr,Ge),Ge|=s}else l!==null?(s=l.baseLanes|a,r.memoizedState=null):s=a,te(qr,Ge),Ge|=s;return $e(t,r,n,a),r.child}function bu(t,r){var a=r.ref;(t===null&&a!==null||t!==null&&t.ref!==a)&&(r.flags|=512,r.flags|=2097152)}function Ni(t,r,a,s,n){var l=Be(a)?wr:Me.current;return l=ta(r,l),Yr(r,n),a=wo(t,r,a,s,l,n),s=No(),t!==null&&!Fe?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~n,Rt(t,r,n)):(ie&&s&&uo(r),r.flags|=1,$e(t,r,a,n),r.child)}function Bd(t,r,a,s,n){if(Be(a)){var l=!0;xn(r)}else l=!1;if(Yr(r,n),r.stateNode===null)Ys(t,r),pu(r,a,s),ki(r,a,s,n),s=!0;else if(t===null){var i=r.stateNode,d=r.memoizedProps;i.props=d;var o=i.context,c=a.contextType;typeof c=="object"&&c!==null?c=dt(c):(c=Be(a)?wr:Me.current,c=ta(r,c));var m=a.getDerivedStateFromProps,h=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(d!==s||o!==c)&&Id(r,i,s,c),qt=!1;var x=r.memoizedState;i.state=x,fn(r,s,i,n),o=r.memoizedState,d!==s||x!==o||Ue.current||qt?(typeof m=="function"&&(ji(r,a,m,s),o=r.memoizedState),(d=qt||$d(r,a,d,s,x,o,c))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(r.flags|=4194308)):(typeof i.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=s,r.memoizedState=o),i.props=s,i.state=o,i.context=c,s=d):(typeof i.componentDidMount=="function"&&(r.flags|=4194308),s=!1)}else{i=r.stateNode,Q0(t,r),d=r.memoizedProps,c=r.type===r.elementType?d:gt(r.type,d),i.props=c,h=r.pendingProps,x=i.context,o=a.contextType,typeof o=="object"&&o!==null?o=dt(o):(o=Be(a)?wr:Me.current,o=ta(r,o));var _=a.getDerivedStateFromProps;(m=typeof _=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(d!==h||x!==o)&&Id(r,i,s,o),qt=!1,x=r.memoizedState,i.state=x,fn(r,s,i,n);var y=r.memoizedState;d!==h||x!==y||Ue.current||qt?(typeof _=="function"&&(ji(r,a,_,s),y=r.memoizedState),(c=qt||$d(r,a,c,s,x,y,o)||!1)?(m||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,y,o),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,y,o)),typeof i.componentDidUpdate=="function"&&(r.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof i.componentDidUpdate!="function"||d===t.memoizedProps&&x===t.memoizedState||(r.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||d===t.memoizedProps&&x===t.memoizedState||(r.flags|=1024),r.memoizedProps=s,r.memoizedState=y),i.props=s,i.state=y,i.context=o,s=c):(typeof i.componentDidUpdate!="function"||d===t.memoizedProps&&x===t.memoizedState||(r.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||d===t.memoizedProps&&x===t.memoizedState||(r.flags|=1024),s=!1)}return _i(t,r,a,s,l,n)}function _i(t,r,a,s,n,l){bu(t,r);var i=(r.flags&128)!==0;if(!s&&!i)return n&&Cd(r,a,!1),Rt(t,r,l);s=r.stateNode,Sp.current=r;var d=i&&typeof a.getDerivedStateFromError!="function"?null:s.render();return r.flags|=1,t!==null&&i?(r.child=aa(r,t.child,null,l),r.child=aa(r,null,d,l)):$e(t,r,d,l),r.memoizedState=s.state,n&&Cd(r,a,!0),r.child}function vu(t){var r=t.stateNode;r.pendingContext?Sd(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Sd(t,r.context,!1),bo(t,r.containerInfo)}function Wd(t,r,a,s,n){return ra(),go(n),r.flags|=256,$e(t,r,a,s),r.child}var Si={dehydrated:null,treeContext:null,retryLane:0};function Ci(t){return{baseLanes:t,cachePool:null,transitions:null}}function ju(t,r,a){var s=r.pendingProps,n=de.current,l=!1,i=(r.flags&128)!==0,d;if((d=i)||(d=t!==null&&t.memoizedState===null?!1:(n&2)!==0),d?(l=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(n|=1),te(de,n&1),t===null)return bi(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(i=s.children,t=s.fallback,l?(s=r.mode,l=r.child,i={mode:"hidden",children:i},!(s&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=Vn(i,s,0,null),t=kr(t,s,a,null),l.return=r,t.return=r,l.sibling=t,r.child=l,r.child.memoizedState=Ci(a),r.memoizedState=Si,t):Co(r,i));if(n=t.memoizedState,n!==null&&(d=n.dehydrated,d!==null))return Cp(t,r,i,s,d,n,a);if(l){l=s.fallback,i=r.mode,n=t.child,d=n.sibling;var o={mode:"hidden",children:s.children};return!(i&1)&&r.child!==n?(s=r.child,s.childLanes=0,s.pendingProps=o,r.deletions=null):(s=nr(n,o),s.subtreeFlags=n.subtreeFlags&14680064),d!==null?l=nr(d,l):(l=kr(l,i,a,null),l.flags|=2),l.return=r,s.return=r,s.sibling=l,r.child=s,s=l,l=r.child,i=t.child.memoizedState,i=i===null?Ci(a):{baseLanes:i.baseLanes|a,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=t.childLanes&~a,r.memoizedState=Si,s}return l=t.child,t=l.sibling,s=nr(l,{mode:"visible",children:s.children}),!(r.mode&1)&&(s.lanes=a),s.return=r,s.sibling=null,t!==null&&(a=r.deletions,a===null?(r.deletions=[t],r.flags|=16):a.push(t)),r.child=s,r.memoizedState=null,s}function Co(t,r){return r=Vn({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function Ts(t,r,a,s){return s!==null&&go(s),aa(r,t.child,null,a),t=Co(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Cp(t,r,a,s,n,l,i){if(a)return r.flags&256?(r.flags&=-257,s=Cl(Error(I(422))),Ts(t,r,i,s)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(l=s.fallback,n=r.mode,s=Vn({mode:"visible",children:s.children},n,0,null),l=kr(l,n,i,null),l.flags|=2,s.return=r,l.return=r,s.sibling=l,r.child=s,r.mode&1&&aa(r,t.child,null,i),r.child.memoizedState=Ci(i),r.memoizedState=Si,l);if(!(r.mode&1))return Ts(t,r,i,null);if(n.data==="$!"){if(s=n.nextSibling&&n.nextSibling.dataset,s)var d=s.dgst;return s=d,l=Error(I(419)),s=Cl(l,s,void 0),Ts(t,r,i,s)}if(d=(i&t.childLanes)!==0,Fe||d){if(s=ke,s!==null){switch(i&-i){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(s.suspendedLanes|i)?0:n,n!==0&&n!==l.retryLane&&(l.retryLane=n,It(t,n),yt(s,t,n,-1))}return Mo(),s=Cl(Error(I(421))),Ts(t,r,i,s)}return n.data==="$?"?(r.flags|=128,r.child=t.child,r=Fp.bind(null,t),n._reactRetry=r,null):(t=l.treeContext,Ke=tr(n.nextSibling),Je=r,ie=!0,mt=null,t!==null&&(st[nt++]=Lt,st[nt++]=Tt,st[nt++]=Nr,Lt=t.id,Tt=t.overflow,Nr=r),r=Co(r,s.children),r.flags|=4096,r)}function Hd(t,r,a){t.lanes|=r;var s=t.alternate;s!==null&&(s.lanes|=r),vi(t.return,r,a)}function zl(t,r,a,s,n){var l=t.memoizedState;l===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:n}:(l.isBackwards=r,l.rendering=null,l.renderingStartTime=0,l.last=s,l.tail=a,l.tailMode=n)}function ku(t,r,a){var s=r.pendingProps,n=s.revealOrder,l=s.tail;if($e(t,r,s.children,a),s=de.current,s&2)s=s&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Hd(t,a,r);else if(t.tag===19)Hd(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(te(de,s),!(r.mode&1))r.memoizedState=null;else switch(n){case"forwards":for(a=r.child,n=null;a!==null;)t=a.alternate,t!==null&&yn(t)===null&&(n=a),a=a.sibling;a=n,a===null?(n=r.child,r.child=null):(n=a.sibling,a.sibling=null),zl(r,!1,n,a,l);break;case"backwards":for(a=null,n=r.child,r.child=null;n!==null;){if(t=n.alternate,t!==null&&yn(t)===null){r.child=n;break}t=n.sibling,n.sibling=a,a=n,n=t}zl(r,!0,a,null,l);break;case"together":zl(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Ys(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function Rt(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Sr|=r.lanes,!(a&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(I(153));if(r.child!==null){for(t=r.child,a=nr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=nr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function zp(t,r,a){switch(r.tag){case 3:vu(r),ra();break;case 5:G0(r);break;case 1:Be(r.type)&&xn(r);break;case 4:bo(r,r.stateNode.containerInfo);break;case 10:var s=r.type._context,n=r.memoizedProps.value;te(mn,s._currentValue),s._currentValue=n;break;case 13:if(s=r.memoizedState,s!==null)return s.dehydrated!==null?(te(de,de.current&1),r.flags|=128,null):a&r.child.childLanes?ju(t,r,a):(te(de,de.current&1),t=Rt(t,r,a),t!==null?t.sibling:null);te(de,de.current&1);break;case 19:if(s=(a&r.childLanes)!==0,t.flags&128){if(s)return ku(t,r,a);r.flags|=128}if(n=r.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),te(de,de.current),s)break;return null;case 22:case 23:return r.lanes=0,yu(t,r,a)}return Rt(t,r,a)}var wu,zi,Nu,_u;wu=function(t,r){for(var a=r.child;a!==null;){if(a.tag===5||a.tag===6)t.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};zi=function(){};Nu=function(t,r,a,s){var n=t.memoizedProps;if(n!==s){t=r.stateNode,vr(_t.current);var l=null;switch(a){case"input":n=Jl(t,n),s=Jl(t,s),l=[];break;case"select":n=xe({},n,{value:void 0}),s=xe({},s,{value:void 0}),l=[];break;case"textarea":n=Zl(t,n),s=Zl(t,s),l=[];break;default:typeof n.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=cn)}ti(a,s);var i;a=null;for(c in n)if(!s.hasOwnProperty(c)&&n.hasOwnProperty(c)&&n[c]!=null)if(c==="style"){var d=n[c];for(i in d)d.hasOwnProperty(i)&&(a||(a={}),a[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Fa.hasOwnProperty(c)?l||(l=[]):(l=l||[]).push(c,null));for(c in s){var o=s[c];if(d=n!=null?n[c]:void 0,s.hasOwnProperty(c)&&o!==d&&(o!=null||d!=null))if(c==="style")if(d){for(i in d)!d.hasOwnProperty(i)||o&&o.hasOwnProperty(i)||(a||(a={}),a[i]="");for(i in o)o.hasOwnProperty(i)&&d[i]!==o[i]&&(a||(a={}),a[i]=o[i])}else a||(l||(l=[]),l.push(c,a)),a=o;else c==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,d=d?d.__html:void 0,o!=null&&d!==o&&(l=l||[]).push(c,o)):c==="children"?typeof o!="string"&&typeof o!="number"||(l=l||[]).push(c,""+o):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Fa.hasOwnProperty(c)?(o!=null&&c==="onScroll"&&ae("scroll",t),l||d===o||(l=[])):(l=l||[]).push(c,o))}a&&(l=l||[]).push("style",a);var c=l;(r.updateQueue=c)&&(r.flags|=4)}};_u=function(t,r,a,s){a!==s&&(r.flags|=4)};function _a(t,r){if(!ie)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function Pe(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,s=0;if(r)for(var n=t.child;n!==null;)a|=n.lanes|n.childLanes,s|=n.subtreeFlags&14680064,s|=n.flags&14680064,n.return=t,n=n.sibling;else for(n=t.child;n!==null;)a|=n.lanes|n.childLanes,s|=n.subtreeFlags,s|=n.flags,n.return=t,n=n.sibling;return t.subtreeFlags|=s,t.childLanes=a,r}function Pp(t,r,a){var s=r.pendingProps;switch(xo(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(r),null;case 1:return Be(r.type)&&un(),Pe(r),null;case 3:return s=r.stateNode,sa(),se(Ue),se(Me),jo(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Es(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,mt!==null&&(Ii(mt),mt=null))),zi(t,r),Pe(r),null;case 5:vo(r);var n=vr(Xa.current);if(a=r.type,t!==null&&r.stateNode!=null)Nu(t,r,a,s,n),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!s){if(r.stateNode===null)throw Error(I(166));return Pe(r),null}if(t=vr(_t.current),Es(r)){s=r.stateNode,a=r.type;var l=r.memoizedProps;switch(s[wt]=r,s[Ja]=l,t=(r.mode&1)!==0,a){case"dialog":ae("cancel",s),ae("close",s);break;case"iframe":case"object":case"embed":ae("load",s);break;case"video":case"audio":for(n=0;n<Ea.length;n++)ae(Ea[n],s);break;case"source":ae("error",s);break;case"img":case"image":case"link":ae("error",s),ae("load",s);break;case"details":ae("toggle",s);break;case"input":Zo(s,l),ae("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!l.multiple},ae("invalid",s);break;case"textarea":td(s,l),ae("invalid",s)}ti(a,l),n=null;for(var i in l)if(l.hasOwnProperty(i)){var d=l[i];i==="children"?typeof d=="string"?s.textContent!==d&&(l.suppressHydrationWarning!==!0&&Ps(s.textContent,d,t),n=["children",d]):typeof d=="number"&&s.textContent!==""+d&&(l.suppressHydrationWarning!==!0&&Ps(s.textContent,d,t),n=["children",""+d]):Fa.hasOwnProperty(i)&&d!=null&&i==="onScroll"&&ae("scroll",s)}switch(a){case"input":js(s),ed(s,l,!0);break;case"textarea":js(s),rd(s);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(s.onclick=cn)}s=n,r.updateQueue=s,s!==null&&(r.flags|=4)}else{i=n.nodeType===9?n:n.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Zc(a)),t==="http://www.w3.org/1999/xhtml"?a==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=i.createElement(a,{is:s.is}):(t=i.createElement(a),a==="select"&&(i=t,s.multiple?i.multiple=!0:s.size&&(i.size=s.size))):t=i.createElementNS(t,a),t[wt]=r,t[Ja]=s,wu(t,r,!1,!1),r.stateNode=t;e:{switch(i=ri(a,s),a){case"dialog":ae("cancel",t),ae("close",t),n=s;break;case"iframe":case"object":case"embed":ae("load",t),n=s;break;case"video":case"audio":for(n=0;n<Ea.length;n++)ae(Ea[n],t);n=s;break;case"source":ae("error",t),n=s;break;case"img":case"image":case"link":ae("error",t),ae("load",t),n=s;break;case"details":ae("toggle",t),n=s;break;case"input":Zo(t,s),n=Jl(t,s),ae("invalid",t);break;case"option":n=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},n=xe({},s,{value:void 0}),ae("invalid",t);break;case"textarea":td(t,s),n=Zl(t,s),ae("invalid",t);break;default:n=s}ti(a,n),d=n;for(l in d)if(d.hasOwnProperty(l)){var o=d[l];l==="style"?r0(t,o):l==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&e0(t,o)):l==="children"?typeof o=="string"?(a!=="textarea"||o!=="")&&Ua(t,o):typeof o=="number"&&Ua(t,""+o):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Fa.hasOwnProperty(l)?o!=null&&l==="onScroll"&&ae("scroll",t):o!=null&&Ji(t,l,o,i))}switch(a){case"input":js(t),ed(t,s,!1);break;case"textarea":js(t),rd(t);break;case"option":s.value!=null&&t.setAttribute("value",""+ir(s.value));break;case"select":t.multiple=!!s.multiple,l=s.value,l!=null?Qr(t,!!s.multiple,l,!1):s.defaultValue!=null&&Qr(t,!!s.multiple,s.defaultValue,!0);break;default:typeof n.onClick=="function"&&(t.onclick=cn)}switch(a){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Pe(r),null;case 6:if(t&&r.stateNode!=null)_u(t,r,t.memoizedProps,s);else{if(typeof s!="string"&&r.stateNode===null)throw Error(I(166));if(a=vr(Xa.current),vr(_t.current),Es(r)){if(s=r.stateNode,a=r.memoizedProps,s[wt]=r,(l=s.nodeValue!==a)&&(t=Je,t!==null))switch(t.tag){case 3:Ps(s.nodeValue,a,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ps(s.nodeValue,a,(t.mode&1)!==0)}l&&(r.flags|=4)}else s=(a.nodeType===9?a:a.ownerDocument).createTextNode(s),s[wt]=r,r.stateNode=s}return Pe(r),null;case 13:if(se(de),s=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ie&&Ke!==null&&r.mode&1&&!(r.flags&128))W0(),ra(),r.flags|=98560,l=!1;else if(l=Es(r),s!==null&&s.dehydrated!==null){if(t===null){if(!l)throw Error(I(318));if(l=r.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(I(317));l[wt]=r}else ra(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Pe(r),l=!1}else mt!==null&&(Ii(mt),mt=null),l=!0;if(!l)return r.flags&65536?r:null}return r.flags&128?(r.lanes=a,r):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(r.child.flags|=8192,r.mode&1&&(t===null||de.current&1?ve===0&&(ve=3):Mo())),r.updateQueue!==null&&(r.flags|=4),Pe(r),null);case 4:return sa(),zi(t,r),t===null&&Ga(r.stateNode.containerInfo),Pe(r),null;case 10:return ho(r.type._context),Pe(r),null;case 17:return Be(r.type)&&un(),Pe(r),null;case 19:if(se(de),l=r.memoizedState,l===null)return Pe(r),null;if(s=(r.flags&128)!==0,i=l.rendering,i===null)if(s)_a(l,!1);else{if(ve!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(i=yn(t),i!==null){for(r.flags|=128,_a(l,!1),s=i.updateQueue,s!==null&&(r.updateQueue=s,r.flags|=4),r.subtreeFlags=0,s=a,a=r.child;a!==null;)l=a,t=s,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=t,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,t=i.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),a=a.sibling;return te(de,de.current&1|2),r.child}t=t.sibling}l.tail!==null&&he()>la&&(r.flags|=128,s=!0,_a(l,!1),r.lanes=4194304)}else{if(!s)if(t=yn(i),t!==null){if(r.flags|=128,s=!0,a=t.updateQueue,a!==null&&(r.updateQueue=a,r.flags|=4),_a(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!ie)return Pe(r),null}else 2*he()-l.renderingStartTime>la&&a!==1073741824&&(r.flags|=128,s=!0,_a(l,!1),r.lanes=4194304);l.isBackwards?(i.sibling=r.child,r.child=i):(a=l.last,a!==null?a.sibling=i:r.child=i,l.last=i)}return l.tail!==null?(r=l.tail,l.rendering=r,l.tail=r.sibling,l.renderingStartTime=he(),r.sibling=null,a=de.current,te(de,s?a&1|2:a&1),r):(Pe(r),null);case 22:case 23:return To(),s=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(r.flags|=8192),s&&r.mode&1?Ge&1073741824&&(Pe(r),r.subtreeFlags&6&&(r.flags|=8192)):Pe(r),null;case 24:return null;case 25:return null}throw Error(I(156,r.tag))}function Ep(t,r){switch(xo(r),r.tag){case 1:return Be(r.type)&&un(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return sa(),se(Ue),se(Me),jo(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return vo(r),null;case 13:if(se(de),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(I(340));ra()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return se(de),null;case 4:return sa(),null;case 10:return ho(r.type._context),null;case 22:case 23:return To(),null;case 24:return null;default:return null}}var Ms=!1,Ee=!1,Lp=typeof WeakSet=="function"?WeakSet:Set,F=null;function Vr(t,r){var a=t.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(s){ge(t,r,s)}else a.current=null}function Pi(t,r,a){try{a()}catch(s){ge(t,r,s)}}var Vd=!1;function Tp(t,r){if(xi=ln,t=E0(),co(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var n=s.anchorOffset,l=s.focusNode;s=s.focusOffset;try{a.nodeType,l.nodeType}catch{a=null;break e}var i=0,d=-1,o=-1,c=0,m=0,h=t,x=null;t:for(;;){for(var _;h!==a||n!==0&&h.nodeType!==3||(d=i+n),h!==l||s!==0&&h.nodeType!==3||(o=i+s),h.nodeType===3&&(i+=h.nodeValue.length),(_=h.firstChild)!==null;)x=h,h=_;for(;;){if(h===t)break t;if(x===a&&++c===n&&(d=i),x===l&&++m===s&&(o=i),(_=h.nextSibling)!==null)break;h=x,x=h.parentNode}h=_}a=d===-1||o===-1?null:{start:d,end:o}}else a=null}a=a||{start:0,end:0}}else a=null;for(gi={focusedElem:t,selectionRange:a},ln=!1,F=r;F!==null;)if(r=F,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,F=t;else for(;F!==null;){r=F;try{var y=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,z=y.memoizedState,j=r.stateNode,g=j.getSnapshotBeforeUpdate(r.elementType===r.type?w:gt(r.type,w),z);j.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var u=r.stateNode.containerInfo;u.nodeType===1?u.textContent="":u.nodeType===9&&u.documentElement&&u.removeChild(u.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(b){ge(r,r.return,b)}if(t=r.sibling,t!==null){t.return=r.return,F=t;break}F=r.return}return y=Vd,Vd=!1,y}function Ra(t,r,a){var s=r.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var n=s=s.next;do{if((n.tag&t)===t){var l=n.destroy;n.destroy=void 0,l!==void 0&&Pi(r,a,l)}n=n.next}while(n!==s)}}function Wn(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&t)===t){var s=a.create;a.destroy=s()}a=a.next}while(a!==r)}}function Ei(t){var r=t.ref;if(r!==null){var a=t.stateNode;switch(t.tag){case 5:t=a;break;default:t=a}typeof r=="function"?r(t):r.current=t}}function Su(t){var r=t.alternate;r!==null&&(t.alternate=null,Su(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[wt],delete r[Ja],delete r[hi],delete r[pp],delete r[mp])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Cu(t){return t.tag===5||t.tag===3||t.tag===4}function qd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Cu(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Li(t,r,a){var s=t.tag;if(s===5||s===6)t=t.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(t,r):a.insertBefore(t,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(t,a)):(r=a,r.appendChild(t)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=cn));else if(s!==4&&(t=t.child,t!==null))for(Li(t,r,a),t=t.sibling;t!==null;)Li(t,r,a),t=t.sibling}function Ti(t,r,a){var s=t.tag;if(s===5||s===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(Ti(t,r,a),t=t.sibling;t!==null;)Ti(t,r,a),t=t.sibling}var _e=null,pt=!1;function Bt(t,r,a){for(a=a.child;a!==null;)zu(t,r,a),a=a.sibling}function zu(t,r,a){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount($n,a)}catch{}switch(a.tag){case 5:Ee||Vr(a,r);case 6:var s=_e,n=pt;_e=null,Bt(t,r,a),_e=s,pt=n,_e!==null&&(pt?(t=_e,a=a.stateNode,t.nodeType===8?t.parentNode.removeChild(a):t.removeChild(a)):_e.removeChild(a.stateNode));break;case 18:_e!==null&&(pt?(t=_e,a=a.stateNode,t.nodeType===8?jl(t.parentNode,a):t.nodeType===1&&jl(t,a),Va(t)):jl(_e,a.stateNode));break;case 4:s=_e,n=pt,_e=a.stateNode.containerInfo,pt=!0,Bt(t,r,a),_e=s,pt=n;break;case 0:case 11:case 14:case 15:if(!Ee&&(s=a.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){n=s=s.next;do{var l=n,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&Pi(a,r,i),n=n.next}while(n!==s)}Bt(t,r,a);break;case 1:if(!Ee&&(Vr(a,r),s=a.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=a.memoizedProps,s.state=a.memoizedState,s.componentWillUnmount()}catch(d){ge(a,r,d)}Bt(t,r,a);break;case 21:Bt(t,r,a);break;case 22:a.mode&1?(Ee=(s=Ee)||a.memoizedState!==null,Bt(t,r,a),Ee=s):Bt(t,r,a);break;default:Bt(t,r,a)}}function Qd(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var a=t.stateNode;a===null&&(a=t.stateNode=new Lp),r.forEach(function(s){var n=Up.bind(null,t,s);a.has(s)||(a.add(s),s.then(n,n))})}}function xt(t,r){var a=r.deletions;if(a!==null)for(var s=0;s<a.length;s++){var n=a[s];try{var l=t,i=r,d=i;e:for(;d!==null;){switch(d.tag){case 5:_e=d.stateNode,pt=!1;break e;case 3:_e=d.stateNode.containerInfo,pt=!0;break e;case 4:_e=d.stateNode.containerInfo,pt=!0;break e}d=d.return}if(_e===null)throw Error(I(160));zu(l,i,n),_e=null,pt=!1;var o=n.alternate;o!==null&&(o.return=null),n.return=null}catch(c){ge(n,r,c)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Pu(r,t),r=r.sibling}function Pu(t,r){var a=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xt(r,t),jt(t),s&4){try{Ra(3,t,t.return),Wn(3,t)}catch(w){ge(t,t.return,w)}try{Ra(5,t,t.return)}catch(w){ge(t,t.return,w)}}break;case 1:xt(r,t),jt(t),s&512&&a!==null&&Vr(a,a.return);break;case 5:if(xt(r,t),jt(t),s&512&&a!==null&&Vr(a,a.return),t.flags&32){var n=t.stateNode;try{Ua(n,"")}catch(w){ge(t,t.return,w)}}if(s&4&&(n=t.stateNode,n!=null)){var l=t.memoizedProps,i=a!==null?a.memoizedProps:l,d=t.type,o=t.updateQueue;if(t.updateQueue=null,o!==null)try{d==="input"&&l.type==="radio"&&l.name!=null&&Yc(n,l),ri(d,i);var c=ri(d,l);for(i=0;i<o.length;i+=2){var m=o[i],h=o[i+1];m==="style"?r0(n,h):m==="dangerouslySetInnerHTML"?e0(n,h):m==="children"?Ua(n,h):Ji(n,m,h,c)}switch(d){case"input":Yl(n,l);break;case"textarea":Xc(n,l);break;case"select":var x=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!l.multiple;var _=l.value;_!=null?Qr(n,!!l.multiple,_,!1):x!==!!l.multiple&&(l.defaultValue!=null?Qr(n,!!l.multiple,l.defaultValue,!0):Qr(n,!!l.multiple,l.multiple?[]:"",!1))}n[Ja]=l}catch(w){ge(t,t.return,w)}}break;case 6:if(xt(r,t),jt(t),s&4){if(t.stateNode===null)throw Error(I(162));n=t.stateNode,l=t.memoizedProps;try{n.nodeValue=l}catch(w){ge(t,t.return,w)}}break;case 3:if(xt(r,t),jt(t),s&4&&a!==null&&a.memoizedState.isDehydrated)try{Va(r.containerInfo)}catch(w){ge(t,t.return,w)}break;case 4:xt(r,t),jt(t);break;case 13:xt(r,t),jt(t),n=t.child,n.flags&8192&&(l=n.memoizedState!==null,n.stateNode.isHidden=l,!l||n.alternate!==null&&n.alternate.memoizedState!==null||(Eo=he())),s&4&&Qd(t);break;case 22:if(m=a!==null&&a.memoizedState!==null,t.mode&1?(Ee=(c=Ee)||m,xt(r,t),Ee=c):xt(r,t),jt(t),s&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!m&&t.mode&1)for(F=t,m=t.child;m!==null;){for(h=F=m;F!==null;){switch(x=F,_=x.child,x.tag){case 0:case 11:case 14:case 15:Ra(4,x,x.return);break;case 1:Vr(x,x.return);var y=x.stateNode;if(typeof y.componentWillUnmount=="function"){s=x,a=x.return;try{r=s,y.props=r.memoizedProps,y.state=r.memoizedState,y.componentWillUnmount()}catch(w){ge(s,a,w)}}break;case 5:Vr(x,x.return);break;case 22:if(x.memoizedState!==null){Kd(h);continue}}_!==null?(_.return=x,F=_):Kd(h)}m=m.sibling}e:for(m=null,h=t;;){if(h.tag===5){if(m===null){m=h;try{n=h.stateNode,c?(l=n.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(d=h.stateNode,o=h.memoizedProps.style,i=o!=null&&o.hasOwnProperty("display")?o.display:null,d.style.display=t0("display",i))}catch(w){ge(t,t.return,w)}}}else if(h.tag===6){if(m===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){ge(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;m===h&&(m=null),h=h.return}m===h&&(m=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:xt(r,t),jt(t),s&4&&Qd(t);break;case 21:break;default:xt(r,t),jt(t)}}function jt(t){var r=t.flags;if(r&2){try{e:{for(var a=t.return;a!==null;){if(Cu(a)){var s=a;break e}a=a.return}throw Error(I(160))}switch(s.tag){case 5:var n=s.stateNode;s.flags&32&&(Ua(n,""),s.flags&=-33);var l=qd(t);Ti(t,l,n);break;case 3:case 4:var i=s.stateNode.containerInfo,d=qd(t);Li(t,d,i);break;default:throw Error(I(161))}}catch(o){ge(t,t.return,o)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Mp(t,r,a){F=t,Eu(t)}function Eu(t,r,a){for(var s=(t.mode&1)!==0;F!==null;){var n=F,l=n.child;if(n.tag===22&&s){var i=n.memoizedState!==null||Ms;if(!i){var d=n.alternate,o=d!==null&&d.memoizedState!==null||Ee;d=Ms;var c=Ee;if(Ms=i,(Ee=o)&&!c)for(F=n;F!==null;)i=F,o=i.child,i.tag===22&&i.memoizedState!==null?Jd(n):o!==null?(o.return=i,F=o):Jd(n);for(;l!==null;)F=l,Eu(l),l=l.sibling;F=n,Ms=d,Ee=c}Gd(t)}else n.subtreeFlags&8772&&l!==null?(l.return=n,F=l):Gd(t)}}function Gd(t){for(;F!==null;){var r=F;if(r.flags&8772){var a=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Ee||Wn(5,r);break;case 1:var s=r.stateNode;if(r.flags&4&&!Ee)if(a===null)s.componentDidMount();else{var n=r.elementType===r.type?a.memoizedProps:gt(r.type,a.memoizedProps);s.componentDidUpdate(n,a.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var l=r.updateQueue;l!==null&&Td(r,l,s);break;case 3:var i=r.updateQueue;if(i!==null){if(a=null,r.child!==null)switch(r.child.tag){case 5:a=r.child.stateNode;break;case 1:a=r.child.stateNode}Td(r,i,a)}break;case 5:var d=r.stateNode;if(a===null&&r.flags&4){a=d;var o=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&a.focus();break;case"img":o.src&&(a.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var c=r.alternate;if(c!==null){var m=c.memoizedState;if(m!==null){var h=m.dehydrated;h!==null&&Va(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}Ee||r.flags&512&&Ei(r)}catch(x){ge(r,r.return,x)}}if(r===t){F=null;break}if(a=r.sibling,a!==null){a.return=r.return,F=a;break}F=r.return}}function Kd(t){for(;F!==null;){var r=F;if(r===t){F=null;break}var a=r.sibling;if(a!==null){a.return=r.return,F=a;break}F=r.return}}function Jd(t){for(;F!==null;){var r=F;try{switch(r.tag){case 0:case 11:case 15:var a=r.return;try{Wn(4,r)}catch(o){ge(r,a,o)}break;case 1:var s=r.stateNode;if(typeof s.componentDidMount=="function"){var n=r.return;try{s.componentDidMount()}catch(o){ge(r,n,o)}}var l=r.return;try{Ei(r)}catch(o){ge(r,l,o)}break;case 5:var i=r.return;try{Ei(r)}catch(o){ge(r,i,o)}}}catch(o){ge(r,r.return,o)}if(r===t){F=null;break}var d=r.sibling;if(d!==null){d.return=r.return,F=d;break}F=r.return}}var Dp=Math.ceil,jn=Ft.ReactCurrentDispatcher,zo=Ft.ReactCurrentOwner,ot=Ft.ReactCurrentBatchConfig,J=0,ke=null,ye=null,Se=0,Ge=0,qr=ur(0),ve=0,rs=null,Sr=0,Hn=0,Po=0,Aa=null,Oe=null,Eo=0,la=1/0,zt=null,kn=!1,Mi=null,ar=null,Ds=!1,Jt=null,wn=0,Oa=0,Di=null,Xs=-1,Zs=0;function Ie(){return J&6?he():Xs!==-1?Xs:Xs=he()}function sr(t){return t.mode&1?J&2&&Se!==0?Se&-Se:fp.transition!==null?(Zs===0&&(Zs=p0()),Zs):(t=Z,t!==0||(t=window.event,t=t===void 0?16:j0(t.type)),t):1}function yt(t,r,a,s){if(50<Oa)throw Oa=0,Di=null,Error(I(185));us(t,a,s),(!(J&2)||t!==ke)&&(t===ke&&(!(J&2)&&(Hn|=a),ve===4&&Gt(t,Se)),We(t,s),a===1&&J===0&&!(r.mode&1)&&(la=he()+500,Fn&&xr()))}function We(t,r){var a=t.callbackNode;fg(t,r);var s=nn(t,t===ke?Se:0);if(s===0)a!==null&&nd(a),t.callbackNode=null,t.callbackPriority=0;else if(r=s&-s,t.callbackPriority!==r){if(a!=null&&nd(a),r===1)t.tag===0?hp(Yd.bind(null,t)):F0(Yd.bind(null,t)),xp(function(){!(J&6)&&xr()}),a=null;else{switch(m0(s)){case 1:a=to;break;case 4:a=x0;break;case 16:a=sn;break;case 536870912:a=g0;break;default:a=sn}a=Au(a,Lu.bind(null,t))}t.callbackPriority=r,t.callbackNode=a}}function Lu(t,r){if(Xs=-1,Zs=0,J&6)throw Error(I(327));var a=t.callbackNode;if(Xr()&&t.callbackNode!==a)return null;var s=nn(t,t===ke?Se:0);if(s===0)return null;if(s&30||s&t.expiredLanes||r)r=Nn(t,s);else{r=s;var n=J;J|=2;var l=Mu();(ke!==t||Se!==r)&&(zt=null,la=he()+500,jr(t,r));do try{Rp();break}catch(d){Tu(t,d)}while(!0);mo(),jn.current=l,J=n,ye!==null?r=0:(ke=null,Se=0,r=ve)}if(r!==0){if(r===2&&(n=ii(t),n!==0&&(s=n,r=$i(t,n))),r===1)throw a=rs,jr(t,0),Gt(t,s),We(t,he()),a;if(r===6)Gt(t,s);else{if(n=t.current.alternate,!(s&30)&&!$p(n)&&(r=Nn(t,s),r===2&&(l=ii(t),l!==0&&(s=l,r=$i(t,l))),r===1))throw a=rs,jr(t,0),Gt(t,s),We(t,he()),a;switch(t.finishedWork=n,t.finishedLanes=s,r){case 0:case 1:throw Error(I(345));case 2:fr(t,Oe,zt);break;case 3:if(Gt(t,s),(s&130023424)===s&&(r=Eo+500-he(),10<r)){if(nn(t,0)!==0)break;if(n=t.suspendedLanes,(n&s)!==s){Ie(),t.pingedLanes|=t.suspendedLanes&n;break}t.timeoutHandle=mi(fr.bind(null,t,Oe,zt),r);break}fr(t,Oe,zt);break;case 4:if(Gt(t,s),(s&4194240)===s)break;for(r=t.eventTimes,n=-1;0<s;){var i=31-ft(s);l=1<<i,i=r[i],i>n&&(n=i),s&=~l}if(s=n,s=he()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Dp(s/1960))-s,10<s){t.timeoutHandle=mi(fr.bind(null,t,Oe,zt),s);break}fr(t,Oe,zt);break;case 5:fr(t,Oe,zt);break;default:throw Error(I(329))}}}return We(t,he()),t.callbackNode===a?Lu.bind(null,t):null}function $i(t,r){var a=Aa;return t.current.memoizedState.isDehydrated&&(jr(t,r).flags|=256),t=Nn(t,r),t!==2&&(r=Oe,Oe=a,r!==null&&Ii(r)),t}function Ii(t){Oe===null?Oe=t:Oe.push.apply(Oe,t)}function $p(t){for(var r=t;;){if(r.flags&16384){var a=r.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var s=0;s<a.length;s++){var n=a[s],l=n.getSnapshot;n=n.value;try{if(!bt(l(),n))return!1}catch{return!1}}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Gt(t,r){for(r&=~Po,r&=~Hn,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var a=31-ft(r),s=1<<a;t[a]=-1,r&=~s}}function Yd(t){if(J&6)throw Error(I(327));Xr();var r=nn(t,0);if(!(r&1))return We(t,he()),null;var a=Nn(t,r);if(t.tag!==0&&a===2){var s=ii(t);s!==0&&(r=s,a=$i(t,s))}if(a===1)throw a=rs,jr(t,0),Gt(t,r),We(t,he()),a;if(a===6)throw Error(I(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,fr(t,Oe,zt),We(t,he()),null}function Lo(t,r){var a=J;J|=1;try{return t(r)}finally{J=a,J===0&&(la=he()+500,Fn&&xr())}}function Cr(t){Jt!==null&&Jt.tag===0&&!(J&6)&&Xr();var r=J;J|=1;var a=ot.transition,s=Z;try{if(ot.transition=null,Z=1,t)return t()}finally{Z=s,ot.transition=a,J=r,!(J&6)&&xr()}}function To(){Ge=qr.current,se(qr)}function jr(t,r){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;if(a!==-1&&(t.timeoutHandle=-1,up(a)),ye!==null)for(a=ye.return;a!==null;){var s=a;switch(xo(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&un();break;case 3:sa(),se(Ue),se(Me),jo();break;case 5:vo(s);break;case 4:sa();break;case 13:se(de);break;case 19:se(de);break;case 10:ho(s.type._context);break;case 22:case 23:To()}a=a.return}if(ke=t,ye=t=nr(t.current,null),Se=Ge=r,ve=0,rs=null,Po=Hn=Sr=0,Oe=Aa=null,br!==null){for(r=0;r<br.length;r++)if(a=br[r],s=a.interleaved,s!==null){a.interleaved=null;var n=s.next,l=a.pending;if(l!==null){var i=l.next;l.next=n,s.next=i}a.pending=s}br=null}return t}function Tu(t,r){do{var a=ye;try{if(mo(),Ks.current=vn,bn){for(var s=ce.memoizedState;s!==null;){var n=s.queue;n!==null&&(n.pending=null),s=s.next}bn=!1}if(_r=0,je=be=ce=null,Ia=!1,Za=0,zo.current=null,a===null||a.return===null){ve=1,rs=r,ye=null;break}e:{var l=t,i=a.return,d=a,o=r;if(r=Se,d.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var c=o,m=d,h=m.tag;if(!(m.mode&1)&&(h===0||h===11||h===15)){var x=m.alternate;x?(m.updateQueue=x.updateQueue,m.memoizedState=x.memoizedState,m.lanes=x.lanes):(m.updateQueue=null,m.memoizedState=null)}var _=Ad(i);if(_!==null){_.flags&=-257,Od(_,i,d,l,r),_.mode&1&&Rd(l,c,r),r=_,o=c;var y=r.updateQueue;if(y===null){var w=new Set;w.add(o),r.updateQueue=w}else y.add(o);break e}else{if(!(r&1)){Rd(l,c,r),Mo();break e}o=Error(I(426))}}else if(ie&&d.mode&1){var z=Ad(i);if(z!==null){!(z.flags&65536)&&(z.flags|=256),Od(z,i,d,l,r),go(na(o,d));break e}}l=o=na(o,d),ve!==4&&(ve=2),Aa===null?Aa=[l]:Aa.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,r&=-r,l.lanes|=r;var j=mu(l,o,r);Ld(l,j);break e;case 1:d=o;var g=l.type,u=l.stateNode;if(!(l.flags&128)&&(typeof g.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(ar===null||!ar.has(u)))){l.flags|=65536,r&=-r,l.lanes|=r;var b=hu(l,d,r);Ld(l,b);break e}}l=l.return}while(l!==null)}$u(a)}catch(f){r=f,ye===a&&a!==null&&(ye=a=a.return);continue}break}while(!0)}function Mu(){var t=jn.current;return jn.current=vn,t===null?vn:t}function Mo(){(ve===0||ve===3||ve===2)&&(ve=4),ke===null||!(Sr&268435455)&&!(Hn&268435455)||Gt(ke,Se)}function Nn(t,r){var a=J;J|=2;var s=Mu();(ke!==t||Se!==r)&&(zt=null,jr(t,r));do try{Ip();break}catch(n){Tu(t,n)}while(!0);if(mo(),J=a,jn.current=s,ye!==null)throw Error(I(261));return ke=null,Se=0,ve}function Ip(){for(;ye!==null;)Du(ye)}function Rp(){for(;ye!==null&&!og();)Du(ye)}function Du(t){var r=Ru(t.alternate,t,Ge);t.memoizedProps=t.pendingProps,r===null?$u(t):ye=r,zo.current=null}function $u(t){var r=t;do{var a=r.alternate;if(t=r.return,r.flags&32768){if(a=Ep(a,r),a!==null){a.flags&=32767,ye=a;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ve=6,ye=null;return}}else if(a=Pp(a,r,Ge),a!==null){ye=a;return}if(r=r.sibling,r!==null){ye=r;return}ye=r=t}while(r!==null);ve===0&&(ve=5)}function fr(t,r,a){var s=Z,n=ot.transition;try{ot.transition=null,Z=1,Ap(t,r,a,s)}finally{ot.transition=n,Z=s}return null}function Ap(t,r,a,s){do Xr();while(Jt!==null);if(J&6)throw Error(I(327));a=t.finishedWork;var n=t.finishedLanes;if(a===null)return null;if(t.finishedWork=null,t.finishedLanes=0,a===t.current)throw Error(I(177));t.callbackNode=null,t.callbackPriority=0;var l=a.lanes|a.childLanes;if(yg(t,l),t===ke&&(ye=ke=null,Se=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Ds||(Ds=!0,Au(sn,function(){return Xr(),null})),l=(a.flags&15990)!==0,a.subtreeFlags&15990||l){l=ot.transition,ot.transition=null;var i=Z;Z=1;var d=J;J|=4,zo.current=null,Tp(t,a),Pu(a,t),sp(gi),ln=!!xi,gi=xi=null,t.current=a,Mp(a),dg(),J=d,Z=i,ot.transition=l}else t.current=a;if(Ds&&(Ds=!1,Jt=t,wn=n),l=t.pendingLanes,l===0&&(ar=null),xg(a.stateNode),We(t,he()),r!==null)for(s=t.onRecoverableError,a=0;a<r.length;a++)n=r[a],s(n.value,{componentStack:n.stack,digest:n.digest});if(kn)throw kn=!1,t=Mi,Mi=null,t;return wn&1&&t.tag!==0&&Xr(),l=t.pendingLanes,l&1?t===Di?Oa++:(Oa=0,Di=t):Oa=0,xr(),null}function Xr(){if(Jt!==null){var t=m0(wn),r=ot.transition,a=Z;try{if(ot.transition=null,Z=16>t?16:t,Jt===null)var s=!1;else{if(t=Jt,Jt=null,wn=0,J&6)throw Error(I(331));var n=J;for(J|=4,F=t.current;F!==null;){var l=F,i=l.child;if(F.flags&16){var d=l.deletions;if(d!==null){for(var o=0;o<d.length;o++){var c=d[o];for(F=c;F!==null;){var m=F;switch(m.tag){case 0:case 11:case 15:Ra(8,m,l)}var h=m.child;if(h!==null)h.return=m,F=h;else for(;F!==null;){m=F;var x=m.sibling,_=m.return;if(Su(m),m===c){F=null;break}if(x!==null){x.return=_,F=x;break}F=_}}}var y=l.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var z=w.sibling;w.sibling=null,w=z}while(w!==null)}}F=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,F=i;else e:for(;F!==null;){if(l=F,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Ra(9,l,l.return)}var j=l.sibling;if(j!==null){j.return=l.return,F=j;break e}F=l.return}}var g=t.current;for(F=g;F!==null;){i=F;var u=i.child;if(i.subtreeFlags&2064&&u!==null)u.return=i,F=u;else e:for(i=g;F!==null;){if(d=F,d.flags&2048)try{switch(d.tag){case 0:case 11:case 15:Wn(9,d)}}catch(f){ge(d,d.return,f)}if(d===i){F=null;break e}var b=d.sibling;if(b!==null){b.return=d.return,F=b;break e}F=d.return}}if(J=n,xr(),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot($n,t)}catch{}s=!0}return s}finally{Z=a,ot.transition=r}}return!1}function Xd(t,r,a){r=na(a,r),r=mu(t,r,1),t=rr(t,r,1),r=Ie(),t!==null&&(us(t,1,r),We(t,r))}function ge(t,r,a){if(t.tag===3)Xd(t,t,a);else for(;r!==null;){if(r.tag===3){Xd(r,t,a);break}else if(r.tag===1){var s=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ar===null||!ar.has(s))){t=na(a,t),t=hu(r,t,1),r=rr(r,t,1),t=Ie(),r!==null&&(us(r,1,t),We(r,t));break}}r=r.return}}function Op(t,r,a){var s=t.pingCache;s!==null&&s.delete(r),r=Ie(),t.pingedLanes|=t.suspendedLanes&a,ke===t&&(Se&a)===a&&(ve===4||ve===3&&(Se&130023424)===Se&&500>he()-Eo?jr(t,0):Po|=a),We(t,r)}function Iu(t,r){r===0&&(t.mode&1?(r=Ns,Ns<<=1,!(Ns&130023424)&&(Ns=4194304)):r=1);var a=Ie();t=It(t,r),t!==null&&(us(t,r,a),We(t,a))}function Fp(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),Iu(t,a)}function Up(t,r){var a=0;switch(t.tag){case 13:var s=t.stateNode,n=t.memoizedState;n!==null&&(a=n.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(I(314))}s!==null&&s.delete(r),Iu(t,a)}var Ru;Ru=function(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps||Ue.current)Fe=!0;else{if(!(t.lanes&a)&&!(r.flags&128))return Fe=!1,zp(t,r,a);Fe=!!(t.flags&131072)}else Fe=!1,ie&&r.flags&1048576&&U0(r,pn,r.index);switch(r.lanes=0,r.tag){case 2:var s=r.type;Ys(t,r),t=r.pendingProps;var n=ta(r,Me.current);Yr(r,a),n=wo(null,r,s,t,n,a);var l=No();return r.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Be(s)?(l=!0,xn(r)):l=!1,r.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,yo(r),n.updater=Bn,r.stateNode=n,n._reactInternals=r,ki(r,s,t,a),r=_i(null,r,s,!0,l,a)):(r.tag=0,ie&&l&&uo(r),$e(null,r,n,a),r=r.child),r;case 16:s=r.elementType;e:{switch(Ys(t,r),t=r.pendingProps,n=s._init,s=n(s._payload),r.type=s,n=r.tag=Wp(s),t=gt(s,t),n){case 0:r=Ni(null,r,s,t,a);break e;case 1:r=Bd(null,r,s,t,a);break e;case 11:r=Fd(null,r,s,t,a);break e;case 14:r=Ud(null,r,s,gt(s.type,t),a);break e}throw Error(I(306,s,""))}return r;case 0:return s=r.type,n=r.pendingProps,n=r.elementType===s?n:gt(s,n),Ni(t,r,s,n,a);case 1:return s=r.type,n=r.pendingProps,n=r.elementType===s?n:gt(s,n),Bd(t,r,s,n,a);case 3:e:{if(vu(r),t===null)throw Error(I(387));s=r.pendingProps,l=r.memoizedState,n=l.element,Q0(t,r),fn(r,s,null,a);var i=r.memoizedState;if(s=i.element,l.isDehydrated)if(l={element:s,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},r.updateQueue.baseState=l,r.memoizedState=l,r.flags&256){n=na(Error(I(423)),r),r=Wd(t,r,s,a,n);break e}else if(s!==n){n=na(Error(I(424)),r),r=Wd(t,r,s,a,n);break e}else for(Ke=tr(r.stateNode.containerInfo.firstChild),Je=r,ie=!0,mt=null,a=V0(r,null,s,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ra(),s===n){r=Rt(t,r,a);break e}$e(t,r,s,a)}r=r.child}return r;case 5:return G0(r),t===null&&bi(r),s=r.type,n=r.pendingProps,l=t!==null?t.memoizedProps:null,i=n.children,pi(s,n)?i=null:l!==null&&pi(s,l)&&(r.flags|=32),bu(t,r),$e(t,r,i,a),r.child;case 6:return t===null&&bi(r),null;case 13:return ju(t,r,a);case 4:return bo(r,r.stateNode.containerInfo),s=r.pendingProps,t===null?r.child=aa(r,null,s,a):$e(t,r,s,a),r.child;case 11:return s=r.type,n=r.pendingProps,n=r.elementType===s?n:gt(s,n),Fd(t,r,s,n,a);case 7:return $e(t,r,r.pendingProps,a),r.child;case 8:return $e(t,r,r.pendingProps.children,a),r.child;case 12:return $e(t,r,r.pendingProps.children,a),r.child;case 10:e:{if(s=r.type._context,n=r.pendingProps,l=r.memoizedProps,i=n.value,te(mn,s._currentValue),s._currentValue=i,l!==null)if(bt(l.value,i)){if(l.children===n.children&&!Ue.current){r=Rt(t,r,a);break e}}else for(l=r.child,l!==null&&(l.return=r);l!==null;){var d=l.dependencies;if(d!==null){i=l.child;for(var o=d.firstContext;o!==null;){if(o.context===s){if(l.tag===1){o=Mt(-1,a&-a),o.tag=2;var c=l.updateQueue;if(c!==null){c=c.shared;var m=c.pending;m===null?o.next=o:(o.next=m.next,m.next=o),c.pending=o}}l.lanes|=a,o=l.alternate,o!==null&&(o.lanes|=a),vi(l.return,a,r),d.lanes|=a;break}o=o.next}}else if(l.tag===10)i=l.type===r.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(I(341));i.lanes|=a,d=i.alternate,d!==null&&(d.lanes|=a),vi(i,a,r),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===r){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}$e(t,r,n.children,a),r=r.child}return r;case 9:return n=r.type,s=r.pendingProps.children,Yr(r,a),n=dt(n),s=s(n),r.flags|=1,$e(t,r,s,a),r.child;case 14:return s=r.type,n=gt(s,r.pendingProps),n=gt(s.type,n),Ud(t,r,s,n,a);case 15:return fu(t,r,r.type,r.pendingProps,a);case 17:return s=r.type,n=r.pendingProps,n=r.elementType===s?n:gt(s,n),Ys(t,r),r.tag=1,Be(s)?(t=!0,xn(r)):t=!1,Yr(r,a),pu(r,s,n),ki(r,s,n,a),_i(null,r,s,!0,t,a);case 19:return ku(t,r,a);case 22:return yu(t,r,a)}throw Error(I(156,r.tag))};function Au(t,r){return u0(t,r)}function Bp(t,r,a,s){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lt(t,r,a,s){return new Bp(t,r,a,s)}function Do(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wp(t){if(typeof t=="function")return Do(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Xi)return 11;if(t===Zi)return 14}return 2}function nr(t,r){var a=t.alternate;return a===null?(a=lt(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&14680064,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a}function en(t,r,a,s,n,l){var i=2;if(s=t,typeof t=="function")Do(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case Ir:return kr(a.children,n,l,r);case Yi:i=8,n|=8;break;case ql:return t=lt(12,a,r,n|2),t.elementType=ql,t.lanes=l,t;case Ql:return t=lt(13,a,r,n),t.elementType=Ql,t.lanes=l,t;case Gl:return t=lt(19,a,r,n),t.elementType=Gl,t.lanes=l,t;case Gc:return Vn(a,n,l,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case qc:i=10;break e;case Qc:i=9;break e;case Xi:i=11;break e;case Zi:i=14;break e;case Vt:i=16,s=null;break e}throw Error(I(130,t==null?t:typeof t,""))}return r=lt(i,a,r,n),r.elementType=t,r.type=s,r.lanes=l,r}function kr(t,r,a,s){return t=lt(7,t,s,r),t.lanes=a,t}function Vn(t,r,a,s){return t=lt(22,t,s,r),t.elementType=Gc,t.lanes=a,t.stateNode={isHidden:!1},t}function Pl(t,r,a){return t=lt(6,t,null,r),t.lanes=a,t}function El(t,r,a){return r=lt(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function Hp(t,r,a,s,n){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cl(0),this.expirationTimes=cl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cl(0),this.identifierPrefix=s,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function $o(t,r,a,s,n,l,i,d,o){return t=new Hp(t,r,a,d,o),r===1?(r=1,l===!0&&(r|=8)):r=0,l=lt(3,null,null,r),t.current=l,l.stateNode=t,l.memoizedState={element:s,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},yo(l),t}function Vp(t,r,a){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$r,key:s==null?null:""+s,children:t,containerInfo:r,implementation:a}}function Ou(t){if(!t)return or;t=t._reactInternals;e:{if(Er(t)!==t||t.tag!==1)throw Error(I(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Be(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(I(171))}if(t.tag===1){var a=t.type;if(Be(a))return O0(t,a,r)}return r}function Fu(t,r,a,s,n,l,i,d,o){return t=$o(a,s,!0,t,n,l,i,d,o),t.context=Ou(null),a=t.current,s=Ie(),n=sr(a),l=Mt(s,n),l.callback=r!=null?r:null,rr(a,l,n),t.current.lanes=n,us(t,n,s),We(t,s),t}function qn(t,r,a,s){var n=r.current,l=Ie(),i=sr(n);return a=Ou(a),r.context===null?r.context=a:r.pendingContext=a,r=Mt(l,i),r.payload={element:t},s=s===void 0?null:s,s!==null&&(r.callback=s),t=rr(n,r,i),t!==null&&(yt(t,n,i,l),Gs(t,n,i)),i}function _n(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Zd(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Io(t,r){Zd(t,r),(t=t.alternate)&&Zd(t,r)}function qp(){return null}var Uu=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ro(t){this._internalRoot=t}Qn.prototype.render=Ro.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(I(409));qn(t,r,null,null)};Qn.prototype.unmount=Ro.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Cr(function(){qn(null,t,null,null)}),r[$t]=null}};function Qn(t){this._internalRoot=t}Qn.prototype.unstable_scheduleHydration=function(t){if(t){var r=y0();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Qt.length&&r!==0&&r<Qt[a].priority;a++);Qt.splice(a,0,t),a===0&&v0(t)}};function Ao(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Gn(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ec(){}function Qp(t,r,a,s,n){if(n){if(typeof s=="function"){var l=s;s=function(){var c=_n(i);l.call(c)}}var i=Fu(r,s,t,0,null,!1,!1,"",ec);return t._reactRootContainer=i,t[$t]=i.current,Ga(t.nodeType===8?t.parentNode:t),Cr(),i}for(;n=t.lastChild;)t.removeChild(n);if(typeof s=="function"){var d=s;s=function(){var c=_n(o);d.call(c)}}var o=$o(t,0,!1,null,null,!1,!1,"",ec);return t._reactRootContainer=o,t[$t]=o.current,Ga(t.nodeType===8?t.parentNode:t),Cr(function(){qn(r,o,a,s)}),o}function Kn(t,r,a,s,n){var l=a._reactRootContainer;if(l){var i=l;if(typeof n=="function"){var d=n;n=function(){var o=_n(i);d.call(o)}}qn(r,i,t,n)}else i=Qp(a,r,t,n,s);return _n(i)}h0=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var a=Pa(r.pendingLanes);a!==0&&(ro(r,a|1),We(r,he()),!(J&6)&&(la=he()+500,xr()))}break;case 13:Cr(function(){var s=It(t,1);if(s!==null){var n=Ie();yt(s,t,1,n)}}),Io(t,1)}};ao=function(t){if(t.tag===13){var r=It(t,134217728);if(r!==null){var a=Ie();yt(r,t,134217728,a)}Io(t,134217728)}};f0=function(t){if(t.tag===13){var r=sr(t),a=It(t,r);if(a!==null){var s=Ie();yt(a,t,r,s)}Io(t,r)}};y0=function(){return Z};b0=function(t,r){var a=Z;try{return Z=t,r()}finally{Z=a}};si=function(t,r,a){switch(r){case"input":if(Yl(t,a),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<a.length;r++){var s=a[r];if(s!==t&&s.form===t.form){var n=On(s);if(!n)throw Error(I(90));Jc(s),Yl(s,n)}}}break;case"textarea":Xc(t,a);break;case"select":r=a.value,r!=null&&Qr(t,!!a.multiple,r,!1)}};n0=Lo;l0=Cr;var Gp={usingClientEntryPoint:!1,Events:[gs,Fr,On,a0,s0,Lo]},Sa={findFiberByHostInstance:yr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Kp={bundleType:Sa.bundleType,version:Sa.version,rendererPackageName:Sa.rendererPackageName,rendererConfig:Sa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ft.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=d0(t),t===null?null:t.stateNode},findFiberByHostInstance:Sa.findFiberByHostInstance||qp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $s=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$s.isDisabled&&$s.supportsFiber)try{$n=$s.inject(Kp),Nt=$s}catch{}}tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gp;tt.createPortal=function(t,r){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ao(r))throw Error(I(200));return Vp(t,r,null,a)};tt.createRoot=function(t,r){if(!Ao(t))throw Error(I(299));var a=!1,s="",n=Uu;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(n=r.onRecoverableError)),r=$o(t,1,!1,null,null,a,!1,s,n),t[$t]=r.current,Ga(t.nodeType===8?t.parentNode:t),new Ro(r)};tt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(I(188)):(t=Object.keys(t).join(","),Error(I(268,t)));return t=d0(r),t=t===null?null:t.stateNode,t};tt.flushSync=function(t){return Cr(t)};tt.hydrate=function(t,r,a){if(!Gn(r))throw Error(I(200));return Kn(null,t,r,!0,a)};tt.hydrateRoot=function(t,r,a){if(!Ao(t))throw Error(I(405));var s=a!=null&&a.hydratedSources||null,n=!1,l="",i=Uu;if(a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(l=a.identifierPrefix),a.onRecoverableError!==void 0&&(i=a.onRecoverableError)),r=Fu(r,null,t,1,a!=null?a:null,n,!1,l,i),t[$t]=r.current,Ga(t),s)for(t=0;t<s.length;t++)a=s[t],n=a._getVersion,n=n(a._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[a,n]:r.mutableSourceEagerHydrationData.push(a,n);return new Qn(r)};tt.render=function(t,r,a){if(!Gn(r))throw Error(I(200));return Kn(null,t,r,!1,a)};tt.unmountComponentAtNode=function(t){if(!Gn(t))throw Error(I(40));return t._reactRootContainer?(Cr(function(){Kn(null,null,t,!1,function(){t._reactRootContainer=null,t[$t]=null})}),!0):!1};tt.unstable_batchedUpdates=Lo;tt.unstable_renderSubtreeIntoContainer=function(t,r,a,s){if(!Gn(a))throw Error(I(200));if(t==null||t._reactInternals===void 0)throw Error(I(38));return Kn(t,r,a,!1,s)};tt.version="18.3.1-next-f1338f8080-20240426";function Bu(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bu)}catch(t){console.error(t)}}Bu(),Bc.exports=tt;var Jp=Bc.exports,tc=Jp;Hl.createRoot=tc.createRoot,Hl.hydrateRoot=tc.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function as(){return as=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},as.apply(this,arguments)}var Yt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Yt||(Yt={}));const rc="popstate";function Yp(t){t===void 0&&(t={});function r(s,n){let{pathname:l,search:i,hash:d}=s.location;return Ri("",{pathname:l,search:i,hash:d},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function a(s,n){return typeof n=="string"?n:Sn(n)}return Zp(r,a,null,t)}function ue(t,r){if(t===!1||t===null||typeof t>"u")throw new Error(r)}function Oo(t,r){if(!t){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function Xp(){return Math.random().toString(36).substr(2,8)}function ac(t,r){return{usr:t.state,key:t.key,idx:r}}function Ri(t,r,a,s){return a===void 0&&(a=null),as({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof r=="string"?ha(r):r,{state:a,key:r&&r.key||s||Xp()})}function Sn(t){let{pathname:r="/",search:a="",hash:s=""}=t;return a&&a!=="?"&&(r+=a.charAt(0)==="?"?a:"?"+a),s&&s!=="#"&&(r+=s.charAt(0)==="#"?s:"#"+s),r}function ha(t){let r={};if(t){let a=t.indexOf("#");a>=0&&(r.hash=t.substr(a),t=t.substr(0,a));let s=t.indexOf("?");s>=0&&(r.search=t.substr(s),t=t.substr(0,s)),t&&(r.pathname=t)}return r}function Zp(t,r,a,s){s===void 0&&(s={});let{window:n=document.defaultView,v5Compat:l=!1}=s,i=n.history,d=Yt.Pop,o=null,c=m();c==null&&(c=0,i.replaceState(as({},i.state,{idx:c}),""));function m(){return(i.state||{idx:null}).idx}function h(){d=Yt.Pop;let z=m(),j=z==null?null:z-c;c=z,o&&o({action:d,location:w.location,delta:j})}function x(z,j){d=Yt.Push;let g=Ri(w.location,z,j);c=m()+1;let u=ac(g,c),b=w.createHref(g);try{i.pushState(u,"",b)}catch(f){if(f instanceof DOMException&&f.name==="DataCloneError")throw f;n.location.assign(b)}l&&o&&o({action:d,location:w.location,delta:1})}function _(z,j){d=Yt.Replace;let g=Ri(w.location,z,j);c=m();let u=ac(g,c),b=w.createHref(g);i.replaceState(u,"",b),l&&o&&o({action:d,location:w.location,delta:0})}function y(z){let j=n.location.origin!=="null"?n.location.origin:n.location.href,g=typeof z=="string"?z:Sn(z);return g=g.replace(/ $/,"%20"),ue(j,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,j)}let w={get action(){return d},get location(){return t(n,i)},listen(z){if(o)throw new Error("A history only accepts one active listener");return n.addEventListener(rc,h),o=z,()=>{n.removeEventListener(rc,h),o=null}},createHref(z){return r(n,z)},createURL:y,encodeLocation(z){let j=y(z);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:x,replace:_,go(z){return i.go(z)}};return w}var sc;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(sc||(sc={}));function em(t,r,a){return a===void 0&&(a="/"),tm(t,r,a)}function tm(t,r,a,s){let n=typeof r=="string"?ha(r):r,l=ia(n.pathname||"/",a);if(l==null)return null;let i=Wu(t);rm(i);let d=null;for(let o=0;d==null&&o<i.length;++o){let c=gm(l);d=um(i[o],c)}return d}function Wu(t,r,a,s){r===void 0&&(r=[]),a===void 0&&(a=[]),s===void 0&&(s="");let n=(l,i,d)=>{let o={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:i,route:l};o.relativePath.startsWith("/")&&(ue(o.relativePath.startsWith(s),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(s.length));let c=lr([s,o.relativePath]),m=a.concat(o);l.children&&l.children.length>0&&(ue(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Wu(l.children,r,m,c)),!(l.path==null&&!l.index)&&r.push({path:c,score:dm(c,l.index),routesMeta:m})};return t.forEach((l,i)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))n(l,i);else for(let o of Hu(l.path))n(l,i,o)}),r}function Hu(t){let r=t.split("/");if(r.length===0)return[];let[a,...s]=r,n=a.endsWith("?"),l=a.replace(/\?$/,"");if(s.length===0)return n?[l,""]:[l];let i=Hu(s.join("/")),d=[];return d.push(...i.map(o=>o===""?l:[l,o].join("/"))),n&&d.push(...i),d.map(o=>t.startsWith("/")&&o===""?"/":o)}function rm(t){t.sort((r,a)=>r.score!==a.score?a.score-r.score:cm(r.routesMeta.map(s=>s.childrenIndex),a.routesMeta.map(s=>s.childrenIndex)))}const am=/^:[\w-]+$/,sm=3,nm=2,lm=1,im=10,om=-2,nc=t=>t==="*";function dm(t,r){let a=t.split("/"),s=a.length;return a.some(nc)&&(s+=om),r&&(s+=nm),a.filter(n=>!nc(n)).reduce((n,l)=>n+(am.test(l)?sm:l===""?lm:im),s)}function cm(t,r){return t.length===r.length&&t.slice(0,-1).every((s,n)=>s===r[n])?t[t.length-1]-r[r.length-1]:0}function um(t,r,a){let{routesMeta:s}=t,n={},l="/",i=[];for(let d=0;d<s.length;++d){let o=s[d],c=d===s.length-1,m=l==="/"?r:r.slice(l.length)||"/",h=Ai({path:o.relativePath,caseSensitive:o.caseSensitive,end:c},m),x=o.route;if(!h)return null;Object.assign(n,h.params),i.push({params:n,pathname:lr([l,h.pathname]),pathnameBase:ym(lr([l,h.pathnameBase])),route:x}),h.pathnameBase!=="/"&&(l=lr([l,h.pathnameBase]))}return i}function Ai(t,r){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[a,s]=xm(t.path,t.caseSensitive,t.end),n=r.match(a);if(!n)return null;let l=n[0],i=l.replace(/(.)\/+$/,"$1"),d=n.slice(1);return{params:s.reduce((c,m,h)=>{let{paramName:x,isOptional:_}=m;if(x==="*"){let w=d[h]||"";i=l.slice(0,l.length-w.length).replace(/(.)\/+$/,"$1")}const y=d[h];return _&&!y?c[x]=void 0:c[x]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:l,pathnameBase:i,pattern:t}}function xm(t,r,a){r===void 0&&(r=!1),a===void 0&&(a=!0),Oo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],n="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,d,o)=>(s.push({paramName:d,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),n+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?n+="\\/*$":t!==""&&t!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,r?void 0:"i"),s]}function gm(t){try{return t.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Oo(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),t}}function ia(t,r){if(r==="/")return t;if(!t.toLowerCase().startsWith(r.toLowerCase()))return null;let a=r.endsWith("/")?r.length-1:r.length,s=t.charAt(a);return s&&s!=="/"?null:t.slice(a)||"/"}const pm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mm=t=>pm.test(t);function hm(t,r){r===void 0&&(r="/");let{pathname:a,search:s="",hash:n=""}=typeof t=="string"?ha(t):t,l;if(a)if(mm(a))l=a;else{if(a.includes("//")){let i=a;a=a.replace(/\/\/+/g,"/"),Oo(!1,"Pathnames cannot have embedded double slashes - normalizing "+(i+" -> "+a))}a.startsWith("/")?l=lc(a.substring(1),"/"):l=lc(a,r)}else l=r;return{pathname:l,search:bm(s),hash:vm(n)}}function lc(t,r){let a=r.replace(/\/+$/,"").split("/");return t.split("/").forEach(n=>{n===".."?a.length>1&&a.pop():n!=="."&&a.push(n)}),a.length>1?a.join("/"):"/"}function Ll(t,r,a,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function fm(t){return t.filter((r,a)=>a===0||r.route.path&&r.route.path.length>0)}function Fo(t,r){let a=fm(t);return r?a.map((s,n)=>n===a.length-1?s.pathname:s.pathnameBase):a.map(s=>s.pathnameBase)}function Uo(t,r,a,s){s===void 0&&(s=!1);let n;typeof t=="string"?n=ha(t):(n=as({},t),ue(!n.pathname||!n.pathname.includes("?"),Ll("?","pathname","search",n)),ue(!n.pathname||!n.pathname.includes("#"),Ll("#","pathname","hash",n)),ue(!n.search||!n.search.includes("#"),Ll("#","search","hash",n)));let l=t===""||n.pathname==="",i=l?"/":n.pathname,d;if(i==null)d=a;else{let h=r.length-1;if(!s&&i.startsWith("..")){let x=i.split("/");for(;x[0]==="..";)x.shift(),h-=1;n.pathname=x.join("/")}d=h>=0?r[h]:"/"}let o=hm(n,d),c=i&&i!=="/"&&i.endsWith("/"),m=(l||i===".")&&a.endsWith("/");return!o.pathname.endsWith("/")&&(c||m)&&(o.pathname+="/"),o}const lr=t=>t.join("/").replace(/\/\/+/g,"/"),ym=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),bm=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,vm=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function jm(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Vu=["post","put","patch","delete"];new Set(Vu);const km=["get",...Vu];new Set(km);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ss(){return ss=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},ss.apply(this,arguments)}const Jn=p.createContext(null),qu=p.createContext(null),Ut=p.createContext(null),Yn=p.createContext(null),St=p.createContext({outlet:null,matches:[],isDataRoute:!1}),Qu=p.createContext(null);function wm(t,r){let{relative:a}=r===void 0?{}:r;fa()||ue(!1);let{basename:s,navigator:n}=p.useContext(Ut),{hash:l,pathname:i,search:d}=Zn(t,{relative:a}),o=i;return s!=="/"&&(o=i==="/"?s:lr([s,i])),n.createHref({pathname:o,search:d,hash:l})}function fa(){return p.useContext(Yn)!=null}function Ct(){return fa()||ue(!1),p.useContext(Yn).location}function Gu(t){p.useContext(Ut).static||p.useLayoutEffect(t)}function ee(){let{isDataRoute:t}=p.useContext(St);return t?Am():Nm()}function Nm(){fa()||ue(!1);let t=p.useContext(Jn),{basename:r,future:a,navigator:s}=p.useContext(Ut),{matches:n}=p.useContext(St),{pathname:l}=Ct(),i=JSON.stringify(Fo(n,a.v7_relativeSplatPath)),d=p.useRef(!1);return Gu(()=>{d.current=!0}),p.useCallback(function(c,m){if(m===void 0&&(m={}),!d.current)return;if(typeof c=="number"){s.go(c);return}let h=Uo(c,JSON.parse(i),l,m.relative==="path");t==null&&r!=="/"&&(h.pathname=h.pathname==="/"?r:lr([r,h.pathname])),(m.replace?s.replace:s.push)(h,m.state,m)},[r,s,i,l,t])}const _m=p.createContext(null);function Sm(t){let r=p.useContext(St).outlet;return r&&p.createElement(_m.Provider,{value:t},r)}function Xn(){let{matches:t}=p.useContext(St),r=t[t.length-1];return r?r.params:{}}function Zn(t,r){let{relative:a}=r===void 0?{}:r,{future:s}=p.useContext(Ut),{matches:n}=p.useContext(St),{pathname:l}=Ct(),i=JSON.stringify(Fo(n,s.v7_relativeSplatPath));return p.useMemo(()=>Uo(t,JSON.parse(i),l,a==="path"),[t,i,l,a])}function Cm(t,r){return zm(t,r)}function zm(t,r,a,s){fa()||ue(!1);let{navigator:n}=p.useContext(Ut),{matches:l}=p.useContext(St),i=l[l.length-1],d=i?i.params:{};i&&i.pathname;let o=i?i.pathnameBase:"/";i&&i.route;let c=Ct(),m;if(r){var h;let z=typeof r=="string"?ha(r):r;o==="/"||(h=z.pathname)!=null&&h.startsWith(o)||ue(!1),m=z}else m=c;let x=m.pathname||"/",_=x;if(o!=="/"){let z=o.replace(/^\//,"").split("/");_="/"+x.replace(/^\//,"").split("/").slice(z.length).join("/")}let y=em(t,{pathname:_}),w=Mm(y&&y.map(z=>Object.assign({},z,{params:Object.assign({},d,z.params),pathname:lr([o,n.encodeLocation?n.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?o:lr([o,n.encodeLocation?n.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),l,a,s);return r&&w?p.createElement(Yn.Provider,{value:{location:ss({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Yt.Pop}},w):w}function Pm(){let t=Rm(),r=jm(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),a=t instanceof Error?t.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},r),a?p.createElement("pre",{style:n},a):null,null)}const Em=p.createElement(Pm,null);class Lm extends p.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,a){return a.location!==r.location||a.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:a.error,location:a.location,revalidation:r.revalidation||a.revalidation}}componentDidCatch(r,a){console.error("React Router caught the following error during render",r,a)}render(){return this.state.error!==void 0?p.createElement(St.Provider,{value:this.props.routeContext},p.createElement(Qu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Tm(t){let{routeContext:r,match:a,children:s}=t,n=p.useContext(Jn);return n&&n.static&&n.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=a.route.id),p.createElement(St.Provider,{value:r},s)}function Mm(t,r,a,s){var n;if(r===void 0&&(r=[]),a===void 0&&(a=null),s===void 0&&(s=null),t==null){var l;if(!a)return null;if(a.errors)t=a.matches;else if((l=s)!=null&&l.v7_partialHydration&&r.length===0&&!a.initialized&&a.matches.length>0)t=a.matches;else return null}let i=t,d=(n=a)==null?void 0:n.errors;if(d!=null){let m=i.findIndex(h=>h.route.id&&(d==null?void 0:d[h.route.id])!==void 0);m>=0||ue(!1),i=i.slice(0,Math.min(i.length,m+1))}let o=!1,c=-1;if(a&&s&&s.v7_partialHydration)for(let m=0;m<i.length;m++){let h=i[m];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=m),h.route.id){let{loaderData:x,errors:_}=a,y=h.route.loader&&x[h.route.id]===void 0&&(!_||_[h.route.id]===void 0);if(h.route.lazy||y){o=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((m,h,x)=>{let _,y=!1,w=null,z=null;a&&(_=d&&h.route.id?d[h.route.id]:void 0,w=h.route.errorElement||Em,o&&(c<0&&x===0?(Om("route-fallback"),y=!0,z=null):c===x&&(y=!0,z=h.route.hydrateFallbackElement||null)));let j=r.concat(i.slice(0,x+1)),g=()=>{let u;return _?u=w:y?u=z:h.route.Component?u=p.createElement(h.route.Component,null):h.route.element?u=h.route.element:u=m,p.createElement(Tm,{match:h,routeContext:{outlet:m,matches:j,isDataRoute:a!=null},children:u})};return a&&(h.route.ErrorBoundary||h.route.errorElement||x===0)?p.createElement(Lm,{location:a.location,revalidation:a.revalidation,component:w,error:_,children:g(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):g()},null)}var Ku=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Ku||{}),Ju=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ju||{});function Dm(t){let r=p.useContext(Jn);return r||ue(!1),r}function $m(t){let r=p.useContext(qu);return r||ue(!1),r}function Im(t){let r=p.useContext(St);return r||ue(!1),r}function Yu(t){let r=Im(),a=r.matches[r.matches.length-1];return a.route.id||ue(!1),a.route.id}function Rm(){var t;let r=p.useContext(Qu),a=$m(),s=Yu();return r!==void 0?r:(t=a.errors)==null?void 0:t[s]}function Am(){let{router:t}=Dm(Ku.UseNavigateStable),r=Yu(Ju.UseNavigateStable),a=p.useRef(!1);return Gu(()=>{a.current=!0}),p.useCallback(function(n,l){l===void 0&&(l={}),a.current&&(typeof n=="number"?t.navigate(n):t.navigate(n,ss({fromRouteId:r},l)))},[t,r])}const ic={};function Om(t,r,a){ic[t]||(ic[t]=!0)}function Fm(t,r){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function oa(t){let{to:r,replace:a,state:s,relative:n}=t;fa()||ue(!1);let{future:l,static:i}=p.useContext(Ut),{matches:d}=p.useContext(St),{pathname:o}=Ct(),c=ee(),m=Uo(r,Fo(d,l.v7_relativeSplatPath),o,n==="path"),h=JSON.stringify(m);return p.useEffect(()=>c(JSON.parse(h),{replace:a,state:s,relative:n}),[c,h,n,a,s]),null}function Xu(t){return Sm(t.context)}function q(t){ue(!1)}function Um(t){let{basename:r="/",children:a=null,location:s,navigationType:n=Yt.Pop,navigator:l,static:i=!1,future:d}=t;fa()&&ue(!1);let o=r.replace(/^\/*/,"/"),c=p.useMemo(()=>({basename:o,navigator:l,static:i,future:ss({v7_relativeSplatPath:!1},d)}),[o,d,l,i]);typeof s=="string"&&(s=ha(s));let{pathname:m="/",search:h="",hash:x="",state:_=null,key:y="default"}=s,w=p.useMemo(()=>{let z=ia(m,o);return z==null?null:{location:{pathname:z,search:h,hash:x,state:_,key:y},navigationType:n}},[o,m,h,x,_,y,n]);return w==null?null:p.createElement(Ut.Provider,{value:c},p.createElement(Yn.Provider,{children:a,value:w}))}function Bm(t){let{children:r,location:a}=t;return Cm(Oi(r),a)}new Promise(()=>{});function Oi(t,r){r===void 0&&(r=[]);let a=[];return p.Children.forEach(t,(s,n)=>{if(!p.isValidElement(s))return;let l=[...r,n];if(s.type===p.Fragment){a.push.apply(a,Oi(s.props.children,l));return}s.type!==q&&ue(!1),!s.props.index||!s.props.children||ue(!1);let i={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(i.children=Oi(s.props.children,l)),a.push(i)}),a}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cn(){return Cn=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},Cn.apply(this,arguments)}function Zu(t,r){if(t==null)return{};var a={},s=Object.keys(t),n,l;for(l=0;l<s.length;l++)n=s[l],!(r.indexOf(n)>=0)&&(a[n]=t[n]);return a}function Wm(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Hm(t,r){return t.button===0&&(!r||r==="_self")&&!Wm(t)}const Vm=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],qm=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Qm="6";try{window.__reactRouterVersion=Qm}catch{}const Gm=p.createContext({isTransitioning:!1}),Km="startTransition",oc=Ox[Km];function Jm(t){let{basename:r,children:a,future:s,window:n}=t,l=p.useRef();l.current==null&&(l.current=Yp({window:n,v5Compat:!0}));let i=l.current,[d,o]=p.useState({action:i.action,location:i.location}),{v7_startTransition:c}=s||{},m=p.useCallback(h=>{c&&oc?oc(()=>o(h)):o(h)},[o,c]);return p.useLayoutEffect(()=>i.listen(m),[i,m]),p.useEffect(()=>Fm(s),[s]),p.createElement(Um,{basename:r,children:a,location:d.location,navigationType:d.action,navigator:i,future:s})}const Ym=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Xm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zm=p.forwardRef(function(r,a){let{onClick:s,relative:n,reloadDocument:l,replace:i,state:d,target:o,to:c,preventScrollReset:m,viewTransition:h}=r,x=Zu(r,Vm),{basename:_}=p.useContext(Ut),y,w=!1;if(typeof c=="string"&&Xm.test(c)&&(y=c,Ym))try{let u=new URL(window.location.href),b=c.startsWith("//")?new URL(u.protocol+c):new URL(c),f=ia(b.pathname,_);b.origin===u.origin&&f!=null?c=f+b.search+b.hash:w=!0}catch{}let z=wm(c,{relative:n}),j=th(c,{replace:i,state:d,target:o,preventScrollReset:m,relative:n,viewTransition:h});function g(u){s&&s(u),u.defaultPrevented||j(u)}return p.createElement("a",Cn({},x,{href:y||z,onClick:w||l?s:g,ref:a,target:o}))}),Et=p.forwardRef(function(r,a){let{"aria-current":s="page",caseSensitive:n=!1,className:l="",end:i=!1,style:d,to:o,viewTransition:c,children:m}=r,h=Zu(r,qm),x=Zn(o,{relative:h.relative}),_=Ct(),y=p.useContext(qu),{navigator:w,basename:z}=p.useContext(Ut),j=y!=null&&rh(x)&&c===!0,g=w.encodeLocation?w.encodeLocation(x).pathname:x.pathname,u=_.pathname,b=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(u=u.toLowerCase(),b=b?b.toLowerCase():null,g=g.toLowerCase()),b&&z&&(b=ia(b,z)||b);const f=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let v=u===g||!i&&u.startsWith(g)&&u.charAt(f)==="/",N=b!=null&&(b===g||!i&&b.startsWith(g)&&b.charAt(g.length)==="/"),k={isActive:v,isPending:N,isTransitioning:j},E=v?s:void 0,S;typeof l=="function"?S=l(k):S=[l,v?"active":null,N?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let C=typeof d=="function"?d(k):d;return p.createElement(Zm,Cn({},h,{"aria-current":E,className:S,ref:a,style:C,to:o,viewTransition:c}),typeof m=="function"?m(k):m)});var Fi;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Fi||(Fi={}));var dc;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(dc||(dc={}));function eh(t){let r=p.useContext(Jn);return r||ue(!1),r}function th(t,r){let{target:a,replace:s,state:n,preventScrollReset:l,relative:i,viewTransition:d}=r===void 0?{}:r,o=ee(),c=Ct(),m=Zn(t,{relative:i});return p.useCallback(h=>{if(Hm(h,a)){h.preventDefault();let x=s!==void 0?s:Sn(c)===Sn(m);o(t,{replace:x,state:n,preventScrollReset:l,relative:i,viewTransition:d})}},[c,o,m,s,n,a,t,l,i,d])}function rh(t,r){r===void 0&&(r={});let a=p.useContext(Gm);a==null&&ue(!1);let{basename:s}=eh(Fi.useViewTransitionState),n=Zn(t,{relative:r.relative});if(!a.isTransitioning)return!1;let l=ia(a.currentLocation.pathname,s)||a.currentLocation.pathname,i=ia(a.nextLocation.pathname,s)||a.nextLocation.pathname;return Ai(n.pathname,i)!=null||Ai(n.pathname,l)!=null}const ah=()=>e.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-white overflow-hidden font-sans",children:[e.jsxs("div",{className:"absolute inset-0 z-0",children:[e.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[600px] h-[600px] bg-teal-200/30 rounded-full blur-[100px] animate-pulse-slow"}),e.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[700px] h-[700px] bg-indigo-200/30 rounded-full blur-[120px] animate-pulse-slow delay-1000"})]}),e.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[e.jsx("div",{className:"mb-12 relative group",children:e.jsxs("div",{className:"relative w-24 h-24 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-teal-400/20 rounded-full blur-2xl animate-pulse"}),e.jsxs("div",{className:"relative grid grid-cols-2 gap-2 animate-spin-slow",children:[e.jsx("div",{className:"w-5 h-5 rounded-full bg-gradient-to-tr from-teal-500 to-emerald-400 shadow-lg shadow-teal-500/30"}),e.jsx("div",{className:"w-5 h-5 rounded-full bg-slate-300"}),e.jsx("div",{className:"w-5 h-5 rounded-full bg-slate-300"}),e.jsx("div",{className:"w-5 h-5 rounded-full bg-gradient-to-bl from-teal-600 to-cyan-500 shadow-lg shadow-teal-500/30"})]})]})}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsxs("h1",{className:"text-5xl md:text-6xl font-bold tracking-tight text-slate-800 drop-shadow-sm",children:["CareSync",e.jsx("span",{className:"font-light text-teal-600",children:"OS"})]}),e.jsx("div",{className:"h-px w-20 bg-gradient-to-r from-transparent via-slate-300 to-transparent mx-auto my-6"}),e.jsx("p",{className:"text-sm md:text-base font-semibold text-slate-500 tracking-[0.3em] uppercase",children:"Next Gen Medical System"})]}),e.jsx("div",{className:"mt-14 w-32 h-1.5 bg-slate-100 rounded-full overflow-hidden shadow-inner",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-teal-500 via-emerald-400 to-cyan-500 animate-loading-bar rounded-full"})})]}),e.jsxs("div",{className:"absolute bottom-10 left-0 right-0 flex flex-col items-center space-y-3",children:[e.jsx("span",{className:"px-3 py-1 rounded-full border border-slate-200 bg-white/50 text-[11px] font-mono text-slate-400 tracking-wider backdrop-blur-sm shadow-sm",children:"v2.5.0"}),e.jsxs("p",{className:"text-sm font-medium tracking-wide",children:[e.jsx("span",{className:"text-slate-400",children:"Created by "}),e.jsx("span",{className:"bg-gradient-to-r from-teal-600 via-emerald-600 to-indigo-600 bg-clip-text text-transparent font-bold",children:"Sumit Srivastava"})]})]}),e.jsx("style",{children:`
        @keyframes loading-bar {
          0% { width: 0%; transform: translateX(-100%); opacity: 0; }
          40% { width: 60%; transform: translateX(0); opacity: 1; }
          100% { width: 100%; transform: translateX(100%); opacity: 0; }
        }
        @keyframes spin-slow {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
        .animate-loading-bar {
          animation: loading-bar 2s infinite ease-in-out;
        }
        .animate-spin-slow {
          animation: spin-slow 3s linear infinite;
        }
        .animate-pulse-slow {
          animation: pulse 6s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
      `})]}),sh={},cc=t=>{let r;const a=new Set,s=(m,h)=>{const x=typeof m=="function"?m(r):m;if(!Object.is(x,r)){const _=r;r=(h!=null?h:typeof x!="object"||x===null)?x:Object.assign({},r,x),a.forEach(y=>y(r,_))}},n=()=>r,o={setState:s,getState:n,getInitialState:()=>c,subscribe:m=>(a.add(m),()=>a.delete(m)),destroy:()=>{(sh?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),a.clear()}},c=r=t(s,n,o);return o},nh=t=>t?cc(t):cc;var ex={exports:{}},tx={},rx={exports:{}},ax={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var da=p;function lh(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var ih=typeof Object.is=="function"?Object.is:lh,oh=da.useState,dh=da.useEffect,ch=da.useLayoutEffect,uh=da.useDebugValue;function xh(t,r){var a=r(),s=oh({inst:{value:a,getSnapshot:r}}),n=s[0].inst,l=s[1];return ch(function(){n.value=a,n.getSnapshot=r,Tl(n)&&l({inst:n})},[t,a,r]),dh(function(){return Tl(n)&&l({inst:n}),t(function(){Tl(n)&&l({inst:n})})},[t]),uh(a),a}function Tl(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!ih(t,a)}catch{return!0}}function gh(t,r){return r()}var ph=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?gh:xh;ax.useSyncExternalStore=da.useSyncExternalStore!==void 0?da.useSyncExternalStore:ph;rx.exports=ax;var mh=rx.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var el=p,hh=mh;function fh(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var yh=typeof Object.is=="function"?Object.is:fh,bh=hh.useSyncExternalStore,vh=el.useRef,jh=el.useEffect,kh=el.useMemo,wh=el.useDebugValue;tx.useSyncExternalStoreWithSelector=function(t,r,a,s,n){var l=vh(null);if(l.current===null){var i={hasValue:!1,value:null};l.current=i}else i=l.current;l=kh(function(){function o(_){if(!c){if(c=!0,m=_,_=s(_),n!==void 0&&i.hasValue){var y=i.value;if(n(y,_))return h=y}return h=_}if(y=h,yh(m,_))return y;var w=s(_);return n!==void 0&&n(y,w)?(m=_,y):(m=_,h=w)}var c=!1,m,h,x=a===void 0?null:a;return[function(){return o(r())},x===null?void 0:function(){return o(x())}]},[r,a,s,n]);var d=bh(t,l[0],l[1]);return jh(function(){i.hasValue=!0,i.value=d},[d]),wh(d),d};ex.exports=tx;var Nh=ex.exports;const _h=Pc(Nh),sx={},{useDebugValue:Sh}=Fc,{useSyncExternalStoreWithSelector:Ch}=_h;let uc=!1;const zh=t=>t;function Ph(t,r=zh,a){(sx?"production":void 0)!=="production"&&a&&!uc&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),uc=!0);const s=Ch(t.subscribe,t.getState,t.getServerState||t.getInitialState,r,a);return Sh(s),s}const Eh=t=>{(sx?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const r=typeof t=="function"?nh(t):t,a=(s,n)=>Ph(r,s,n);return Object.assign(a,r),a},Lh=t=>Eh,Th={};function nx(t,r){let a;try{a=t()}catch{return}return{getItem:n=>{var l;const i=o=>o===null?null:JSON.parse(o,void 0),d=(l=a.getItem(n))!=null?l:null;return d instanceof Promise?d.then(i):i(d)},setItem:(n,l)=>a.setItem(n,JSON.stringify(l,void 0)),removeItem:n=>a.removeItem(n)}}const ns=t=>r=>{try{const a=t(r);return a instanceof Promise?a:{then(s){return ns(s)(a)},catch(s){return this}}}catch(a){return{then(s){return this},catch(s){return ns(s)(a)}}}},Mh=(t,r)=>(a,s,n)=>{let l={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:z=>z,version:0,merge:(z,j)=>({...j,...z}),...r},i=!1;const d=new Set,o=new Set;let c;try{c=l.getStorage()}catch{}if(!c)return t((...z)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),a(...z)},s,n);const m=ns(l.serialize),h=()=>{const z=l.partialize({...s()});let j;const g=m({state:z,version:l.version}).then(u=>c.setItem(l.name,u)).catch(u=>{j=u});if(j)throw j;return g},x=n.setState;n.setState=(z,j)=>{x(z,j),h()};const _=t((...z)=>{a(...z),h()},s,n);let y;const w=()=>{var z;if(!c)return;i=!1,d.forEach(g=>g(s()));const j=((z=l.onRehydrateStorage)==null?void 0:z.call(l,s()))||void 0;return ns(c.getItem.bind(c))(l.name).then(g=>{if(g)return l.deserialize(g)}).then(g=>{if(g)if(typeof g.version=="number"&&g.version!==l.version){if(l.migrate)return l.migrate(g.state,g.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return g.state}).then(g=>{var u;return y=l.merge(g,(u=s())!=null?u:_),a(y,!0),h()}).then(()=>{j==null||j(y,void 0),i=!0,o.forEach(g=>g(y))}).catch(g=>{j==null||j(void 0,g)})};return n.persist={setOptions:z=>{l={...l,...z},z.getStorage&&(c=z.getStorage())},clearStorage:()=>{c==null||c.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>w(),hasHydrated:()=>i,onHydrate:z=>(d.add(z),()=>{d.delete(z)}),onFinishHydration:z=>(o.add(z),()=>{o.delete(z)})},w(),y||_},Dh=(t,r)=>(a,s,n)=>{let l={storage:nx(()=>localStorage),partialize:w=>w,version:0,merge:(w,z)=>({...z,...w}),...r},i=!1;const d=new Set,o=new Set;let c=l.storage;if(!c)return t((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),a(...w)},s,n);const m=()=>{const w=l.partialize({...s()});return c.setItem(l.name,{state:w,version:l.version})},h=n.setState;n.setState=(w,z)=>{h(w,z),m()};const x=t((...w)=>{a(...w),m()},s,n);n.getInitialState=()=>x;let _;const y=()=>{var w,z;if(!c)return;i=!1,d.forEach(g=>{var u;return g((u=s())!=null?u:x)});const j=((z=l.onRehydrateStorage)==null?void 0:z.call(l,(w=s())!=null?w:x))||void 0;return ns(c.getItem.bind(c))(l.name).then(g=>{if(g)if(typeof g.version=="number"&&g.version!==l.version){if(l.migrate)return[!0,l.migrate(g.state,g.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,g.state];return[!1,void 0]}).then(g=>{var u;const[b,f]=g;if(_=l.merge(f,(u=s())!=null?u:x),a(_,!0),b)return m()}).then(()=>{j==null||j(_,void 0),_=s(),i=!0,o.forEach(g=>g(_))}).catch(g=>{j==null||j(void 0,g)})};return n.persist={setOptions:w=>{l={...l,...w},w.storage&&(c=w.storage)},clearStorage:()=>{c==null||c.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>y(),hasHydrated:()=>i,onHydrate:w=>(d.add(w),()=>{d.delete(w)}),onFinishHydration:w=>(o.add(w),()=>{o.delete(w)})},l.skipHydration||y(),_||x},$h=(t,r)=>"getStorage"in r||"serialize"in r||"deserialize"in r?((Th?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Mh(t,r)):Dh(t,r),Ih=$h,G=Lh()(Ih(t=>({user:null,isAuthenticated:!1,login:r=>t({user:r,isAuthenticated:!0}),logout:()=>t({user:null,isAuthenticated:!1})}),{name:"auth-storage",storage:nx(()=>localStorage)})),Rh="https://prospine.in/admin/mobile/api",Ah=()=>{const t=G(y=>y.login),[r,a]=p.useState(""),[s,n]=p.useState(""),[l,i]=p.useState(!1),[d,o]=p.useState(!1),[c,m]=p.useState(null),[h,x]=p.useState(!1),_=async y=>{y.preventDefault(),o(!0),m(null);try{const w=await fetch(`${Rh}/login.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r,password:s})}),z=await w.json();if(!w.ok||z.status==="error")throw new Error(z.message||"Login failed");t({id:z.data.user.employee_id,name:z.data.user.full_name,email:z.data.user.email,role:z.data.user.role_name,token:z.data.token,photo:z.data.user.photo_path,branch_id:z.data.user.branch_id,employee_id:z.data.user.employee_id})}catch(w){console.error("Login Error:",w),m(w.message||"Unable to connect to server")}finally{o(!1)}};return e.jsxs("div",{className:"min-h-screen flex flex-col bg-white overflow-hidden font-sans relative",children:[e.jsxs("div",{className:"absolute inset-0 pointer-events-none z-0",children:[e.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[500px] h-[500px] bg-teal-50/80 rounded-full blur-[80px]"}),e.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[500px] h-[500px] bg-indigo-50/80 rounded-full blur-[80px]"})]}),e.jsxs("div",{className:"relative z-10 flex-1 flex flex-col",children:[e.jsxs("div",{className:"flex-none pt-20 pb-10 flex flex-col items-center text-center px-6",children:[e.jsxs("div",{className:"mb-8 relative w-16 h-16 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-teal-400/20 rounded-full blur-xl animate-pulse"}),e.jsxs("div",{className:"relative grid grid-cols-2 gap-1.5 transform rotate-45",children:[e.jsx("div",{className:"w-4 h-4 rounded-full bg-gradient-to-tr from-teal-500 to-emerald-400"}),e.jsx("div",{className:"w-4 h-4 rounded-full bg-slate-200 border border-slate-300"}),e.jsx("div",{className:"w-4 h-4 rounded-full bg-slate-200 border border-slate-300"}),e.jsx("div",{className:"w-4 h-4 rounded-full bg-gradient-to-bl from-teal-600 to-cyan-500"})]})]}),e.jsxs("h1",{className:"text-4xl font-bold tracking-tight text-slate-800 drop-shadow-sm",children:["CareSync",e.jsx("span",{className:"font-light text-teal-600",children:"OS"})]}),e.jsx("p",{className:"text-sm text-slate-500 mt-3 font-medium tracking-wide uppercase",children:"Next Gen Medical System"})]}),e.jsx("div",{className:"flex-1 px-8 md:px-12 w-full max-w-md mx-auto",children:e.jsxs("form",{onSubmit:_,className:"space-y-6",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("input",{type:"text",id:"email",required:!0,value:r,onChange:y=>a(y.target.value),className:"peer w-full px-4 py-3.5 border border-gray-200 rounded-xl text-gray-900 focus:outline-none focus:border-teal-500 focus:ring-1 focus:ring-teal-500 placeholder-transparent bg-white/50 backdrop-blur-sm transition-all shadow-sm",placeholder:"Email or Username"}),e.jsx("label",{htmlFor:"email",className:`absolute left-3.5 -top-2.5 bg-white/80 px-1.5 text-xs text-teal-600 font-medium rounded-full transition-all 
                           peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-placeholder-shown:top-3.5 peer-placeholder-shown:left-4 peer-placeholder-shown:bg-transparent
                           peer-focus:-top-2.5 peer-focus:text-xs peer-focus:text-teal-600 peer-focus:bg-white/90`,children:"Email or Username"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("input",{type:l?"text":"password",id:"password",required:!0,value:s,onChange:y=>n(y.target.value),className:"peer w-full px-4 py-3.5 pr-12 border border-gray-200 rounded-xl text-gray-900 focus:outline-none focus:border-teal-500 focus:ring-1 focus:ring-teal-500 placeholder-transparent bg-white/50 backdrop-blur-sm transition-all shadow-sm",placeholder:"Password"}),e.jsx("label",{htmlFor:"password",className:`absolute left-3.5 -top-2.5 bg-white/80 px-1.5 text-xs text-teal-600 font-medium rounded-full transition-all 
                           peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-placeholder-shown:top-3.5 peer-placeholder-shown:left-4 peer-placeholder-shown:bg-transparent
                           peer-focus:-top-2.5 peer-focus:text-xs peer-focus:text-teal-600 peer-focus:bg-white/90`,children:"Password"}),e.jsx("button",{type:"button",onClick:()=>i(!l),className:"absolute right-3 top-3.5 text-gray-400 hover:text-teal-600 focus:outline-none transition-colors",tabIndex:-1,children:l?e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),c&&e.jsxs("div",{className:"p-4 bg-red-50/80 backdrop-blur-sm border border-red-100 text-red-600 text-sm rounded-xl flex items-center gap-3 animate-fadeIn shadow-sm",children:[e.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),c]}),e.jsx("div",{className:"flex items-center justify-end text-sm",children:e.jsx("button",{type:"button",onClick:()=>x(!0),className:"font-medium text-teal-600 hover:text-teal-800 transition-colors",children:"Forgot password?"})}),e.jsx("button",{type:"submit",disabled:d,className:"w-full flex justify-center py-3.5 px-4 border border-transparent rounded-xl shadow-lg shadow-teal-500/30 text-sm font-bold text-white bg-gradient-to-r from-teal-500 to-teal-600 hover:from-teal-600 hover:to-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all transform active:scale-[0.98]",children:d?e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):"Sign In"})]})}),e.jsxs("div",{className:"flex-none pb-8 text-center space-y-4 px-6 relative z-10",children:[e.jsxs("div",{className:"flex flex-col items-center space-y-1",children:[e.jsx("span",{className:"px-3 py-0.5 rounded-full bg-slate-100 border border-slate-200 text-[10px] font-mono text-slate-400 tracking-wider",children:"v2.5.0"}),e.jsxs("p",{className:"text-sm font-medium tracking-wide",children:[e.jsx("span",{className:"text-slate-400",children:"Created by "}),e.jsx("span",{className:"bg-gradient-to-r from-teal-600 via-emerald-600 to-indigo-600 bg-clip-text text-transparent font-bold",children:"Sumit Srivastava"})]})]}),e.jsx("p",{className:"text-xs text-slate-300",children:" 2025 CareSyncOS. All rights reserved."})]})]}),h&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-fadeIn",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-sm w-full p-6 text-center transform transition-all scale-100",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-teal-100 text-teal-600 flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Reset Password"}),e.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Password reset is not available directly. Please contact your system administrator to request a new password."}),e.jsx("button",{onClick:()=>x(!1),className:"w-full py-2.5 px-4 bg-teal-600 text-white rounded-xl font-medium hover:bg-teal-700 transition-colors",children:"Got it"})]})})]})};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Oh={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),R=(t,r)=>{const a=p.forwardRef(({color:s="currentColor",size:n=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:d="",children:o,...c},m)=>p.createElement("svg",{ref:m,...Oh,width:n,height:n,stroke:s,strokeWidth:i?Number(l)*24/Number(n):l,className:["lucide",`lucide-${Fh(t)}`,d].join(" "),...c},[...r.map(([h,x])=>p.createElement(h,x)),...Array.isArray(o)?o:[o]]));return a.displayName=`${t}`,a};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=R("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=R("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=R("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=R("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=R("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=R("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=R("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=R("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=R("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=R("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=R("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=R("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=R("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=R("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=R("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=R("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=R("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=R("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=R("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=R("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=R("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=R("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=R("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=R("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=R("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=R("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=R("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=R("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=R("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=R("Construction",[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=R("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=R("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=R("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=R("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=R("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=R("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=R("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=R("Frown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=R("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=R("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=R("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=R("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=R("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=R("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=R("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=R("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=R("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=R("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=R("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=R("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=R("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=R("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=R("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=R("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=R("Meh",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"8",x2:"16",y1:"15",y2:"15",key:"1xb1d9"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=R("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=R("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=R("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=R("Microscope",[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=R("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=R("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=R("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=R("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=R("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=R("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=R("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=R("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=R("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=R("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=R("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=R("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=R("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=R("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=R("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gf=R("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=R("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=R("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=R("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pf=R("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=R("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=R("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=R("TestTube2",[["path",{d:"M21 7 6.82 21.18a2.83 2.83 0 0 1-3.99-.01v0a2.83 2.83 0 0 1 0-4L17 3",key:"dg8b2p"}],["path",{d:"m16 2 6 6",key:"1gw87d"}],["path",{d:"M12 16H4",key:"1cjfip"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=R("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=R("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=R("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=R("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=R("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=R("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=R("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=R("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=R("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=R("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=R("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Is="https://prospine.in/admin/mobile/api",Ml="https://prospine.in/",Rs=()=>{const{user:t}=G(),[r,a]=p.useState([]),[s,n]=p.useState(null),[l,i]=p.useState([]),[d,o]=p.useState(""),[c,m]=p.useState(!1),[h,x]=p.useState(!1),[_,y]=p.useState(null),[w,z]=p.useState(""),j=p.useRef(null),g=p.useRef(null),u=Ct(),{id:b}=Xn(),f=ee();p.useEffect(()=>{N();const L=setInterval(N,15e3);return()=>clearInterval(L)},[]),p.useEffect(()=>{const L=u.state;if(L!=null&&L.targetUserId){f(`/chat/${L.targetUserId}`,{replace:!0,state:{}});return}if(b){const T=parseInt(b);if(!isNaN(T)&&r.length>0){const W=r.find(D=>D.id===T);W&&n(W)}}else n(null)},[b,r,u.state,f]),p.useEffect(()=>{if(!s)return;k(s.id);const L=setInterval(()=>{k(s.id,!0)},3e3);return()=>clearInterval(L)},[s]),p.useEffect(()=>{v()},[l]);const v=()=>{var L;(L=j.current)==null||L.scrollIntoView({behavior:"smooth"})},N=async()=>{try{const L=new URLSearchParams,T=(t==null?void 0:t.employee_id)||(t==null?void 0:t.id);T&&L.append("employee_id",T.toString());const W=(t==null?void 0:t.branch_id)||1;L.append("branch_id",W.toString()),L.append("action","users");const U=await(await fetch(`${Is}/chat.php?${L.toString()}`)).json();U.success&&U.users&&a(U.users)}catch(L){console.error("Error fetching users:",L)}},k=async(L,T=!1)=>{T||m(!0);try{const W=new URLSearchParams,D=(t==null?void 0:t.employee_id)||(t==null?void 0:t.id);D&&W.append("employee_id",D.toString());const U=(t==null?void 0:t.branch_id)||1;W.append("branch_id",U.toString()),W.append("action","fetch"),W.append("partner_id",L.toString());const H=await(await fetch(`${Is}/chat.php?${W.toString()}`)).json();H.success&&H.messages&&i(H.messages)}catch(W){console.error("Error fetching messages:",W)}finally{T||m(!1)}},E=async L=>{if(L.target.files&&L.target.files[0]&&s){const T=L.target.files[0];x(!0);const W=new FormData,D=(t==null?void 0:t.employee_id)||(t==null?void 0:t.id);D&&W.append("employee_id",D.toString());const U=(t==null?void 0:t.branch_id)||1;W.append("branch_id",U.toString()),W.append("action","send"),W.append("receiver_id",s.id.toString()),W.append("file",T);try{await fetch(`${Is}/chat.php`,{method:"POST",body:W}),k(s.id)}catch(A){console.error("Error uploading file:",A),alert("Upload failed")}finally{x(!1)}g.current&&(g.current.value="")}},S=async()=>{if(!d.trim()||!s)return;const L=d;o("");try{const T=new FormData,W=(t==null?void 0:t.employee_id)||(t==null?void 0:t.id);W&&T.append("employee_id",W.toString());const D=(t==null?void 0:t.branch_id)||1;T.append("branch_id",D.toString()),T.append("action","send"),T.append("receiver_id",s.id.toString()),T.append("message_text",L);const A=await(await fetch(`${Is}/chat.php`,{method:"POST",body:T})).json();A.success?k(s.id,!0):(alert("Failed to send: "+A.message),o(L))}catch(T){console.error("Error sending message:",T),o(L)}},C=u.pathname.startsWith("/admin")?"/admin/chat":"/chat",P=()=>{f(C),i([]),N()},M=r.filter(L=>L.username.toLowerCase().includes(w.toLowerCase())||L.role.toLowerCase().includes(w.toLowerCase())),B=L=>{const T=L.is_sender,D=new Date(L.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return e.jsx("div",{className:`flex w-full mb-4 ${T?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-[75%] rounded-2xl px-4 py-3 shadow-md relative group ${T?"bg-gradient-to-br from-teal-500 to-teal-600 text-white rounded-br-none":"bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-100 rounded-bl-none border border-gray-100 dark:border-gray-700"}`,children:[L.message_type==="text"&&e.jsx("p",{className:"text-sm md:text-base leading-relaxed break-words",children:L.message_text}),L.message_type==="image"&&e.jsx("div",{className:"rounded-lg overflow-hidden mb-1 cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>y(`${Ml}${L.message_text}`),children:e.jsx("img",{src:`${Ml}${L.message_text}`,alt:"Shared",className:"max-w-full h-auto object-cover"})}),(L.message_type==="pdf"||L.message_type==="doc")&&e.jsxs("a",{href:`${Ml}${L.message_text}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-white/10 p-2 rounded hover:bg-white/20 transition-colors",children:[e.jsx(Xe,{size:20}),e.jsx("span",{className:"text-sm underline truncate max-w-[150px]",children:"Attachment"})]}),e.jsxs("div",{className:`text-[10px] mt-1 flex items-center justify-end gap-1 ${T?"text-teal-100":"text-gray-400"}`,children:[e.jsx("span",{children:D}),T&&(L.is_read?e.jsx(Jh,{size:14,className:"text-blue-200"}):e.jsx(Yh,{size:14}))]})]})},L.message_id)};return s?e.jsxs("div",{className:"flex flex-col h-full bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-md px-4 py-3 pt-[max(env(safe-area-inset-top),10px)] sticky top-0 z-30 border-b border-gray-100 dark:border-gray-700 shadow-sm flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:P,className:"p-2 -ml-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:e.jsx(et,{size:22,className:"text-gray-700 dark:text-gray-200"})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-tr from-indigo-400 to-purple-500 flex items-center justify-center text-white font-bold text-sm shadow-md",children:s.username.charAt(0).toUpperCase()}),e.jsx("div",{children:e.jsx("h2",{className:"font-bold text-gray-900 dark:text-white text-sm leading-tight",children:s.username})})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar bg-slate-50 dark:bg-slate-900/50",style:{backgroundImage:"radial-gradient(circle at center, #e2e8f0 1px, transparent 1px)",backgroundSize:"24px 24px",opacity:.9},children:[c&&l.length===0?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-teal-500"})}):l.length>0?l.map(B):e.jsxs("div",{className:"flex flex-col items-center justify-center h-full opacity-40",children:[e.jsx(Ot,{size:64,className:"text-gray-300 mb-4"}),e.jsxs("p",{className:"text-gray-500 text-sm",children:["Start a conversation with ",s.username]})]}),e.jsx("div",{ref:j})]}),e.jsx("div",{className:"p-3 bg-white dark:bg-gray-800 border-t border-gray-100 dark:border-gray-700 pb-[max(env(safe-area-inset-bottom),12px)]",children:e.jsxs("div",{className:"flex items-end gap-2 max-w-4xl mx-auto",children:[e.jsx("input",{type:"file",ref:g,className:"hidden",onChange:E,accept:"image/*,.pdf,.doc,.docx"}),e.jsx("button",{onClick:()=>{var L;return!h&&((L=g.current)==null?void 0:L.click())},disabled:h,className:"p-3 text-gray-400 hover:text-teal-600 bg-gray-50 dark:bg-gray-700/50 rounded-2xl hover:bg-teal-50 transition-all disabled:opacity-50",children:h?e.jsx(En,{size:20,className:"animate-spin text-teal-600"}):e.jsx(df,{size:20})}),e.jsx("div",{className:"flex-1 bg-gray-100 dark:bg-gray-700/50 rounded-2xl flex items-center px-4 py-2 focus-within:ring-2 focus-within:ring-teal-500/30 transition-all",children:e.jsx("textarea",{value:d,onChange:L=>o(L.target.value),onKeyDown:L=>{L.key==="Enter"&&!L.shiftKey&&(L.preventDefault(),S())},placeholder:"Type a message...",className:"bg-transparent border-none focus:ring-0 w-full text-sm max-h-32 resize-none py-2 text-gray-900 dark:text-white placeholder-gray-500",rows:1,style:{minHeight:"40px"}})}),e.jsx("button",{onClick:S,disabled:!d.trim(),className:"p-3 bg-teal-600 text-white rounded-2xl shadow-lg shadow-teal-600/30 hover:bg-teal-700 hover:scale-105 active:scale-95 transition-all disabled:opacity-50 disabled:shadow-none disabled:hover:scale-100",children:e.jsx(hx,{size:20})})]})}),_&&e.jsxs("div",{className:"fixed inset-0 z-50 bg-black/95 flex items-center justify-center p-4 animate-in fade-in duration-200",onClick:()=>y(null),children:[e.jsx("button",{className:"absolute top-4 right-4 p-2 bg-white/10 rounded-full text-white hover:bg-white/20 transition-colors",children:e.jsx(Te,{size:24})}),e.jsx("img",{src:_||"",alt:"Full size",className:"max-w-full max-h-[90vh] object-contain rounded-lg shadow-2xl"})]})]}):e.jsxs("div",{className:"flex flex-col h-full bg-gray-50 dark:bg-gray-900 pb-[env(safe-area-inset-bottom)]",children:[e.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-md px-4 py-3 pt-[max(env(safe-area-inset-top),16px)] sticky top-0 z-30 border-b border-gray-100 dark:border-gray-700 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h1",{className:"text-2xl font-black text-gray-900 dark:text-white tracking-tight",children:"Chats"}),e.jsx("div",{className:"p-2 bg-teal-50 dark:bg-teal-900/20 rounded-full",children:e.jsx(Ot,{size:20,className:"text-teal-600 dark:text-teal-400"})})]}),e.jsxs("div",{className:"relative",children:[e.jsx(He,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),e.jsx("input",{type:"text",placeholder:"Search colleagues...",value:w,onChange:L=>z(L.target.value),className:"w-full bg-gray-100 dark:bg-gray-700/50 text-gray-900 dark:text-white pl-10 pr-4 py-2.5 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-teal-500/50 transition-all font-medium placeholder-gray-500"})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2 pb-24 custom-scrollbar",children:M.length>0?M.map(L=>e.jsxs("button",{onClick:()=>f(`${C}/${L.id}`),className:"w-full bg-white dark:bg-gray-800 p-3 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 flex items-center gap-4 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-all active:scale-[0.98] group",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-tr from-indigo-400 to-purple-500 flex items-center justify-center text-white font-bold text-lg shadow-lg group-hover:shadow-indigo-500/30 transition-shadow",children:L.username.charAt(0).toUpperCase()}),e.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 border-2 border-white dark:border-gray-800 rounded-full"})]}),e.jsxs("div",{className:"flex-1 text-left overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white text-base truncate",children:L.username}),e.jsx("span",{className:"text-[10px] text-gray-400 font-medium bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded-md",children:L.role})]}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate mt-0.5",children:["Tap to chat with ",L.username.split(" ")[0]]})]}),L.unread_count>0&&e.jsx("div",{className:"w-6 h-6 rounded-full bg-teal-500 flex items-center justify-center text-white text-xs font-bold shadow-md shadow-teal-500/30 animate-pulse",children:L.unread_count})]},L.id)):e.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-400",children:[e.jsx(X,{size:48,className:"mb-2 opacity-20"}),e.jsx("p",{className:"text-sm font-medium",children:"No colleagues found"})]})})]})};function ya(){const[t,r]=p.useState(localStorage.getItem("theme")||"light");return p.useEffect(()=>{const s=window.document.documentElement;t==="dark"?s.classList.add("dark"):s.classList.remove("dark"),localStorage.setItem("theme",t)},[t]),{theme:t,toggleTheme:()=>{r(s=>s==="light"?"dark":"light")}}}const As="https://prospine.in/admin/mobile/api",yf=()=>{var N;const{user:t}=G(),{theme:r,toggleTheme:a}=ya(),s=ee(),[n,l]=p.useState(null),[i,d]=p.useState(!0),[o,c]=p.useState(!1),[m,h]=p.useState([]),[x,_]=p.useState(0),y=async()=>{try{const E=await(await fetch(`${As}/dashboard.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({branch_id:(t==null?void 0:t.branch_id)||1,employee_id:(t==null?void 0:t.employee_id)||(t==null?void 0:t.id)})})).json();E.status==="success"&&l(E.data)}catch(k){console.error("Failed to fetch dashboard",k)}finally{d(!1)}},w=async()=>{if(t)try{const k=t.employee_id||t.id,S=await(await fetch(`${As}/notifications.php?employee_id=${k}`)).json();S.status==="success"&&(h(S.data),_(S.unread_count))}catch(k){console.error("Failed to fetch notifications",k)}},z=async k=>{try{await fetch(`${As}/notifications.php`,{method:"POST",body:JSON.stringify({action:"mark_read",notification_id:k})}),h(E=>E.map(S=>S.notification_id===k?{...S,is_read:1}:S)),_(E=>Math.max(0,E-1))}catch(E){console.error(E)}},j=async()=>{if(t)try{const k=t.employee_id||t.id;await fetch(`${As}/notifications.php`,{method:"POST",body:JSON.stringify({action:"mark_all_read",employee_id:k})}),h(E=>E.map(S=>({...S,is_read:1}))),_(0)}catch(k){console.error(k)}};p.useEffect(()=>{y(),w();const k=setInterval(w,3e4);return()=>clearInterval(k)},[]);const g=k=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(k),u=k=>{const E=new Date(k),C=Math.floor((new Date().getTime()-E.getTime())/1e3);let P=C/31536e3;return P>1?Math.floor(P)+"y ago":(P=C/2592e3,P>1?Math.floor(P)+"mo ago":(P=C/86400,P>1?Math.floor(P)+"d ago":(P=C/3600,P>1?Math.floor(P)+"h ago":(P=C/60,P>1?Math.floor(P)+"m ago":"Just now"))))};if(i)return e.jsx("div",{className:"flex items-center justify-center min-h-[50vh] bg-gray-50 dark:bg-gray-900",children:e.jsx("div",{className:"w-8 h-8 border-4 border-teal-200 border-t-teal-600 rounded-full animate-spin"})});const b=()=>e.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-teal-600 to-emerald-800 rounded-3xl p-6 shadow-xl shadow-teal-900/20 text-white mb-6",children:[e.jsx("div",{className:"absolute top-0 right-0 -mr-8 -mt-8 w-32 h-32 rounded-full bg-white/10 blur-2xl"}),e.jsx("div",{className:"absolute bottom-0 left-0 -ml-8 -mb-8 w-24 h-24 rounded-full bg-black/10 blur-xl"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4 opacity-90",children:[e.jsx("div",{className:"p-2 rounded-xl bg-white/20 backdrop-blur-sm",children:e.jsx(Le,{size:20,className:"text-white"})}),e.jsx("span",{className:"text-sm font-semibold tracking-wide uppercase",children:"Today's Revenue"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-4xl font-bold tracking-tight mb-1",children:n?g(n.payments.today.received):"0"}),e.jsx("p",{className:"text-teal-100 text-xs font-medium",children:"Total Collection"})]}),n&&e.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{label:"Cons.",val:n.payments.today.breakdown.registrations,color:"bg-blue-400"},{label:"Tests",val:n.payments.today.breakdown.tests,color:"bg-purple-400"},{label:"Treat",val:n.payments.today.breakdown.treatments,color:"bg-orange-400"}].map((k,E)=>e.jsxs("div",{className:"bg-black/20 backdrop-blur-sm rounded-xl p-2.5 flex flex-col items-center justify-center text-center",children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${k.color} mb-1.5 shadow-[0_0_8px_currentColor]`}),e.jsx("span",{className:"text-[10px] text-teal-100 uppercase font-bold mb-0.5",children:k.label}),e.jsx("span",{className:"text-xs font-bold",children:g(k.val).replace("","")})]},E))})]})]}),f=({title:k,value:E,subValue:S,icon:C,color:P,onClick:M})=>e.jsxs("div",{onClick:M,className:`bg-white dark:bg-gray-800 rounded-3xl p-5 shadow-sm border border-gray-100 dark:border-gray-700 flex flex-col justify-between h-full relative overflow-hidden group ${M?"cursor-pointer active:scale-95 transition-transform":""}`,children:[e.jsx("div",{className:`absolute top-0 right-0 p-4 opacity-5 group-hover:scale-110 transition-transform duration-500 ${P}`,children:e.jsx(C,{size:64})}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center mb-4 ${P} bg-opacity-10 dark:bg-opacity-20`,children:e.jsx(C,{size:20,className:P.replace("bg-","text-").replace("opacity-10","")})}),e.jsxs("div",{children:[e.jsx("span",{className:"block text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:k}),e.jsx("span",{className:"block text-2xl font-black text-gray-900 dark:text-white mb-1",children:E}),S&&e.jsx("span",{className:"inline-block px-2 py-0.5 rounded-md bg-gray-50 dark:bg-gray-700 text-[10px] font-bold text-gray-500",children:S})]})]})]}),v=({label:k,count:E,color:S,total:C=20})=>e.jsxs("div",{className:"mb-4 last:mb-0",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:k}),e.jsxs("span",{className:"text-xs font-bold text-gray-900 dark:text-white bg-gray-100 dark:bg-gray-700 px-2 py-0.5 rounded-md",children:[E," Waiting"]})]}),e.jsx("div",{className:"h-3 w-full bg-gray-100 dark:bg-gray-700 rounded-full overflow-hidden p-[2px]",children:e.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ease-out ${S} shadow-sm relative overflow-hidden`,style:{width:`${Math.min(E/C*100,100)}%`},children:e.jsx("div",{className:"absolute inset-0 bg-white/20 animate-[shimmer_2s_infinite]"})})})]});return e.jsxs("div",{className:"flex flex-col h-full bg-gray-50/50 dark:bg-gray-900 transition-colors duration-200",children:[e.jsxs("header",{className:"px-6 py-4 pt-11 flex items-center justify-between sticky top-0 z-20 bg-gray-50/80 dark:bg-gray-900/80 backdrop-blur-xl border-b border-gray-200/50 dark:border-gray-800/50",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-0.5",children:new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",weekday:"short"})}),e.jsx("h1",{className:"text-xl font-black text-gray-900 dark:text-white tracking-tight",children:"Dashboard"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:a,className:"w-10 h-10 rounded-full bg-white dark:bg-gray-800 shadow-sm border border-gray-100 dark:border-gray-700 flex items-center justify-center text-gray-600 dark:text-gray-300 active:scale-95 transition-transform",children:r==="dark"?e.jsx(qo,{size:18}):e.jsx(Ho,{size:18})}),e.jsxs("button",{onClick:()=>c(!o),className:"w-10 h-10 rounded-full bg-white dark:bg-gray-800 shadow-sm border border-gray-100 dark:border-gray-700 flex items-center justify-center text-gray-600 dark:text-gray-300 active:scale-95 transition-transform relative",children:[e.jsx(ca,{size:18}),x>0&&e.jsx("span",{className:"absolute top-2 right-2.5 w-2 h-2 bg-red-500 rounded-full border border-white dark:border-gray-800"})]}),e.jsx("button",{onClick:()=>s("/profile"),className:"w-10 h-10 rounded-full bg-gradient-to-tr from-teal-400 to-teal-600 p-[2px] shadow-lg shadow-teal-500/20 active:scale-95 transition-transform",children:e.jsx("div",{className:"w-full h-full rounded-full bg-white dark:bg-gray-900 flex items-center justify-center",children:e.jsx("span",{className:"font-bold text-sm text-teal-600 dark:text-teal-400",children:((N=t==null?void 0:t.name)==null?void 0:N.charAt(0))||"U"})})})]}),o&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-30 bg-black/5",onClick:()=>c(!1)}),e.jsxs("div",{className:"absolute top-full right-4 mt-2 w-80 md:w-96 bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-100 dark:border-gray-700 z-40 overflow-hidden animate-in fade-in zoom-in-95 duration-200 origin-top-right",children:[e.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50/50 dark:bg-gray-800/50 backdrop-blur-sm",children:[e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Notifications"}),x>0&&e.jsxs("span",{className:"text-xs font-bold text-teal-600",children:[x," new"]})]}),e.jsxs("div",{className:"flex gap-2",children:[x>0&&e.jsx("button",{onClick:j,className:"text-[10px] font-bold uppercase tracking-wider text-teal-600 hover:text-teal-700 dark:text-teal-400 px-2 py-1 bg-teal-50 dark:bg-teal-900/30 rounded-lg transition-colors",children:"Mark all read"}),e.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-white",children:e.jsx(Te,{size:16})})]})]}),e.jsx("div",{className:"max-h-[60vh] overflow-y-auto custom-scrollbar",children:m.length===0?e.jsxs("div",{className:"text-center py-10 opacity-50 flex flex-col items-center",children:[e.jsx(qh,{size:32,className:"text-gray-300 mb-2"}),e.jsx("p",{className:"text-xs font-bold text-gray-400",children:"No notifications"})]}):e.jsx("div",{className:"divide-y divide-gray-50 dark:divide-gray-700/50",children:m.map(k=>e.jsx("div",{className:`p-4 hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors cursor-pointer group relative ${k.is_read?"opacity-70":"bg-teal-50/30 dark:bg-teal-900/10"}`,onClick:()=>{if(k.is_read||z(k.notification_id),k.link_url&&k.link_url.startsWith("chat_with_employee_id:")){const E=k.link_url.split(":")[1];s("/chat",{state:{targetUserId:parseInt(E)}}),c(!1)}},children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:`p-2 rounded-full h-fit flex-shrink-0 ${k.is_read?"bg-gray-100 dark:bg-gray-700 text-gray-400":"bg-teal-100 dark:bg-teal-900/30 text-teal-600"}`,children:e.jsx(ca,{size:14})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("p",{className:`text-sm ${k.is_read?"font-medium text-gray-600 dark:text-gray-400":"font-bold text-gray-900 dark:text-white"} leading-snug mb-0.5`,children:k.message}),!k.is_read&&e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-teal-500 mt-1.5 flex-shrink-0"})]}),e.jsxs("p",{className:"text-[10px] text-gray-400 flex items-center gap-1",children:[e.jsx("span",{className:"font-semibold text-gray-500 dark:text-gray-500",children:k.first_name?`${k.first_name} ${k.last_name}`:"System"}),e.jsx("span",{children:""}),e.jsx("span",{children:u(k.created_at)})]})]})]})},k.notification_id))})})]})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 pb-32 space-y-8 no-scrollbar",children:n&&e.jsxs(e.Fragment,{children:[e.jsx(b,{}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("button",{onClick:()=>s("/registration"),className:"bg-teal-50 dark:bg-teal-900/20 p-4 rounded-3xl border border-teal-100 dark:border-teal-800 flex flex-col items-center justify-center gap-3 active:scale-[0.98] transition-all group relative overflow-hidden shadow-sm h-32",children:[e.jsx("div",{className:"w-10 h-10 bg-teal-500 rounded-2xl flex items-center justify-center text-white shadow-lg shadow-teal-500/30 shrink-0 group-hover:scale-110 transition-transform",children:e.jsx(Zr,{size:20,strokeWidth:2.5})}),e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"block text-[10px] font-bold text-teal-600 dark:text-teal-400 uppercase tracking-wider mb-0.5",children:"New"}),e.jsx("span",{className:"block text-base font-black text-gray-900 dark:text-white leading-none",children:"Registration"})]})]}),e.jsxs("button",{onClick:()=>s("/tests"),className:"bg-violet-50 dark:bg-violet-900/20 p-4 rounded-3xl border border-violet-100 dark:border-violet-800 flex flex-col items-center justify-center gap-3 active:scale-[0.98] transition-all group relative overflow-hidden shadow-sm h-32",children:[e.jsx("div",{className:"w-10 h-10 bg-violet-600 rounded-2xl flex items-center justify-center text-white shadow-lg shadow-violet-600/30 shrink-0 group-hover:scale-110 transition-transform",children:e.jsx(ds,{size:20,strokeWidth:2.5})}),e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"block text-[10px] font-bold text-violet-600 dark:text-violet-400 uppercase tracking-wider mb-0.5",children:"Add"}),e.jsx("span",{className:"block text-base font-black text-gray-900 dark:text-white leading-none",children:"Test"})]})]}),e.jsxs("button",{onClick:()=>s("/expenses"),className:"bg-indigo-50 dark:bg-indigo-900/20 p-4 rounded-3xl border border-indigo-100 dark:border-indigo-800 flex flex-col items-center justify-center gap-3 active:scale-[0.98] transition-all group relative overflow-hidden shadow-sm h-32",children:[e.jsx("div",{className:"w-10 h-10 bg-indigo-600 rounded-2xl flex items-center justify-center text-white shadow-lg shadow-indigo-600/30 shrink-0 group-hover:scale-110 transition-transform",children:e.jsx(Le,{size:20,strokeWidth:2.5})}),e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"block text-[10px] font-bold text-indigo-600 dark:text-indigo-400 uppercase tracking-wider mb-0.5",children:"Manage"}),e.jsx("span",{className:"block text-base font-black text-gray-900 dark:text-white leading-none",children:"Expenses"})]})]}),e.jsxs("button",{onClick:()=>s("/feedback"),className:"bg-emerald-50 dark:bg-emerald-900/20 p-4 rounded-3xl border border-emerald-100 dark:border-emerald-800 flex flex-col items-center justify-center gap-3 active:scale-[0.98] transition-all group relative overflow-hidden shadow-sm h-32",children:[e.jsx("div",{className:"w-10 h-10 bg-emerald-600 rounded-2xl flex items-center justify-center text-white shadow-lg shadow-emerald-600/30 shrink-0 group-hover:scale-110 transition-transform",children:e.jsx(ua,{size:20,strokeWidth:2.5})}),e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"block text-[10px] font-bold text-emerald-600 dark:text-emerald-400 uppercase tracking-wider mb-0.5",children:"Collect"}),e.jsx("span",{className:"block text-base font-black text-gray-900 dark:text-white leading-none",children:"Feedback"})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 px-1",children:[e.jsx("h3",{className:"text-sm font-black text-gray-900 dark:text-white uppercase tracking-wider flex items-center gap-2",children:"Live Activity"}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsxs("span",{className:"relative flex h-2 w-2",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-teal-400 opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-teal-500"})]}),e.jsx("span",{className:"text-[10px] font-bold text-teal-600 dark:text-teal-400 uppercase",children:"Live"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-6 shadow-sm border border-gray-100 dark:border-gray-700",children:[e.jsx(v,{label:"Consultation Queue",count:n.registration.total.in_queue,color:"bg-blue-500"}),e.jsx("div",{className:"h-px bg-gray-100 dark:bg-gray-700 my-4"}),e.jsx(v,{label:"Diagnostic & Tests",count:n.tests.total.in_queue,color:"bg-purple-500"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(f,{title:"Registrations",value:n.registration.today.registration,subValue:`${n.registration.today.appointments} Appts`,icon:Zr,color:"text-blue-500",onClick:()=>s("/registration")}),e.jsx(f,{title:"Tests Today",value:n.tests.today.scheduled,subValue:`${n.tests.today.conducted} Done`,icon:ds,color:"text-purple-500",onClick:()=>s("/tests")})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 px-1",children:[e.jsx("h3",{className:"text-sm font-black text-gray-900 dark:text-white uppercase tracking-wider",children:"Next Up"}),e.jsx("button",{onClick:()=>s("/appointments"),className:"text-teal-600 dark:text-teal-400 text-xs font-bold uppercase tracking-wide bg-teal-50 dark:bg-teal-900/20 px-3 py-1.5 rounded-full",children:"View All"})]}),e.jsx("div",{className:"space-y-3",children:!n.schedule||n.schedule.length===0?e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-8 text-center border border-dashed border-gray-200 dark:border-gray-700",children:[e.jsx(pe,{className:"mx-auto text-gray-300 mb-2",size:24}),e.jsx("p",{className:"text-sm text-gray-400 font-medium",children:"No appointments pending"})]}):n.schedule.map((k,E)=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 flex items-center gap-4 active:scale-[0.98] transition-transform",children:[e.jsx("div",{className:"flex flex-col items-center justify-center w-14 h-14 bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-800 rounded-2xl border border-gray-100 dark:border-gray-700 shadow-inner",children:e.jsx("span",{className:"text-xs font-black text-gray-900 dark:text-white",children:k.appointment_time.slice(0,5)})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-bold text-gray-900 dark:text-white truncate",children:k.patient_name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:`h-1.5 w-1.5 rounded-full ${k.status==="confirmed"?"bg-green-500":"bg-yellow-500"}`}),e.jsx("span",{className:"text-xs text-gray-500 font-medium capitalize",children:k.status}),k.type&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-gray-300",children:""}),e.jsx("span",{className:"text-xs text-xs text-gray-400 font-medium capitalize truncate",children:k.type})]})]})]}),e.jsx("button",{className:"w-10 h-10 rounded-full bg-gray-50 dark:bg-gray-700/50 flex items-center justify-center text-gray-400 hover:text-teal-500 transition-colors",children:e.jsx(re,{size:18})})]},E))})]})]})})]})},bf="https://prospine.in/admin/mobile/api",vf=()=>{const t=ee(),{user:r}=G(),[a,s]=p.useState([]),[n,l]=p.useState(null),[i,d]=p.useState(""),[o,c]=p.useState(!1),[m,h]=p.useState(1),[x,_]=p.useState(!0),y=p.useRef(null),w=async(j=!1)=>{if(!o){c(!0);try{const g=j?1:m,u=(r==null?void 0:r.branch_id)||1,b=(r==null?void 0:r.employee_id)||"",f=new URLSearchParams({branch_id:u.toString(),employee_id:b.toString(),page:g.toString(),search:i}),N=await(await fetch(`${bf}/patients.php?${f.toString()}`)).json();N.status==="success"&&(s(j?N.data:k=>[...k,...N.data]),N.stats&&l(N.stats),_(N.data.length===20),h(j?2:k=>k+1))}catch(g){console.error(g)}finally{c(!1)}}};p.useEffect(()=>(y.current&&clearTimeout(y.current),y.current=window.setTimeout(()=>{w(!0)},500),()=>{y.current&&clearTimeout(y.current)}),[i]);const z=j=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(j);return e.jsxs("div",{className:"flex flex-col h-full bg-gray-50/50 dark:bg-gray-900 transition-colors duration-200",children:[e.jsxs("header",{className:"sticky top-0 z-20 bg-gray-50/80 dark:bg-gray-900/80 backdrop-blur-xl border-b border-gray-200/50 dark:border-gray-800/50 px-6 py-4 pt-11 mb-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h1",{className:"text-2xl font-black text-gray-900 dark:text-white tracking-tight",children:"Patients"}),e.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-800/50"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(He,{className:"h-4 w-4 text-gray-400 group-focus-within:text-teal-500 transition-colors"})}),e.jsx("input",{type:"text",placeholder:"Search by name or number...",value:i,onChange:j=>d(j.target.value),className:"block w-full pl-10 pr-3 py-3 border-none rounded-2xl leading-5 bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-teal-500/50 sm:text-sm shadow-sm transition-all"})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 pt-2 space-y-6 pb-32 no-scrollbar",children:[n&&e.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-violet-700 rounded-3xl p-6 text-white shadow-xl shadow-indigo-500/20 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 -mr-16 -mt-16 w-48 h-48 rounded-full bg-white/10 blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 left-0 -ml-10 -mb-10 w-32 h-32 rounded-full bg-black/10 blur-2xl"}),e.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-white/10 rounded-xl backdrop-blur-sm",children:e.jsx(ut,{size:18,className:"text-indigo-100"})}),e.jsx("h3",{className:"font-bold text-sm uppercase tracking-wider text-indigo-100",children:"Overview"})]}),e.jsxs("span",{className:"px-3 py-1 bg-white/20 backdrop-blur-md rounded-full text-xs font-bold border border-white/10",children:[n.total," Total"]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center relative z-10",children:[e.jsxs("div",{className:"bg-black/20 rounded-2xl p-3 border border-white/5",children:[e.jsx("p",{className:"text-xl font-black",children:n.active}),e.jsx("p",{className:"text-[10px] font-bold text-indigo-200 uppercase mt-0.5",children:"Active"})]}),e.jsxs("div",{className:"bg-black/20 rounded-2xl p-3 border border-white/5",children:[e.jsx("p",{className:"text-xl font-black text-amber-300",children:n.inactive}),e.jsx("p",{className:"text-[10px] font-bold text-indigo-200 uppercase mt-0.5",children:"Inactive"})]}),e.jsxs("div",{className:"bg-black/20 rounded-2xl p-3 border border-white/5",children:[e.jsx("p",{className:"text-xl font-black text-emerald-300",children:n.completed}),e.jsx("p",{className:"text-[10px] font-bold text-indigo-200 uppercase mt-0.5",children:"Done"})]})]})]}),e.jsx("div",{className:"space-y-3",children:a.length===0&&!o?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center opacity-60",children:[e.jsx(ut,{size:48,className:"text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-500 font-medium",children:"No patients found"})]}):a.map(j=>e.jsxs("div",{onClick:()=>t(`/patients/${j.patient_id}`),className:"group bg-white dark:bg-gray-800 p-4 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700/50 flex items-center justify-between active:scale-[0.98] transition-all duration-200 hover:shadow-md",children:[e.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex-shrink-0 flex items-center justify-center text-sm font-black uppercase shadow-sm
                      ${j.gender==="Female"?"bg-pink-50 text-pink-600 dark:bg-pink-900/20 dark:text-pink-400":"bg-blue-50 text-blue-600 dark:bg-blue-900/20 dark:text-blue-400"}
                    `,children:j.patient_name.charAt(0)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex justify-between items-start mb-0.5",children:[e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white truncate text-base",children:j.patient_name}),j.due_amount>0&&e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-[10px] font-bold bg-red-50 text-red-600 dark:bg-red-900/20 dark:text-red-400 ml-2 whitespace-nowrap",children:z(j.due_amount)})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"flex items-center gap-1 text-xs font-medium text-gray-500 dark:text-gray-400",children:[e.jsx(ne,{size:12,className:"text-teal-500"})," ",j.treatment_type]}),e.jsx("span",{className:`text-[10px] font-bold uppercase px-1.5 py-0.5 rounded-md ${j.status==="active"?"bg-green-50 text-green-700 dark:bg-green-900/20 dark:text-green-400":j.status==="completed"?"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-300":"bg-gray-50 text-gray-500"}`,children:j.status})]})]})]}),e.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-gray-300 dark:text-gray-600 group-hover:bg-gray-50 dark:group-hover:bg-gray-700 transition-colors",children:e.jsx(os,{size:18})})]},j.patient_id))}),x&&a.length>0&&e.jsx("button",{onClick:()=>w(!1),disabled:o,className:"w-full py-4 rounded-xl text-teal-600 dark:text-teal-400 font-bold text-xs uppercase tracking-wider hover:bg-teal-50 dark:hover:bg-teal-900/20 disabled:opacity-50 transition-colors",children:o?e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-teal-500 border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Loading..."})]}):"Load More Patients"})]})]})},hc="https://prospine.in/admin/mobile/api",jf="https://prospine.in/admin",kf=()=>{const{id:t}=Xn(),r=ee(),{user:a}=G(),[s,n]=p.useState(null),[l,i]=p.useState(!0),[d,o]=p.useState("profile"),[c,m]=p.useState(!1),[h,x]=p.useState(""),[_,y]=p.useState("cash"),[w,z]=p.useState(!1),j=async()=>{try{const M=await(await fetch(`${hc}/patient_details.php?patient_id=${t}&branch_id=${(a==null?void 0:a.role)==="admin",1}`)).json();M.status==="success"&&n(M.data)}catch(P){console.error(P)}finally{i(!1)}};p.useEffect(()=>{j()},[t]);const g=async P=>{P.preventDefault(),z(!0);try{const B=await(await fetch(`${hc}/add_payment.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({patient_id:t,amount:parseFloat(h),mode:_,remarks:"Mobile App Payment",employee_id:(a==null?void 0:a.id)||1})})).json();B.status==="success"?(m(!1),x(""),alert("Payment Successful!"),j()):alert("Payment Failed: "+B.message)}catch{alert("Error processing payment")}finally{z(!1)}};if(l)return e.jsx("div",{className:"flex h-full items-center justify-center bg-gray-50 dark:bg-gray-900",children:e.jsx("div",{className:"w-8 h-8 border-4 border-teal-500 border-t-transparent rounded-full animate-spin"})});if(!s)return e.jsxs("div",{className:"flex flex-col h-full bg-gray-50 dark:bg-gray-900 items-center justify-center",children:[e.jsx("p",{className:"text-gray-500",children:"Patient not found"}),e.jsx("button",{onClick:()=>r(-1),className:"mt-4 text-teal-600 font-bold",children:"Go Back"})]});const{basic:u,financials:b,treatment:f,attendance:v}=s,N=f.days>0?Math.min(100,Math.round(v.total_present/f.days*100)):0,k=({active:P,onClick:M,label:B,icon:L})=>e.jsxs("button",{onClick:M,className:`flex-1 flex items-center justify-center gap-2 py-3 text-xs font-black uppercase tracking-wide rounded-xl transition-all duration-300
            ${P?"bg-white dark:bg-gray-700 text-teal-600 dark:text-teal-400 shadow-sm scale-[1.02]":"text-gray-400 dark:text-gray-500 hover:bg-gray-200/50 dark:hover:bg-gray-700/50"}`,children:[L," ",B]}),E=({title:P,icon:M,children:B})=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-5 shadow-sm border border-gray-100 dark:border-gray-700",children:[e.jsxs("h3",{className:"text-[11px] font-black text-gray-900 dark:text-white mb-4 uppercase tracking-wider flex items-center gap-2 border-b border-gray-100 dark:border-gray-700 pb-2",children:[e.jsx("span",{className:"text-teal-500",children:M}),P]}),e.jsx("div",{className:"mt-2 text-sm",children:B})]}),S=({icon:P,label:M,value:B,className:L=""})=>e.jsxs("div",{className:`p-3 bg-gray-50 dark:bg-gray-700/30 rounded-2xl ${L}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[e.jsx("div",{className:"text-gray-400 dark:text-gray-500",children:P}),e.jsx("p",{className:"text-[10px] font-bold text-gray-400 dark:text-gray-500 uppercase",children:M})]}),e.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white break-words leading-tight pl-1",children:B||"N/A"})]}),C=({label:P,value:M,colorClass:B,icon:L})=>e.jsxs("div",{className:`rounded-2xl p-4 border flex justify-between items-center ${B}`,children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold opacity-70 uppercase tracking-widest",children:P}),e.jsx("p",{className:"text-xl font-black mt-1",children:M})]}),L]});return e.jsxs("div",{className:"flex flex-col h-full bg-gray-50/50 dark:bg-gray-900 transition-colors duration-200",children:[e.jsx("header",{className:"px-6 py-4 pt-11 flex items-center justify-between sticky top-0 z-20 bg-gray-50/80 dark:bg-gray-900/80 backdrop-blur-xl border-b border-gray-200/50 dark:border-gray-800/50",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>r(-1),className:"w-10 h-10 rounded-full bg-white dark:bg-gray-800 shadow-sm border border-gray-100 dark:border-gray-700 flex items-center justify-center text-gray-600 dark:text-gray-300 active:scale-95 transition-transform",children:e.jsx(Ye,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-black text-gray-900 dark:text-white leading-tight truncate max-w-[150px]",children:u.name}),e.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:["#",u.patient_uid||u.patient_id]})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 pb-24 space-y-6 no-scrollbar",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-1 shadow-lg shadow-gray-200/50 dark:shadow-none border border-gray-100 dark:border-gray-700 relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-24 bg-gradient-to-r from-teal-500 to-emerald-600"}),e.jsxs("div",{className:"relative pt-12 px-5 pb-5 flex flex-col items-center",children:[e.jsx("div",{className:"w-24 h-24 rounded-full border-4 border-white dark:border-gray-800 bg-gray-200 shadow-md mb-3 overflow-hidden",children:u.photo?e.jsx("img",{src:`${jf}/${u.photo}`,alt:"Profile",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-3xl font-black text-gray-400 uppercase bg-gray-100 dark:bg-gray-700",children:u.name.charAt(0)})}),e.jsx("div",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-wider mb-4 border-2 ${u.status==="active"?"bg-green-50 text-green-600 border-green-100":"bg-gray-50 text-gray-500 border-gray-100"}`,children:u.status}),e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsxs("a",{href:`tel:${u.phone}`,className:"flex-1 py-3 rounded-2xl bg-gray-50 dark:bg-gray-700/50 text-gray-700 dark:text-gray-300 font-bold text-xs flex items-center justify-center gap-2 transition-colors hover:bg-teal-50 hover:text-teal-600",children:[e.jsx(we,{size:14})," Call"]}),e.jsxs("button",{className:"flex-1 py-3 rounded-2xl bg-gray-50 dark:bg-gray-700/50 text-gray-700 dark:text-gray-300 font-bold text-xs flex items-center justify-center gap-2 transition-colors hover:bg-blue-50 hover:text-blue-600",children:[e.jsx(Tr,{size:14})," SMS"]})]})]})]}),e.jsxs("div",{className:"flex p-1 bg-gray-200/50 dark:bg-gray-800 rounded-2xl",children:[e.jsx(k,{active:d==="profile",onClick:()=>o("profile"),label:"Profile",icon:e.jsx(X,{size:14})}),e.jsx(k,{active:d==="timeline",onClick:()=>o("timeline"),label:"Timeline",icon:e.jsx(ne,{size:14})}),e.jsx(k,{active:d==="billing",onClick:()=>o("billing"),label:"Billing",icon:e.jsx(Le,{size:14})})]}),e.jsxs("div",{className:"animate-in slide-in-from-bottom-5 fade-in duration-300",children:[d==="profile"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(E,{title:"Basic Details",icon:e.jsx(X,{size:14}),children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(S,{icon:e.jsx(X,{size:14}),label:"Full Name",value:u.name,className:"col-span-2"}),e.jsx(S,{icon:e.jsx(pe,{size:14}),label:"Age",value:`${u.age} Years`}),e.jsx(S,{icon:e.jsx(X,{size:14}),label:"Gender",value:u.gender}),e.jsx(S,{icon:e.jsx(we,{size:14}),label:"Phone",value:u.phone,className:"col-span-2"}),e.jsx(S,{icon:e.jsx(vt,{size:14}),label:"Address",value:u.address,className:"col-span-2"})]})}),e.jsx(E,{title:"Medical Context",icon:e.jsx(zr,{size:14}),children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(S,{icon:e.jsx(zr,{size:14}),label:"Assigned Doctor",value:u.assigned_doctor||"Not Assigned"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(S,{icon:e.jsx(ne,{size:14}),label:"Type",value:f.type}),e.jsx(S,{icon:e.jsx(ms,{size:14}),label:"Complaint",value:u.chief_complaint||"N/A"})]})]})})]}),d==="timeline"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-violet-700 rounded-3xl p-6 text-white shadow-xl relative overflow-hidden",children:[e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-indigo-200 text-xs font-bold uppercase tracking-wider mb-1",children:"Active Treatment"}),e.jsx("p",{className:"text-2xl font-black capitalize",children:f.type})]}),e.jsxs("div",{className:"bg-white/20 px-3 py-1 rounded-full text-xs font-bold backdrop-blur-md border border-white/10",children:[f.days," Days Goal"]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("div",{className:"flex justify-between text-xs font-bold text-indigo-100 mb-2",children:[e.jsxs("span",{children:["Progress (",N,"%)"]}),e.jsxs("span",{children:[v.total_present,"/",f.days," Sessions"]})]}),e.jsx("div",{className:"h-3 w-full bg-black/20 rounded-full overflow-hidden backdrop-blur-sm border border-white/10",children:e.jsx("div",{className:"h-full bg-white rounded-full shadow-[0_0_15px_rgba(255,255,255,0.5)] transition-all duration-1000",style:{width:`${N}%`}})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-6 pt-4 border-t border-white/10",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-indigo-200 text-[10px] uppercase font-bold",children:"Start Date"}),e.jsx("p",{className:"font-bold text-xs",children:f.start_date||"N/A"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-indigo-200 text-[10px] uppercase font-bold",children:"End Date"}),e.jsx("p",{className:"font-bold text-xs",children:f.end_date||"N/A"})]})]})]}),e.jsx("div",{className:"absolute -right-10 -bottom-10 w-40 h-40 bg-white/10 rounded-full blur-3xl"})]}),e.jsx(E,{title:"Session History",icon:e.jsx(fe,{size:14}),children:e.jsxs("div",{className:"space-y-0 relative border-l-2 border-gray-100 dark:border-gray-700 ml-2",children:[v.history.slice(0,10).map((P,M)=>e.jsxs("div",{className:"pl-6 pb-6 relative last:pb-0",children:[e.jsx("div",{className:"absolute -left-[5px] top-1.5 w-3 h-3 rounded-full bg-teal-500 border-2 border-white dark:border-gray-800"}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-3 rounded-xl",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{className:"text-xs font-bold text-gray-900 dark:text-white",children:"Session Completed"}),e.jsx("span",{className:"text-[10px] font-bold text-gray-400",children:P.attendance_date})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:P.remarks||"Regular session"})]})]},M)),v.history.length===0&&e.jsx("p",{className:"text-sm text-gray-400 pl-6 italic",children:"No sessions recorded."})]})})]}),d==="billing"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-gradient-to-tr from-gray-900 to-gray-800 dark:from-black dark:to-gray-900 rounded-3xl p-6 text-white shadow-xl relative overflow-hidden",children:e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Total Dues"}),e.jsxs("p",{className:"text-4xl font-black mt-1 text-red-400",children:["",b.due.toLocaleString()]})]}),e.jsx("div",{className:"w-12 h-12 rounded-full bg-white/10 flex items-center justify-center",children:e.jsx(Le,{size:24,className:"text-white"})})]}),e.jsx("button",{onClick:()=>m(!0),className:"w-full py-4 bg-white text-black rounded-xl font-bold uppercase tracking-wider hover:bg-gray-100 transition-colors shadow-lg active:scale-95 transform duration-200",children:"Pay Dues Now"})]})}),e.jsx(E,{title:"Financial Overview",icon:e.jsx(hs,{size:14}),children:e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(C,{label:"Total Billed",value:`${b.total_billed.toLocaleString()}`,colorClass:"bg-blue-50 border-blue-100 text-blue-700 dark:bg-blue-900/20 dark:border-blue-800 dark:text-blue-400",icon:e.jsx(Xe,{size:16})}),e.jsx(C,{label:"Amount Paid",value:`${b.paid.toLocaleString()}`,colorClass:"bg-green-50 border-green-100 text-green-700 dark:bg-green-900/20 dark:border-green-800 dark:text-green-400",icon:e.jsx(re,{size:16})})]})})]})]})]}),c&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 w-full max-w-sm rounded-3xl shadow-2xl overflow-hidden animate-in slide-in-from-bottom-10 duration-300 mb-20 sm:mb-0",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-black text-gray-900 dark:text-white",children:"Pay Dues"}),e.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center font-bold",children:""})})]}),e.jsxs("form",{onSubmit:g,className:"p-6 space-y-4",children:[e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-2xl text-center",children:[e.jsx("p",{className:"text-xs font-bold text-red-500 uppercase",children:"Outstanding Amount"}),e.jsxs("p",{className:"text-2xl font-black text-red-600 dark:text-red-400",children:["",b.due.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase ml-1",children:"Amount to Pay"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx(tl,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"number",required:!0,min:"1",step:"0.01",value:h,onChange:P=>x(P.target.value),className:"w-full bg-gray-100 dark:bg-gray-700 pl-9 pr-4 py-3 rounded-xl font-bold text-gray-900 dark:text-white focus:ring-2 focus:ring-teal-500 outline-none",placeholder:"0.00"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase ml-1",children:"Payment Mode"}),e.jsx("div",{className:"grid grid-cols-3 gap-2 mt-1",children:["Cash","UPI","Card"].map(P=>e.jsx("button",{type:"button",onClick:()=>y(P.toLowerCase()),className:`py-2 rounded-xl text-xs font-bold uppercase border-2 transition-all
                                                ${_===P.toLowerCase()?"border-teal-500 bg-teal-50 dark:bg-teal-900/30 text-teal-600 dark:text-teal-400":"border-transparent bg-gray-100 dark:bg-gray-700 text-gray-500"}
                                            `,children:P},P))})]}),e.jsx("button",{disabled:w,type:"submit",className:"w-full py-4 bg-teal-600 hover:bg-teal-700 text-white rounded-xl font-bold uppercase tracking-wider shadow-lg shadow-teal-500/30 disabled:opacity-70 disabled:cursor-not-allowed mt-4",children:w?"Processing...":"Confirm Payment"})]})]})})]})},fc="https://prospine.in/admin/mobile/api",Dl=t=>t.toISOString().split("T")[0],wf=()=>{const t=ee(),{user:r}=G(),[a,s]=p.useState([]),[n,l]=p.useState(!0),[i,d]=p.useState(!1),[o]=p.useState(new Date),[c,m]=p.useState(Dl(new Date)),h=p.useRef(null);p.useEffect(()=>{if(h.current&&c){const b=document.getElementById(`date-${c}`);b&&b.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}},[c]);const x=p.useCallback(async b=>{l(!0);try{const f=(r==null?void 0:r.branch_id)||1,v=(r==null?void 0:r.employee_id)||"",N=Dl(new Date(b.getFullYear(),b.getMonth(),1)),k=Dl(new Date(b.getFullYear(),b.getMonth()+1,0)),S=await(await fetch(`${fc}/appointments.php?branch_id=${f}&employee_id=${v}&start_date=${N}&end_date=${k}`)).json();S.status==="success"&&s(S.data||[])}catch(f){console.error("Failed to fetch appointments",f)}finally{l(!1),d(!1)}},[r]);p.useEffect(()=>{r&&x(o)},[o,r,x]);const _=()=>{d(!0),x(o)},y=async(b,f)=>{s(v=>v.map(N=>N.registration_id===b?{...N,status:f}:N));try{(await(await fetch(`${fc}/appointments.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({registration_id:b,status:f})})).json()).status!=="success"&&x(o)}catch(v){console.error(v),x(o)}},w=p.useMemo(()=>{const b=o.getFullYear(),f=o.getMonth(),v=new Date(b,f,1),N=[];for(;v.getMonth()===f;)N.push(new Date(v).toISOString().split("T")[0]),v.setDate(v.getDate()+1);return N},[o]),z=p.useMemo(()=>a.filter(b=>b.appointment_date===c),[a,c]),j=p.useMemo(()=>({total:z.length,consulted:z.filter(b=>b.status.toLowerCase()==="consulted").length,pending:z.filter(b=>b.status.toLowerCase()==="pending").length}),[z]),g=b=>{switch(b.toLowerCase()){case"confirmed":return"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400";case"pending":return"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400";case"consulted":return"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400";case"closed":return"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400";case"cancelled":return"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400";default:return"bg-gray-50 text-gray-500"}},u=b=>{const f=new Date(b);return{day:f.toLocaleDateString("en-US",{weekday:"short"}),date:f.getDate(),month:f.toLocaleDateString("en-US",{month:"short"})}};return e.jsxs("div",{className:"flex flex-col h-full bg-gray-50/50 dark:bg-gray-900 transition-colors duration-200",children:[e.jsxs("header",{className:"px-6 py-4 pt-11 flex items-center justify-between sticky top-0 z-20 bg-gray-50/80 dark:bg-gray-900/80 backdrop-blur-xl border-b border-gray-200/50 dark:border-gray-800/50",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>t(-1),className:"w-10 h-10 rounded-full bg-white dark:bg-gray-800 shadow-sm border border-gray-100 dark:border-gray-700 flex items-center justify-center text-gray-600 dark:text-gray-300 active:scale-95 transition-transform",children:e.jsx(Ye,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-black text-gray-900 dark:text-white tracking-tight",children:"Schedule"}),e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest flex items-center gap-1",children:"Command Center"})]})]}),e.jsx("button",{onClick:_,className:`w-10 h-10 rounded-full bg-white dark:bg-gray-800 shadow-sm border border-gray-100 dark:border-gray-700 flex items-center justify-center text-gray-600 dark:text-gray-300 active:scale-95 transition-transform ${i?"animate-spin":""}`,children:e.jsx(uf,{size:18})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-hidden no-scrollbar",children:[e.jsx("div",{ref:h,className:"px-6 py-4 bg-white/50 dark:bg-gray-900/50 backdrop-blur-sm sticky top-0 z-10 overflow-x-auto no-scrollbar flex gap-3 snap-x",children:w.map(b=>{const{day:f,date:v,month:N}=u(b),k=b===c,E=b===new Date().toISOString().split("T")[0];return e.jsxs("button",{id:`date-${b}`,onClick:()=>m(b),className:`flex flex-col items-center justify-center min-w-[4.5rem] p-2 rounded-2xl border transition-all duration-300 snap-center
                                ${k?"bg-gradient-to-br from-teal-500 to-emerald-600 text-white shadow-lg shadow-teal-500/30 border-transparent scale-105":"bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400 border-gray-100 dark:border-gray-700"}
                            `,children:[e.jsx("span",{className:"text-[10px] font-bold uppercase opacity-80",children:f}),e.jsx("span",{className:"text-xl font-black",children:v}),e.jsx("span",{className:"text-[10px] font-bold opacity-60",children:E?"Today":N})]},b)})}),e.jsxs("div",{className:"p-6 space-y-6 pb-24",children:[e.jsxs("div",{className:"bg-gradient-to-r from-teal-500 to-emerald-600 rounded-3xl p-6 text-white shadow-xl shadow-teal-500/20 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 -mr-8 -mt-8 w-32 h-32 rounded-full bg-white/10 blur-2xl"}),e.jsxs("div",{className:"flex justify-between items-end mb-4 relative z-10",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-teal-100 text-xs font-bold uppercase tracking-wider mb-1",children:["Schedule for ",new Date(c).toLocaleDateString("en-US",{day:"numeric",month:"long"})]}),e.jsxs("h2",{className:"text-3xl font-black",children:[j.total," ",e.jsx("span",{className:"text-lg font-medium opacity-70",children:"Appts"})]})]}),e.jsx("div",{className:"p-2 bg-white/10 rounded-xl backdrop-blur-sm border border-white/10",children:e.jsx(fe,{size:24,className:"text-white"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 relative z-10",children:[e.jsxs("div",{className:"bg-black/10 rounded-2xl p-3 border border-white/5 flex items-center justify-between",children:[e.jsx("span",{className:"text-xs font-bold text-teal-50 uppercase",children:"Pending"}),e.jsx("span",{className:"text-lg font-black",children:j.pending})]}),e.jsxs("div",{className:"bg-black/10 rounded-2xl p-3 border border-white/5 flex items-center justify-between",children:[e.jsx("span",{className:"text-xs font-bold text-teal-50 uppercase",children:"Done"}),e.jsx("span",{className:"text-lg font-black",children:j.consulted})]})]})]}),e.jsx("div",{className:"space-y-4",children:n?e.jsx("div",{className:"flex justify-center py-10",children:e.jsx("div",{className:"w-8 h-8 border-4 border-teal-500 border-t-transparent rounded-full animate-spin"})}):z.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-16 opacity-50",children:[e.jsx(fe,{size:48,className:"text-gray-300 mb-2"}),e.jsx("p",{className:"font-bold text-gray-400",children:"No appointments for this day."})]}):z.map(b=>e.jsxs("div",{className:"group bg-white dark:bg-gray-800 rounded-2xl p-4 shadow-sm border border-gray-100 dark:border-gray-700/50 flex gap-4 transition-all duration-300 hover:shadow-md",children:[e.jsxs("div",{className:"flex flex-col items-center min-w-[3.5rem] border-r border-gray-100 dark:border-gray-700 pr-4 py-1",children:[e.jsx("span",{className:"text-lg font-black text-gray-900 dark:text-white leading-none",children:b.appointment_time.slice(0,5)}),e.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase mt-1",children:parseInt(b.appointment_time.slice(0,2))>=12?"PM":"AM"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex justify-between items-start mb-1",children:[e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white truncate text-base",children:b.patient_name}),e.jsx("button",{className:"text-gray-300 hover:text-gray-600 dark:hover:text-gray-200",children:e.jsx(xx,{size:16})})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wide ${g(b.status)}`,children:b.status}),e.jsx("span",{className:"w-1 h-1 rounded-full bg-gray-300"}),e.jsxs("span",{className:"text-xs text-gray-500 font-medium capitalize",children:[b.gender||"Unknown",", ",b.age||"?"]})]}),e.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[b.phone_number&&e.jsxs("a",{href:`tel:${b.phone_number}`,className:"flex items-center gap-1.5 px-3 py-1.5 rounded-xl bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 text-xs font-bold active:scale-95 transition-transform",children:[e.jsx(we,{size:12})," Call"]}),e.jsxs("button",{onClick:f=>{f.stopPropagation(),y(b.registration_id,"consulted")},className:`flex items-center gap-1.5 px-3 py-1.5 rounded-xl text-xs font-bold active:scale-95 transition-transform
                                            ${b.status==="consulted"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 ring-2 ring-green-500/20":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-green-100 hover:text-green-700 dark:hover:bg-green-900/30 dark:hover:text-green-400"}`,children:[e.jsx(re,{size:12})," Arrived"]}),e.jsx("button",{onClick:f=>{f.stopPropagation(),y(b.registration_id,"pending")},className:"w-8 h-8 rounded-xl bg-gray-50 dark:bg-gray-700/50 flex items-center justify-center text-gray-400 hover:text-red-500 dark:hover:text-red-400 active:scale-95 transition-transform",title:"Mark as Pending / No Show",children:e.jsx(it,{size:14})})]})]})]},b.registration_id))})]})]})]})},Nf="https://prospine.in/admin/mobile/api",_f="https://prospine.in/admin",Sf=()=>{var i;const t=ee(),{user:r}=G(),[a,s]=p.useState(null),[n,l]=p.useState(!0);return p.useEffect(()=>{(async()=>{try{const o=(r==null?void 0:r.id)||1,m=await(await fetch(`${Nf}/profile.php?employee_id=${o}`)).json();m.status==="success"&&s(m.data)}catch(o){console.error("Failed to fetch profile",o)}finally{l(!1)}})()},[r]),n?e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsx("div",{className:"w-8 h-8 border-4 border-teal-200 border-t-teal-600 rounded-full animate-spin"})}):a?e.jsxs("div",{className:"flex flex-col h-full bg-gray-50 dark:bg-gray-900 transition-colors pb-24 overflow-y-auto",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 px-6 py-4 pt-[var(--safe-area-inset-top,32px)] mt-0 shadow-sm sticky top-0 z-10 flex items-center gap-3 transition-colors",children:[e.jsx("button",{onClick:()=>t(-1),className:"p-1 -ml-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300",children:e.jsx(Ye,{size:24})}),e.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"My Profile"})]}),e.jsxs("div",{className:"p-4 space-y-5",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 flex flex-col items-center text-center transition-colors",children:[e.jsx("div",{className:"relative mb-4",children:e.jsx("div",{className:"w-24 h-24 rounded-full bg-teal-600 dark:bg-teal-700 text-white flex items-center justify-center font-bold text-3xl uppercase shadow-md overflow-hidden",children:a.photo_path?e.jsx("img",{src:`${_f}/${a.photo_path}`,alt:"Profile",className:"w-full h-full object-cover"}):((i=a.full_name)==null?void 0:i.charAt(0))||"U"})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:a.full_name}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 capitalize",children:a.job_title||a.role}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-semibold mt-2 ${a.is_active?"bg-green-100 text-green-800 dark:bg-green-900/40 dark:text-green-300":"bg-red-100 text-red-800"}`,children:a.is_active?"Active":"Inactive"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden transition-colors",children:[e.jsx("div",{className:"px-5 py-3 border-b border-gray-100 dark:border-gray-700 bg-gray-50/50 dark:bg-gray-800/50",children:e.jsxs("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(X,{size:16,className:"text-teal-600 dark:text-teal-400"}),"Personal Information"]})}),e.jsxs("div",{className:"p-5 space-y-4",children:[e.jsx(Wt,{icon:e.jsx(we,{size:14}),label:"Phone",value:a.phone_number}),e.jsx(Wt,{icon:e.jsx(vt,{size:14}),label:"Address",value:a.address}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Wt,{icon:e.jsx(fe,{size:14}),label:"DOB",value:a.date_of_birth}),e.jsx(Wt,{icon:e.jsx(fe,{size:14}),label:"Joined",value:a.date_of_joining})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden transition-colors",children:[e.jsx("div",{className:"px-5 py-3 border-b border-gray-100 dark:border-gray-700 bg-gray-50/50 dark:bg-gray-800/50",children:e.jsxs("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(rl,{size:16,className:"text-teal-600 dark:text-teal-400"}),"Account"]})}),e.jsxs("div",{className:"p-5 space-y-4",children:[e.jsx(Wt,{icon:e.jsx(Tr,{size:14}),label:"Email",value:a.email}),e.jsx(Wt,{icon:e.jsx(X,{size:14}),label:"Role",value:a.role,className:"capitalize"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden transition-colors",children:[e.jsx("div",{className:"px-5 py-3 border-b border-gray-100 dark:border-gray-700 bg-gray-50/50 dark:bg-gray-800/50",children:e.jsxs("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(At,{size:16,className:"text-teal-600 dark:text-teal-400"}),"Branch Details"]})}),e.jsxs("div",{className:"p-5 space-y-4",children:[e.jsx(Wt,{icon:e.jsx(At,{size:14}),label:"Clinic",value:a.clinic_name}),e.jsx(Wt,{icon:e.jsx(vt,{size:14}),label:"Branch",value:`${a.branch_name} - ${a.address_line_1}, ${a.city}`})]})]})]})]}):null},Wt=({icon:t,label:r,value:a,className:s=""})=>e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"mt-0.5 text-teal-600 dark:text-teal-400",children:t}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-0.5",children:r}),e.jsx("p",{className:`text-sm font-medium text-gray-900 dark:text-white break-words ${s}`,children:a||"N/A"})]})]}),Cf=()=>{var o;const t=ee(),{user:r,logout:a}=G(),[s,n]=p.useState(!1),l=()=>{n(!0)},i=()=>{a(),t("/login")},d=[{id:"inquiry",label:"Inquiry",desc:"Manage leads & requests",icon:e.jsx(Ui,{size:22}),color:"from-blue-500 to-blue-600",bg:"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400",link:"/inquiry"},{id:"registration",label:"Registration",desc:"Add new patient",icon:e.jsx(Zr,{size:22}),color:"from-teal-500 to-teal-600",bg:"bg-teal-100 dark:bg-teal-900/30 text-teal-600 dark:text-teal-400",link:"/registration"},{id:"attendance",label:"Attendance",desc:"Mark daily visits",icon:e.jsx(cf,{size:22}),color:"from-purple-500 to-purple-600",bg:"bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400",link:"/attendance"},{id:"billing",label:"Billing",desc:"Invoices & payments",icon:e.jsx(Vo,{size:22}),color:"from-indigo-500 to-indigo-600",bg:"bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400",link:"/billing"},{id:"tests",label:"Tests",desc:"Lab tests management",icon:e.jsx(mf,{size:22}),color:"from-pink-500 to-pink-600",bg:"bg-pink-100 dark:bg-pink-900/30 text-pink-600 dark:text-pink-400",link:"/tests"},{id:"reports",label:"Reports",desc:"Analytics & stats",icon:e.jsx(Vh,{size:22}),color:"from-orange-500 to-orange-600",bg:"bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400",link:"/reports"},{id:"expenses",label:"Expenses",desc:"Track clinic spending",icon:e.jsx(Le,{size:22}),color:"from-red-500 to-red-600",bg:"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400",link:"/expenses"},{id:"feedback",label:"Feedback",desc:"Patient reviews",icon:e.jsx(ua,{size:22}),color:"from-lime-500 to-lime-600",bg:"bg-lime-100 dark:bg-lime-900/30 text-lime-600 dark:text-lime-400",link:"/feedback"},{id:"support",label:"Support",desc:"Help & documentation",icon:e.jsx(tf,{size:22}),color:"from-cyan-500 to-cyan-600",bg:"bg-cyan-100 dark:bg-cyan-900/30 text-cyan-600 dark:text-cyan-400",link:"/support"}];return e.jsxs("div",{className:"flex flex-col h-full bg-gray-50 dark:bg-gray-900 transition-colors pb-[env(safe-area-inset-bottom)]",children:[e.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-md px-6 py-4 pt-[max(env(safe-area-inset-top),20px)] shadow-sm sticky top-0 z-20 border-b border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-indigo-50 dark:bg-indigo-900/20 rounded-xl",children:e.jsx(cx,{size:24,className:"text-indigo-600 dark:text-indigo-400"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-black text-gray-900 dark:text-white tracking-tight",children:"Menu"}),e.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:"Quick Access"})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 pb-24 custom-scrollbar",children:[e.jsxs("div",{className:"mb-6 bg-white dark:bg-gray-800 p-4 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-tr from-teal-400 to-teal-600 flex items-center justify-center text-white font-bold text-xl shadow-lg shadow-teal-500/30",children:((o=r==null?void 0:r.name)==null?void 0:o.charAt(0))||"U"}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-black text-gray-900 dark:text-white text-lg leading-tight",children:(r==null?void 0:r.name)||"User"}),e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:(r==null?void 0:r.role)||"Staff"})]})]}),e.jsx("button",{onClick:l,className:"p-3 rounded-full bg-red-50 dark:bg-red-900/20 text-red-500 hover:bg-red-100 dark:hover:bg-red-900/40 transition-colors active:scale-95",title:"Logout",children:e.jsx(Ln,{size:20})})]}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:d.map((c,m)=>e.jsxs("button",{onClick:()=>t(c.link),className:"group relative bg-white dark:bg-gray-800 p-3 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 flex flex-col items-center justify-center text-center aspect-square hover:shadow-lg hover:-translate-y-1 transition-all duration-300",style:{animationDelay:`${m*50}ms`},children:[e.jsx("div",{className:`p-3 rounded-2xl mb-2 ${c.bg} group-hover:scale-110 transition-transform duration-300 shadow-sm`,children:c.icon}),e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white text-[11px] leading-tight",children:c.label}),e.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-br from-white/0 to-gray-50/50 dark:from-transparent dark:to-gray-700/10 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"})]},c.id))}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{onClick:()=>t("/about"),className:"w-full p-1 rounded-2xl bg-gradient-to-r from-teal-400 via-emerald-400 to-teal-500 shadow-sm hover:shadow-md hover:scale-[1.01] transition-all duration-300 group",children:e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[14px] px-4 py-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-teal-50 dark:bg-teal-900/20 rounded-full",children:e.jsx(af,{size:18,className:"text-teal-500"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white text-sm",children:"About App"}),e.jsx("p",{className:"text-[10px] font-bold text-teal-500 uppercase tracking-widest leading-none",children:"v2.5.0"})]})]}),e.jsx(os,{size:16,className:"text-gray-400"})]})})}),e.jsxs("div",{className:"mt-8 mb-6 text-center",children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-0.5",children:"Created by"}),e.jsx("p",{className:"text-xs font-bold text-gray-600 dark:text-gray-300",children:"Sumit Srivastava"})]})]}),s&&e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity",onClick:()=>n(!1)}),e.jsxs("div",{className:"relative bg-white dark:bg-gray-800 w-full max-w-sm rounded-3xl shadow-2xl p-6 animate-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 text-red-500 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Ln,{size:28,strokeWidth:2.5})}),e.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white mb-2",children:"Logout?"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:"Are you sure you want to sign out of your account?"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("button",{onClick:()=>n(!1),className:"py-3.5 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 font-bold rounded-2xl transition-colors active:scale-95",children:"Cancel"}),e.jsx("button",{onClick:i,className:"py-3.5 bg-red-500 hover:bg-red-600 text-white font-bold rounded-2xl shadow-lg shadow-red-500/20 transition-all active:scale-95",children:"Yes, Logout"})]})]})]})]})},zf="https://prospine.in/admin/mobile/api",Pf=()=>{const t=ee(),{user:r}=G(),[a,s]=p.useState("quick"),[n,l]=p.useState([]),[i,d]=p.useState(!1),[o,c]=p.useState(1),[m,h]=p.useState(1),[x,_]=p.useState(""),[y,w]=p.useState(null),z=async()=>{d(!0);try{const u=new URLSearchParams({branch_id:((r==null?void 0:r.role)==="admin",1).toString(),type:a,page:o.toString(),search:x,limit:"15"}),f=await(await fetch(`${zf}/inquiries.php?${u.toString()}`)).json();f.status==="success"&&(l(f.data),h(f.pagination.pages))}catch(u){console.error("Failed to fetch inquiries",u)}finally{d(!1)}};p.useEffect(()=>{c(1)},[a]),p.useEffect(()=>{z()},[a,o,x]);const j=[{id:"quick",label:"Quick"},{id:"test",label:"Test"},{id:"online",label:"Online"},{id:"booked",label:"Booked"}],g=u=>{const b=(u==null?void 0:u.toLowerCase())||"";return b==="visited"||b==="completed"||b==="converted"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300":b==="cancelled"||b==="discarded"?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300":b==="contacted"||b==="confirmed"?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300":"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-300"};return e.jsxs("div",{className:"flex flex-col h-full bg-gray-50 dark:bg-gray-900 transition-colors pb-safe",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 px-4 py-3 pt-[var(--safe-area-inset-top,32px)] mt-0 shadow-sm sticky top-0 z-10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("button",{onClick:()=>t(-1),className:"p-1 -ml-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300",children:e.jsx(Ye,{size:24})}),e.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Inquiries"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(He,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),e.jsx("input",{type:"text",placeholder:"Search name or phone...",value:x,onChange:u=>_(u.target.value),className:"w-full pl-9 pr-4 py-2 bg-gray-100 dark:bg-gray-700 border-none rounded-xl text-sm focus:ring-2 focus:ring-teal-500 dark:text-white"})]}),e.jsx("div",{className:"flex gap-2 mt-4 overflow-x-auto pb-1 no-scrollbar",children:j.map(u=>e.jsx("button",{onClick:()=>s(u.id),className:`px-4 py-1.5 rounded-full text-xs font-bold whitespace-nowrap transition-colors
                                ${a===u.id?"bg-teal-600 text-white shadow-md":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:u.label},u.id))})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 pb-24",children:[i&&o===1?e.jsx("div",{className:"flex justify-center py-10",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-teal-600"})}):n.length>0?n.map((u,b)=>e.jsx(Ef,{item:u,type:a,getStatusColor:g,onClick:()=>w(u)},u.id||b)):e.jsx("div",{className:"text-center py-10 text-gray-500 dark:text-gray-400",children:"No inquiries found."}),m>1&&e.jsxs("div",{className:"flex justify-center gap-4 py-4",children:[e.jsx("button",{disabled:o===1,onClick:()=>c(u=>Math.max(1,u-1)),className:"px-4 py-2 bg-white dark:bg-gray-800 rounded-lg shadow-sm disabled:opacity-50 text-sm font-medium dark:text-white",children:"Previous"}),e.jsxs("span",{className:"self-center text-sm text-gray-500",children:["Page ",o," of ",m]}),e.jsx("button",{disabled:o===m,onClick:()=>c(u=>Math.min(m,u+1)),className:"px-4 py-2 bg-white dark:bg-gray-800 rounded-lg shadow-sm disabled:opacity-50 text-sm font-medium dark:text-white",children:"Next"})]})]}),y&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:()=>w(null),children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 w-full max-w-sm rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-200",onClick:u=>u.stopPropagation(),children:[e.jsxs("div",{className:"p-5 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:y.name}),e.jsx("span",{className:`inline-block mt-1 px-2 py-0.5 rounded text-[10px] font-bold uppercase ${g(y.status)}`,children:y.status})]}),e.jsx("button",{onClick:()=>w(null),className:"p-2 bg-gray-100 dark:bg-gray-700 rounded-full hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:e.jsx(Ye,{className:"rotate-180",size:20})})]}),e.jsxs("div",{className:"p-5 max-h-[60vh] overflow-y-auto space-y-4",children:[e.jsx(Ne,{label:"Phone",value:y.phone,icon:e.jsx(we,{size:14})}),e.jsx(Ne,{label:"Date",value:new Date(y.created_at).toLocaleDateString(),icon:e.jsx(fe,{size:14})}),a==="quick"&&e.jsxs(e.Fragment,{children:[e.jsx(Ne,{label:"Gender/Age",value:`${y.gender||"-"}, ${y.age||"-"}`,icon:e.jsx(X,{size:14})}),e.jsx(Ne,{label:"Referral",value:y.referral}),e.jsx(Ne,{label:"Chief Complaint",value:y.chief_complain,icon:e.jsx(Xe,{size:14})}),e.jsx(Ne,{label:"Remarks",value:y.review,icon:e.jsx(Xe,{size:14})}),e.jsx(Ne,{label:"Expected Visit",value:y.expected_visit_date})]}),a==="test"&&e.jsxs(e.Fragment,{children:[e.jsx(Ne,{label:"Test Name",value:y.testname,icon:e.jsx(ne,{size:14})}),e.jsx(Ne,{label:"Referred By",value:y.referral}),e.jsx(Ne,{label:"Expected Visit",value:y.expected_visit_date})]}),a==="online"&&e.jsx(Ne,{label:"Location",value:y.location,icon:e.jsx(vt,{size:14})}),a==="booked"&&e.jsxs(e.Fragment,{children:[e.jsx(Ne,{label:"Gender/Age",value:`${y.gender||"-"}, ${y.age||"-"}`,icon:e.jsx(X,{size:14})}),e.jsx(Ne,{label:"Consultation",value:y.consultationType,icon:e.jsx(ne,{size:14})}),e.jsx(Ne,{label:"Medical Condition",value:y.medical_condition}),e.jsx(Ne,{label:"Condition Type",value:y.conditionType}),e.jsx(Ne,{label:"Occupation",value:y.occupation}),e.jsx(Ne,{label:"Contact Method",value:y.contactMethod})]})]}),e.jsxs("div",{className:"p-4 border-t border-gray-100 dark:border-gray-700 grid grid-cols-2 gap-3",children:[e.jsxs("a",{href:`tel:${y.phone}`,className:"flex items-center justify-center gap-2 bg-teal-600 text-white py-3 rounded-xl font-bold shadow-lg shadow-teal-600/20 active:scale-95 transition-all",children:[e.jsx(we,{size:18})," Call"]}),e.jsx("button",{onClick:()=>w(null),className:"py-3 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-xl font-bold active:scale-95 transition-all",children:"Close"})]})]})})]})},Ne=({label:t,value:r,icon:a})=>r?e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("span",{className:"text-xs font-semibold text-gray-400 uppercase flex items-center gap-1.5",children:[a," ",t]}),e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white leading-relaxed",children:r})]}):null,Ef=({item:t,type:r,getStatusColor:a,onClick:s})=>e.jsxs("div",{onClick:s,className:"bg-white dark:bg-gray-800 p-4 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 active:scale-[0.98] transition-all cursor-pointer",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:t.name||"Unknown"}),e.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase ${a(t.status)}`,children:t.status})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-y-2 gap-x-4 text-xs text-gray-500 dark:text-gray-400 mt-2",children:[t.phone&&e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(we,{size:12,className:"text-teal-500"}),e.jsx("span",{children:t.phone})]}),r==="quick"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(X,{size:12})," ",t.gender,", ",t.age,"y"]}),e.jsxs("div",{className:"col-span-2 flex items-start gap-1.5",children:[e.jsx(Xe,{size:12,className:"mt-0.5"})," ",e.jsx("span",{className:"line-clamp-1",children:t.chief_complain})]})]}),r==="test"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"col-span-2 flex items-center gap-1.5",children:[e.jsx(ne,{size:12})," Test: ",t.testname]})}),r==="online"&&e.jsxs("div",{className:"col-span-2 flex items-center gap-1.5",children:[e.jsx(vt,{size:12})," ",t.location]}),r==="booked"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"col-span-2 flex items-center gap-1.5",children:[e.jsx(ne,{size:12})," ",t.consultationType]})}),e.jsxs("div",{className:"flex items-center gap-1.5 col-span-2 mt-1 pt-2 border-t border-gray-100 dark:border-gray-700",children:[e.jsx(fe,{size:12}),e.jsx("span",{children:new Date(t.created_at).toLocaleDateString()}),r==="quick"&&t.expected_visit_date&&e.jsxs("span",{className:"ml-auto text-orange-500",children:["Visit: ",t.expected_visit_date]})]})]})]}),$l=({icon:t,label:r,value:a,className:s=""})=>a?e.jsxs("div",{className:`flex gap-3 items-start ${s}`,children:[e.jsx("div",{className:"mt-0.5 p-1.5 bg-gray-50 dark:bg-gray-700/50 rounded-lg text-gray-400 shrink-0",children:e.jsx(t,{size:14})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-0.5",children:r}),e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:a})]})]}):null,Lf=()=>{const t=ee(),{user:r}=G(),[a,s]=p.useState([]),[n,l]=p.useState(null),[i,d]=p.useState(!0),[o,c]=p.useState(""),[m,h]=p.useState(1),[x,_]=p.useState(1),[y,w]=p.useState(null),[z,j]=p.useState(!1),[g,u]=p.useState(!1),b=C=>C?new Date(C).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"",f=async(C,P)=>{d(!0);try{const M=(r==null?void 0:r.branch_id)||1,B=new URLSearchParams({branch_id:M.toString(),page:C.toString(),limit:"15",search:P}),W=await(await fetch(`https://prospine.in/admin/mobile/api/registrations.php?${B.toString()}`)).json();W.status==="success"&&(s(D=>C===1?W.data:[...D,...W.data]),_(W.pagination.pages),W.stats&&l(W.stats))}catch(M){console.error("Error fetching registrations:",M)}finally{d(!1)}},v=async C=>{if(y){u(!0);try{if((await(await fetch("https://prospine.in/admin/mobile/api/update_registration_status.php",{method:"POST",body:JSON.stringify({registration_id:y.registration_id,status:C})})).json()).status==="success"){const L={...y,status:C};w(L),s(T=>T.map(W=>W.registration_id===L.registration_id?L:W))}}catch(P){console.error("Status update failed",P)}finally{u(!1)}}};p.useEffect(()=>{const C=setTimeout(()=>{h(1),f(1,o)},500);return()=>clearTimeout(C)},[o]);const N=()=>{if(m<x){const C=m+1;h(C),f(C,o)}},k=async C=>{w(C),j(!0);try{const B=await(await fetch(`https://prospine.in/admin/mobile/api/registrations.php?id=${C.registration_id}&branch_id=${(r==null?void 0:r.branch_id)||1}`)).json();B.status==="success"&&w(L=>({...L,...B.data}))}catch(P){console.error("Error fetching details:",P)}finally{j(!1)}},E=C=>{switch(C==null?void 0:C.toLowerCase()){case"consulted":return"bg-green-100 text-green-700 border-green-200 dark:bg-green-900/30 dark:text-green-400 dark:border-green-800";case"closed":return"bg-green-100 text-green-700 border-green-200 dark:bg-green-900/30 dark:text-green-400 dark:border-green-800";case"cancelled":return"bg-red-100 text-red-700 border-red-200 dark:bg-red-900/30 dark:text-red-400 dark:border-red-800";default:return"bg-amber-100 text-amber-700 border-amber-200 dark:bg-amber-900/30 dark:text-amber-400 dark:border-amber-800"}},S=C=>C?`https://prospine.in/proadmin/admin/${C}`:null;return e.jsxs("div",{className:"flex flex-col h-full bg-slate-50 dark:bg-slate-900 transition-colors",children:[e.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-xl border-b border-gray-200 dark:border-gray-700 sticky top-0 z-20 pt-[var(--safe-area-inset-top,32px)]",children:[e.jsxs("div",{className:"px-4 py-3 flex items-center gap-3",children:[e.jsx("button",{onClick:()=>t("/"),className:"p-2 -ml-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors font-bold",children:e.jsx(Ye,{size:24,className:"text-slate-700 dark:text-slate-200"})}),e.jsx("h1",{className:"text-xl font-bold text-slate-800 dark:text-white tracking-tight",children:"Registrations"})]}),e.jsx("div",{className:"px-4 pb-4",children:e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(He,{className:"h-4 w-4 text-gray-400 group-focus-within:text-teal-500 transition-colors"})}),e.jsx("input",{type:"text",placeholder:"Search by name, phone...",value:o,onChange:C=>c(C.target.value),className:"block w-full pl-10 pr-3 py-2.5 bg-gray-100 dark:bg-gray-700/50 border-0 rounded-xl text-sm text-gray-900 dark:text-white placeholder:text-gray-500 focus:ring-2 focus:ring-teal-500 focus:bg-white dark:focus:bg-gray-700 transition-all shadow-sm"})]})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 pb-28",children:[n&&e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-2",children:[e.jsxs("div",{className:"col-span-2 bg-gradient-to-r from-teal-500 to-emerald-600 rounded-2xl p-4 text-white shadow-lg relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full blur-2xl -mr-16 -mt-16"}),e.jsxs("div",{className:"flex justify-between items-end relative z-10",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-teal-100 text-xs font-bold uppercase tracking-wider mb-1",children:"Total Registrations"}),e.jsx("p",{className:"text-3xl font-black",children:n.total})]}),e.jsx("div",{className:"p-2 bg-white/20 rounded-lg backdrop-blur-md",children:e.jsx(Ui,{size:20,className:"text-white"})})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 flex flex-col items-center justify-center text-center",children:[e.jsx("p",{className:"text-xs font-bold text-amber-500 uppercase tracking-wide mb-1",children:"Pending"}),e.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:n.pending})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 flex flex-col items-center justify-center text-center",children:[e.jsx("p",{className:"text-xs font-bold text-green-500 uppercase tracking-wide mb-1",children:"Consulted"}),e.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:n.consulted})]})]}),i&&m===1?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-teal-500 border-t-transparent"})}):a.length>0?e.jsxs("div",{className:"space-y-3",children:[a.map(C=>{var P;return e.jsx("div",{onClick:()=>k(C),className:"bg-white dark:bg-gray-800 rounded-2xl p-4 shadow-sm border border-gray-100 dark:border-gray-700 active:scale-[0.98] transition-all cursor-pointer relative overflow-hidden group",children:e.jsxs("div",{className:"flex gap-4 items-start",children:[e.jsxs("div",{className:"relative shrink-0",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gray-100 dark:bg-gray-700 flex items-center justify-center text-gray-400 font-bold text-xl overflow-hidden shadow-inner uppercase",children:C.patient_photo_path?e.jsx("img",{src:S(C.patient_photo_path)||"",alt:C.patient_name,className:"w-full h-full object-cover"}):C.patient_name.charAt(0)}),((P=C.status)==null?void 0:P.toLowerCase())==="pending"&&e.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full border-2 border-white dark:border-gray-800"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("h3",{className:"font-bold text-base text-gray-900 dark:text-gray-100 truncate pr-2",children:C.patient_name}),e.jsx("span",{className:`px-2 py-0.5 rounded-lg text-[10px] uppercase font-bold tracking-wide border ${E(C.status)}`,children:C.status})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1 mb-2",children:[e.jsx("span",{className:"text-xs font-mono text-gray-400 bg-gray-50 dark:bg-gray-700/50 px-1.5 py-0.5 rounded",children:C.patient_uid?`#${C.patient_uid}`:`#${C.registration_id}`}),e.jsx("span",{className:"text-xs text-gray-400",children:""}),e.jsxs("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 flex items-center gap-1",children:[e.jsx(fe,{size:10})," ",b(C.created_at)]})]}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500 dark:text-gray-400",children:[C.chief_complain&&e.jsxs("div",{className:"flex items-center gap-1.5 bg-teal-50 dark:bg-teal-900/20 text-teal-700 dark:text-teal-300 px-2 py-1 rounded-md max-w-[60%] truncate",children:[e.jsx(zr,{size:10})," ",e.jsx("span",{className:"truncate",children:C.chief_complain})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(we,{size:10})," ",C.phone_number]})]})]})]})},C.registration_id)}),m<x&&e.jsx("div",{className:"flex justify-center pt-4",children:e.jsxs("button",{onClick:N,className:"group relative px-6 py-2 bg-white dark:bg-gray-800 text-teal-600 text-sm font-bold rounded-full shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[e.jsx("span",{className:"relative z-10 group-hover:text-teal-700 transition-colors",children:"Load More Records"}),e.jsx("div",{className:"absolute inset-0 bg-teal-50 dark:bg-teal-900/20 opacity-0 group-hover:opacity-100 transition-opacity"})]})})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-50 dark:bg-gray-800 rounded-full flex items-center justify-center mb-4 border-2 border-dashed border-gray-200 dark:border-gray-700",children:e.jsx(X,{size:32,className:"text-gray-400/50"})}),e.jsx("h3",{className:"text-gray-900 dark:text-white font-bold mb-1",children:"No registrations found"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm max-w-[200px]",children:"Try adjusting your search or add a new patient."})]})]}),y&&e.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-end sm:items-center justify-center sm:p-4 perspective-1000",children:[e.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity",onClick:()=>w(null)}),e.jsxs("div",{className:"relative bg-white dark:bg-gray-800 w-full sm:max-w-md sm:rounded-3xl rounded-t-3xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh] animate-in slide-in-from-bottom-10 sm:zoom-in-95 duration-300",children:[e.jsxs("div",{className:"px-6 py-5 border-b border-gray-100 dark:border-gray-700 flex justify-between items-start bg-white dark:bg-gray-800 z-10 sticky top-0",children:[e.jsxs("div",{className:"flex-1 mr-4",children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900 dark:text-white leading-tight mb-1",children:y.patient_name}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative inline-block",children:[e.jsxs("select",{value:y.status,onChange:C=>v(C.target.value),disabled:g,className:`appearance-none pl-4 pr-12 py-2 rounded-lg text-xs uppercase font-black tracking-widest border cursor-pointer outline-none focus:ring-2 focus:ring-offset-1 transition-all min-w-[180px] ${E(y.status)} ${g?"opacity-50":""}`,children:[e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Consulted",children:"Consulted"}),e.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),e.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none opacity-50",children:e.jsx(xx,{size:14})})]}),g&&e.jsx("div",{className:"animate-spin w-3 h-3 border-2 border-teal-500 border-t-transparent rounded-full"})]})]}),e.jsx("button",{onClick:()=>w(null),className:"p-2 bg-gray-100 dark:bg-gray-700/50 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full transition-colors",children:e.jsx(Te,{size:20,className:"text-gray-500 dark:text-gray-400"})})]}),e.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar space-y-6 bg-slate-50/50 dark:bg-slate-900/30",children:z?e.jsx("div",{className:"flex justify-center py-10",children:e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-2 border-teal-500 border-t-transparent"})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`p-3 rounded-xl flex items-center gap-3 border ${y.is_patient_created?"bg-emerald-50 border-emerald-100 text-emerald-800 dark:bg-emerald-900/20 dark:border-emerald-900":"bg-amber-50 border-amber-100 text-amber-800 dark:bg-amber-900/20 dark:border-amber-900"}`,children:[y.is_patient_created?e.jsx(re,{size:18,className:"text-emerald-500"}):e.jsx(ms,{size:18,className:"text-amber-500"}),e.jsx("span",{className:"text-xs font-bold",children:y.is_patient_created?"Patient Record Synced":"No Permanent Record Found"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-20 h-20 rounded-2xl bg-white dark:bg-gray-700 p-1 shadow-sm border border-gray-100 dark:border-gray-600",children:e.jsx("div",{className:"w-full h-full rounded-xl bg-gray-100 dark:bg-gray-600 overflow-hidden flex items-center justify-center text-3xl font-black text-gray-300 uppercase",children:y.patient_photo_path?e.jsx("img",{src:S(y.patient_photo_path)||"",alt:"Profile",className:"w-full h-full object-cover"}):y.patient_name.charAt(0)})}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-gray-600 dark:text-gray-300",children:[e.jsx(we,{size:14,className:"text-teal-500"}),e.jsx("a",{href:`tel:${y.phone_number}`,className:"hover:underline font-medium",children:y.phone_number})]}),e.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-gray-600 dark:text-gray-300",children:[e.jsx(X,{size:14,className:"text-teal-500"}),e.jsxs("span",{children:[y.age," Yrs, ",y.gender]})]}),y.email&&e.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-gray-600 dark:text-gray-300",children:[e.jsx(X,{size:14,className:"text-teal-500"}),e.jsx("span",{className:"truncate max-w-[150px]",children:y.email})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-5 shadow-sm border border-gray-100 dark:border-gray-700 space-y-4",children:[e.jsx("h3",{className:"text-xs font-black text-gray-400 uppercase tracking-widest mb-4",children:"Medical Details"}),e.jsx($l,{icon:zr,label:"Chief Complaint",value:y.chief_complain}),e.jsx($l,{icon:Ui,label:"Type",value:y.consultation_type}),e.jsx($l,{icon:X,label:"Referred By",value:y.reffered_by})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-5 shadow-sm border border-gray-100 dark:border-gray-700 space-y-4",children:[e.jsx("h3",{className:"text-xs font-black text-gray-400 uppercase tracking-widest mb-4",children:"Payment"}),e.jsxs("div",{className:"flex justify-between items-end bg-gray-50 dark:bg-gray-700/50 p-3 rounded-xl border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Total Amount"}),e.jsxs("p",{className:"text-xl font-black text-gray-900 dark:text-white",children:[" ",y.consultation_amount||"0"]})]}),e.jsx("span",{className:"px-2 py-1 bg-white dark:bg-gray-600 rounded text-xs font-bold text-gray-600 dark:text-gray-300 border border-gray-100 dark:border-gray-500",children:y.payment_method||"CASH"})]})]}),(y.doctor_notes||y.prescription||y.remarks)&&e.jsxs("div",{className:"space-y-3",children:[y.doctor_notes&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-2xl border-l-4 border-teal-500 shadow-sm",children:[e.jsx("h4",{className:"text-xs font-bold text-teal-600 uppercase mb-1",children:"Doctor Notes"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:y.doctor_notes})]}),y.remarks&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-2xl border-l-4 border-amber-500 shadow-sm",children:[e.jsx("h4",{className:"text-xs font-bold text-amber-600 uppercase mb-1",children:"Remarks"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:y.remarks})]})]})]})})]})]}),e.jsx("button",{onClick:()=>t("/registration/new"),className:"fixed bottom-24 right-5 w-16 h-16 bg-teal-600 hover:bg-teal-700 text-white rounded-2xl shadow-xl shadow-teal-600/30 flex items-center justify-center active:scale-90 transition-all z-30 group",children:e.jsx(gr,{size:32,strokeWidth:2.5,className:"group-hover:rotate-90 transition-transform"})})]})},Il="https://prospine.in/admin/mobile/api",Tf=()=>{const t=ee(),{user:r}=G(),a=p.useRef(null),[s,n]=p.useState(!1),[l,i]=p.useState([]),[d,o]=p.useState({referrers:[],paymentMethods:[],chiefComplaints:[],referralSources:[],consultationTypes:[],testTypes:[],limbTypes:[],staffMembers:[]});p.useEffect(()=>{(async()=>{try{const u=(r==null?void 0:r.branch_id)||1,f=await(await fetch(`${Il}/fetch_form_settings.php?branch_id=${u}`)).json();f.status==="success"&&o(f.data)}catch(u){console.error("Failed to load form settings",u)}})()},[r==null?void 0:r.branch_id]);const[c,m]=p.useState({patient_name:"",phone:"",age:"",gender:"",address:"",email:"",occupation:"",chief_complaint:"",chief_complaint_other:"",referralSource:"",referred_by:"",consultation_type:"",appointment_date:new Date().toLocaleDateString("en-CA"),appointment_time:"",consultation_amount:"",payment_method:"",remarks:""});p.useEffect(()=>{(async()=>{try{const u=(r==null?void 0:r.branch_id)||1,b=c.appointment_date,v=await(await fetch(`${Il}/fetch_available_slots.php?branch_id=${u}&date=${b}`)).json();v.status==="success"&&i(v.slots)}catch(u){console.error("Failed to load time slots",u)}})()},[c.appointment_date,r==null?void 0:r.branch_id]);const[h,x]=p.useState(null),[_,y]=p.useState(null),w=g=>{const{name:u,value:b}=g.target;m(f=>({...f,[u]:b}))},z=g=>{var b;const u=(b=g.target.files)==null?void 0:b[0];if(u){const f=new FileReader;f.onloadend=()=>{x(f.result)},f.readAsDataURL(u)}},j=async g=>{if(g.preventDefault(),n(!0),y(null),!c.patient_name||!c.phone||!c.age||!c.gender||!c.consultation_amount||!c.payment_method){y({type:"error",message:"Please fill all required fields (*)"}),n(!1),window.scrollTo(0,0);return}try{const u=c.chief_complaint==="other"||c.chief_complaint==="Other"?c.chief_complaint_other:c.chief_complaint,b={...c,chief_complaint:u,branch_id:(r==null?void 0:r.branch_id)||1,employee_id:(r==null?void 0:r.id)||1,patient_photo_data:h},v=await(await fetch(`${Il}/create_registration.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)})).json();v.status==="success"?(y({type:"success",message:"Registration Successful!"}),setTimeout(()=>{t("/registration")},1500)):(y({type:"error",message:v.message||"Registration failed"}),window.scrollTo(0,0))}catch(u){console.error(u),y({type:"error",message:"Network error occurred"}),window.scrollTo(0,0)}finally{n(!1)}};return e.jsxs("div",{className:"flex flex-col h-full bg-gray-50 dark:bg-gray-900 transition-colors",children:[e.jsx("header",{className:"px-4 py-3 pt-[var(--safe-area-inset-top,32px)] flex items-center justify-between sticky top-0 z-20 bg-white/80 dark:bg-gray-800/80 backdrop-blur-md border-b border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>t(-1),className:"p-2 -ml-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:e.jsx(Ye,{size:24,className:"text-gray-600 dark:text-gray-300"})}),e.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"New Registration"})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 pb-24 space-y-6",children:[_&&e.jsxs("div",{className:`p-4 rounded-xl flex items-center gap-3 ${_.type==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:[_.type==="success"?e.jsx(re,{size:20}):e.jsx(ms,{size:20}),e.jsx("p",{className:"text-sm font-bold",children:_.message})]}),e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-center",children:[e.jsxs("div",{onClick:()=>{var g;return(g=a.current)==null?void 0:g.click()},className:"w-32 h-32 rounded-full bg-gray-100 dark:bg-gray-800 border-4 border-white dark:border-gray-700 shadow-md flex items-center justify-center relative overflow-hidden cursor-pointer group active:scale-95 transition-all",children:[h?e.jsx("img",{src:h,alt:"Preview",className:"w-full h-full object-cover"}):e.jsxs("div",{className:"flex flex-col items-center text-gray-400 group-hover:text-teal-500 transition-colors",children:[e.jsx(Kh,{size:32}),e.jsx("span",{className:"text-[10px] font-bold uppercase mt-1",children:"Add Photo"})]}),e.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(yx,{size:24,className:"text-white"})})]}),e.jsx("input",{type:"file",ref:a,accept:"image/*",className:"hidden",onChange:z})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Patient Details"}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 space-y-4",children:[e.jsx(Ht,{icon:e.jsx(X,{size:18}),label:"Full Name *",name:"patient_name",value:c.patient_name,onChange:w,placeholder:"e.g. Rahul Kumar"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Ht,{icon:e.jsx(we,{size:18}),label:"Phone *",name:"phone",type:"tel",value:c.phone,onChange:w,placeholder:"98765..."}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase ml-1",children:"Age *"}),e.jsx("input",{type:"number",name:"age",value:c.age,onChange:w,placeholder:"Age",className:"w-full p-3 bg-gray-50 dark:bg-gray-900/50 rounded-xl font-medium border border-gray-100 dark:border-gray-700 focus:ring-2 focus:ring-teal-500 outline-none transition-all dark:text-white"})]})]}),e.jsx(Ht,{icon:e.jsx(Tr,{size:18}),label:"Email",name:"email",type:"email",value:c.email,onChange:w,placeholder:"name@example.com"}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase ml-1",children:"Gender *"}),e.jsx("div",{className:"flex bg-gray-50 dark:bg-gray-900/50 p-1 rounded-xl",children:["Male","Female","Other"].map(g=>e.jsx("button",{type:"button",onClick:()=>m(u=>({...u,gender:g})),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all ${c.gender===g?"bg-white dark:bg-gray-700 text-teal-600 shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:g},g))})]}),e.jsx(Ht,{icon:e.jsx(vt,{size:18}),label:"Address",name:"address",value:c.address,onChange:w,placeholder:"Local Area / City"}),e.jsx(Ht,{icon:e.jsx(X,{size:18}),label:"Occupation",name:"occupation",value:c.occupation,onChange:w,placeholder:"e.g. Student"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Medical & Referral"}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 space-y-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase ml-1",children:"Chief Complaint * (Dynamic)"}),e.jsxs("select",{name:"chief_complaint",value:c.chief_complaint,onChange:w,className:"w-full p-3 bg-gray-50 dark:bg-gray-900/50 rounded-xl font-medium border border-gray-100 dark:border-gray-700 focus:ring-2 focus:ring-teal-500 outline-none dark:text-white",children:[e.jsx("option",{value:"",children:"Select Condition"}),d.chiefComplaints.map(g=>e.jsx("option",{value:g.complaint_code,children:g.complaint_name},g.complaint_code)),e.jsx("option",{value:"other",children:"Other"})]}),(c.chief_complaint==="other"||c.chief_complaint==="Other")&&e.jsx("input",{type:"text",name:"chief_complaint_other",placeholder:"Specify Condition",value:c.chief_complaint_other,onChange:w,className:"w-full p-3 mt-2 bg-gray-50 dark:bg-gray-900/50 rounded-xl font-medium border border-gray-100 dark:border-gray-700 focus:ring-2 focus:ring-teal-500 outline-none dark:text-white"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase ml-1",children:"Type *"}),e.jsxs("select",{name:"consultation_type",value:c.consultation_type,onChange:w,className:"w-full p-3 bg-gray-50 dark:bg-gray-900/50 rounded-xl font-medium border border-gray-100 dark:border-gray-700 focus:ring-2 focus:ring-teal-500 outline-none dark:text-white",children:[e.jsx("option",{value:"",children:"Select Type"}),d.consultationTypes.map(g=>e.jsx("option",{value:g.consultation_code,children:g.consultation_name},g.consultation_code))]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase ml-1",children:"Source"}),e.jsxs("select",{name:"referralSource",value:c.referralSource,onChange:w,className:"w-full p-3 bg-gray-50 dark:bg-gray-900/50 rounded-xl font-medium border border-gray-100 dark:border-gray-700 focus:ring-2 focus:ring-teal-500 outline-none dark:text-white",children:[e.jsx("option",{value:"",children:"Select Source"}),d.referralSources.map(g=>e.jsx("option",{value:g.source_code,children:g.source_name},g.source_code))]})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase ml-1",children:"Referred By"}),e.jsx("input",{list:"referrers-list",name:"referred_by",value:c.referred_by,onChange:w,placeholder:"Type or select a doctor",className:"w-full pl-4 pr-4 py-3 bg-gray-50 dark:bg-gray-900/50 rounded-xl font-medium border border-gray-100 dark:border-gray-700 focus:ring-2 focus:ring-teal-500 outline-none transition-all dark:text-white placeholder:text-gray-400"}),e.jsx("datalist",{id:"referrers-list",children:d.referrers.map(g=>e.jsx("option",{value:g},g))})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Appointment"}),e.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Ht,{icon:e.jsx(fe,{size:18}),label:"Date *",name:"appointment_date",type:"date",value:c.appointment_date,onChange:w}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase ml-1",children:"Time Slot *"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none",children:e.jsx(pe,{size:18})}),e.jsxs("select",{name:"appointment_time",value:c.appointment_time,onChange:w,className:"w-full pl-10 pr-4 py-3 bg-gray-50 dark:bg-gray-900/50 rounded-xl font-medium border border-gray-100 dark:border-gray-700 focus:ring-2 focus:ring-teal-500 outline-none dark:text-white",children:[e.jsx("option",{value:"",children:"Select Time"}),l.map(g=>e.jsxs("option",{value:g.time,disabled:g.is_booked,children:[g.label," ",g.is_booked?"(Booked)":""]},g.time))]})]})]})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-xs font-black text-gray-400 uppercase tracking-widest px-1",children:"Payment"}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 space-y-4",children:[e.jsx(Ht,{icon:e.jsx(tl,{size:18}),label:"Amount *",name:"consultation_amount",type:"number",value:c.consultation_amount,onChange:w,placeholder:"Enter Amount"}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase ml-1",children:"Payment Method *"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:d.paymentMethods.length>0?d.paymentMethods.map(g=>e.jsx("button",{type:"button",onClick:()=>m(u=>({...u,payment_method:g.method_code})),className:`py-2 px-3 rounded-lg text-xs font-bold uppercase border transition-all ${c.payment_method===g.method_code?"bg-teal-50 border-teal-500 text-teal-700 dark:bg-teal-900/30 dark:text-teal-400":"bg-gray-50 border-transparent text-gray-500 hover:bg-gray-100 dark:bg-gray-900/30"}`,children:g.method_name},g.method_code)):e.jsx("p",{className:"col-span-2 text-xs text-gray-400",children:"Loading methods..."})})]})]})]}),e.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700",children:e.jsx(Ht,{icon:e.jsx(Xe,{size:18}),label:"Remarks / Notes",name:"remarks",value:c.remarks,onChange:w,placeholder:"Any additional notes..."})}),e.jsx("button",{type:"submit",disabled:s,className:"w-full py-4 bg-teal-600 hover:bg-teal-700 text-white rounded-2xl font-bold uppercase tracking-widest shadow-lg shadow-teal-500/30 disabled:opacity-70 disabled:cursor-not-allowed transform active:scale-[0.98] transition-all",children:s?"Creating Registration...":"Register Patient"})]})]})]})},Ht=({label:t,icon:r,className:a="",...s})=>e.jsxs("div",{className:`space-y-1.5 ${a}`,children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase ml-1",children:t}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none",children:r}),e.jsx("input",{...s,className:"w-full pl-10 pr-4 py-3 bg-gray-50 dark:bg-gray-900/50 rounded-xl font-medium border border-gray-100 dark:border-gray-700 focus:ring-2 focus:ring-teal-500 outline-none transition-all dark:text-white placeholder:text-gray-400"})]})]}),Mf=()=>{const t=ee(),{user:r}=G(),[a,s]=p.useState([]),[n,l]=p.useState(null),[i,d]=p.useState(!0),[o,c]=p.useState(""),[m,h]=p.useState("all"),[x,_]=p.useState(new Date().toISOString().split("T")[0]),[y,w]=p.useState(null),[z,j]=p.useState(!1),[g,u]=p.useState(!1),[b,f]=p.useState(!1),[v,N]=p.useState(!1),[k,E]=p.useState(""),[S,C]=p.useState(""),[P,M]=p.useState(""),[B,L]=p.useState(!1),[T,W]=p.useState(null),[D,U]=p.useState(!1),[A,H]=p.useState(new Date),Q=async()=>{d(!0);try{const O=(r==null?void 0:r.branch_id)||1,me="https://prospine.in/admin/mobile/api",De=new URLSearchParams({branch_id:O.toString(),date:x,search:o,status:m==="pending"?"all":m,limit:"100"}),qe=await(await fetch(`${me}/attendance.php?${De.toString()}`)).json();if(qe.status==="success"){let Qe=qe.data;m==="pending"&&(Qe=Qe.filter(fs=>fs.attendance_status==="pending")),s(Qe),qe.stats&&l(qe.stats)}}catch(O){console.error("Error fetching attendance:",O)}finally{d(!1)}},$=async O=>{U(!0),W(null);try{const Ve=await(await fetch(`https://prospine.in/admin/mobile/api/attendance_history.php?patient_id=${O}`)).json();Ve.status==="success"&&W(Ve.data)}catch(me){console.error("History fetch error",me)}finally{U(!1)}},V=O=>{const me=new Date(x);me.setDate(me.getDate()+O),_(me.toISOString().split("T")[0])},Y=O=>{w(O),N(!0),H(new Date),$(O.patient_id)};p.useEffect(()=>{const O=setTimeout(()=>{Q()},500);return()=>clearTimeout(O)},[o,m,x]);const le=O=>{if(w(O),E(""),C(""),M(""),O.effective_balance>=O.cost_per_day)f(!0);else{const De=Math.max(0,O.cost_per_day-O.effective_balance);E(Math.ceil(De).toString()),u(!0)}},oe=async O=>{if(y){L(!0);try{const me="https://prospine.in/admin/mobile/api",De={patient_id:y.patient_id,employee_id:(r==null?void 0:r.employee_id)||1,payment_amount:O.withPayment?parseFloat(k):0,mode:O.withPayment?S:"",remarks:P,mark_as_pending:O.markAsPending||!1},qe=await(await fetch(`${me}/mark_attendance.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(De)})).json();qe.status==="success"?(j(!1),f(!1),u(!1),Q()):alert(qe.message||"Error marking attendance")}catch(me){console.error("Submission error:",me),alert("Failed to submit attendance")}finally{L(!1)}}},pr=O=>O?`https://prospine.in/proadmin/admin/${O.replace(/^\//,"")}`:null;return e.jsxs("div",{className:"flex flex-col h-full bg-gray-50/50 dark:bg-gray-900 transition-colors",children:[e.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-xl shadow-sm sticky top-0 z-20 pt-[var(--safe-area-inset-top,32px)] mt-0 border-b border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>t("/"),className:"p-2 -ml-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors active:scale-95",children:e.jsx(Ye,{size:24,className:"text-gray-600 dark:text-gray-300"})}),e.jsx("h1",{className:"text-xl font-black text-gray-900 dark:text-white tracking-tight",children:"Daily Visits"})]}),e.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 dark:bg-gray-700 rounded-xl p-1 shadow-inner",children:[e.jsx("button",{onClick:()=>V(-1),className:"p-1.5 text-gray-500 hover:text-teal-600 dark:hover:text-teal-400 active:scale-90 transition-transform",children:e.jsx(Ye,{size:16})}),e.jsx("span",{className:"text-xs font-bold text-gray-700 dark:text-gray-200 w-24 text-center",children:new Date(x).toLocaleDateString("en-US",{day:"numeric",month:"short",weekday:"short"})}),e.jsx("button",{onClick:()=>V(1),className:"p-1.5 text-gray-500 hover:text-teal-600 dark:hover:text-teal-400 active:scale-90 transition-transform",children:e.jsx(os,{size:16})})]})]}),e.jsxs("div",{className:"px-4 pb-4 space-y-3",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-teal-500 transition-colors",children:e.jsx(He,{size:18})}),e.jsx("input",{type:"text",placeholder:"Search patient via name or ID...",value:o,onChange:O=>c(O.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-100/50 dark:bg-gray-700/50 backdrop-blur-sm border-2 border-transparent focus:border-teal-500/30 focus:bg-white dark:focus:bg-gray-800 rounded-2xl text-sm outline-none transition-all dark:text-white font-medium"})]}),e.jsx("div",{className:"flex gap-2 p-1 overflow-x-auto no-scrollbar mask-gradient",children:[{id:"all",label:"All Patients"},{id:"present",label:"Present"},{id:"pending",label:"Pending Approval"}].map(O=>e.jsx("button",{onClick:()=>h(O.id),className:`px-4 py-1.5 text-xs font-bold rounded-full whitespace-nowrap transition-all border ${m===O.id?"bg-teal-600 text-white border-teal-600 shadow-lg shadow-teal-500/20":"bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400 border-gray-200 dark:border-gray-700"}`,children:O.label},O.id))})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-5 pb-32 no-scrollbar",children:[n&&e.jsxs("div",{className:"bg-gradient-to-br from-teal-600 to-emerald-700 rounded-3xl p-6 text-white shadow-xl shadow-teal-900/10 relative overflow-hidden mb-4",children:[e.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-white/10 rounded-fullblur-3xl -mr-10 -mt-10 blur-2xl"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-black/10 rounded-fullblur-3xl -ml-10 -mb-10 blur-xl"}),e.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[e.jsxs("h3",{className:"font-bold text-sm uppercase tracking-widest opacity-80 flex items-center gap-2",children:[e.jsx(fe,{size:16})," Summary"]}),e.jsx("span",{className:"bg-white/20 backdrop-blur-md px-2 py-0.5 rounded-lg text-[10px] font-bold",children:new Date(x).toLocaleDateString("en-US",{day:"2-digit",month:"short"})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center relative z-10",children:[e.jsxs("div",{className:"bg-black/20 backdrop-blur-sm rounded-2xl p-3",children:[e.jsx("p",{className:"text-2xl font-black",children:n.present}),e.jsx("p",{className:"text-[10px] font-bold text-teal-100 uppercase mt-0.5",children:"Present"})]}),e.jsxs("div",{className:"bg-black/20 backdrop-blur-sm rounded-2xl p-3 border border-amber-400/30",children:[e.jsx("p",{className:"text-2xl font-black text-amber-300",children:n.pending}),e.jsx("p",{className:"text-[10px] font-bold text-amber-100 uppercase mt-0.5",children:"Pending"})]}),e.jsxs("div",{className:"bg-black/20 backdrop-blur-sm rounded-2xl p-3",children:[e.jsx("p",{className:"text-2xl font-black opacity-80",children:n.absent}),e.jsx("p",{className:"text-[10px] font-bold text-teal-100/70 uppercase mt-0.5 opacity-80",children:"Absent"})]})]})]}),i?e.jsx("div",{className:"flex justify-center py-20",children:e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-teal-500 border-t-transparent"})}):a.length>0?e.jsx("div",{className:"grid gap-3",children:a.map(O=>{const me=O.treatment_days>0?Math.min(100,O.session_count/O.treatment_days*100):0,De=O.attendance_status==="pending",Ve=O.attendance_status==="present";return e.jsxs("div",{onClick:()=>Y(O),className:`bg-white dark:bg-gray-800 rounded-2xl p-4 border transition-all active:scale-[0.98] cursor-pointer shadow-sm relative overflow-hidden group
                    ${Ve?"border-green-200 dark:border-green-900/50":De?"border-amber-200 dark:border-amber-900/50":"border-gray-100 dark:border-gray-700"}
                `,children:[e.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1.5 
                    ${Ve?"bg-green-500":De?"bg-amber-500":"bg-transparent"}`}),e.jsxs("div",{className:"flex gap-4 pl-2",children:[e.jsx("div",{className:"relative shrink-0 pt-1",children:e.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center font-bold text-lg overflow-hidden shadow-inner uppercase transition-colors
                        ${Ve?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":De?"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400":"bg-gray-100 text-gray-400 dark:bg-gray-700 dark:text-gray-300"}
                    `,children:O.patient_photo_path?e.jsx("img",{src:pr(O.patient_photo_path)||"",alt:"",className:"w-full h-full object-cover"}):O.patient_name.charAt(0)})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex justify-between items-start mb-1",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white truncate text-base",children:O.patient_name}),e.jsxs("div",{className:"text-xs font-medium text-gray-400 flex items-center gap-2 mt-0.5",children:[e.jsxs("span",{children:["#",O.patient_uid||O.patient_id]}),e.jsx("span",{className:"w-1 h-1 rounded-full bg-gray-300"}),e.jsx("span",{className:"uppercase text-teal-600 dark:text-teal-400 font-bold tracking-wide",children:O.treatment_type})]})]}),Ve?e.jsxs("span",{className:"flex items-center gap-1 text-[10px] uppercase font-black tracking-wider text-green-600 bg-green-50 border border-green-100 px-2 py-1 rounded-lg dark:bg-green-900/20 dark:border-green-900/50 dark:text-green-400",children:[e.jsx(re,{size:10,strokeWidth:3})," Present"]}):De?e.jsxs("span",{className:"flex items-center gap-1 text-[10px] uppercase font-black tracking-wider text-amber-600 bg-amber-50 border border-amber-100 px-2 py-1 rounded-lg dark:bg-amber-900/20 dark:border-amber-900/50 dark:text-amber-400",children:[e.jsx(pe,{size:10,strokeWidth:3})," Pending"]}):e.jsx("span",{className:"text-[10px] uppercase font-bold tracking-wider text-gray-400 bg-gray-50 border border-gray-100 px-2 py-1 rounded-lg dark:bg-gray-700/50 dark:border-gray-600 dark:text-gray-500",children:"Absent"})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-3",children:[e.jsx("div",{className:"flex-1 h-1.5 bg-gray-100 dark:bg-gray-700 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${Ve?"bg-green-500":De?"bg-amber-500":"bg-teal-500"}`,style:{width:`${me}%`}})}),e.jsxs("span",{className:"text-[10px] font-bold text-gray-400 whitespace-nowrap",children:[O.session_count,"/",O.treatment_days||""]})]}),!Ve&&!De&&e.jsxs("div",{className:"mt-4 flex items-center justify-between border-t border-gray-50 dark:border-gray-700/50 pt-3",children:[e.jsxs("div",{className:`text-xs font-bold flex items-center gap-1.5 ${O.effective_balance<0?"text-red-500":"text-gray-500"}`,children:[e.jsx(Le,{size:12}),"Bal: ",O.effective_balance.toFixed(0)]}),e.jsx("button",{onClick:qe=>{qe.stopPropagation(),le(O)},className:"flex items-center gap-1.5 px-3 py-1.5 bg-gray-900 dark:bg-white text-white dark:text-gray-900 text-xs font-bold uppercase tracking-wide rounded-lg active:scale-95 transition-transform shadow-lg shadow-gray-200 dark:shadow-none hover:bg-gray-800",children:"Mark Present"})]})]})]})]},O.patient_id)})}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 opacity-60",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-100 dark:bg-gray-800 rounded-3xl flex items-center justify-center mb-4 shadow-inner",children:e.jsx(fe,{size:32,className:"text-gray-400"})}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"No patients found"})]})]}),g&&y&&e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center p-4 sm:p-0",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity",onClick:()=>u(!1)}),e.jsxs("div",{className:"relative bg-white dark:bg-gray-800 w-full sm:max-w-sm rounded-3xl shadow-2xl p-6 animate-in slide-in-from-bottom-20 sm:zoom-in-95 duration-300",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-amber-100 dark:bg-amber-900/30 text-amber-600 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(Le,{size:24})}),e.jsx("h3",{className:"text-lg font-black text-gray-900 dark:text-white mb-1",children:"Low Balance"}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 px-4",children:[e.jsx("b",{children:y.patient_name})," has insufficient balance (",y.effective_balance.toFixed(0),") for this session (",y.cost_per_day,")."]})]}),e.jsxs("div",{className:"grid gap-3",children:[e.jsx("button",{onClick:()=>{u(!1),j(!0)},className:"w-full py-3.5 bg-teal-600 hover:bg-teal-700 text-white font-bold rounded-2xl shadow-lg shadow-teal-500/20 active:scale-95 transition-transform flex items-center justify-center gap-2",children:"Collect Payment"}),e.jsx("button",{onClick:()=>oe({withPayment:!1,markAsPending:!0}),disabled:B,className:"w-full py-3.5 bg-amber-50 hover:bg-amber-100 dark:bg-amber-900/20 dark:hover:bg-amber-900/40 text-amber-700 dark:text-amber-400 font-bold rounded-2xl border border-amber-200 dark:border-amber-900 active:scale-95 transition-transform flex items-center justify-center gap-2",children:B?"Requesting...":"Request Admin Approval"}),e.jsx("button",{onClick:()=>u(!1),className:"mt-2 text-xs font-bold text-gray-400 hover:text-gray-600 uppercase tracking-wider",children:"Cancel"})]})]})]}),b&&y&&e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>f(!1)}),e.jsxs("div",{className:"relative bg-white dark:bg-gray-800 w-full max-w-sm rounded-3xl shadow-2xl p-6 animate-in zoom-in-95",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white mb-2",children:"Mark Attendance?"}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Confirm presence for ",e.jsx("b",{children:y.patient_name}),". Balance is sufficient."]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>f(!1),className:"flex-1 py-3 bg-gray-100 dark:bg-gray-700 font-bold text-gray-600 dark:text-gray-300 rounded-xl",children:"Cancel"}),e.jsx("button",{onClick:()=>oe({withPayment:!1}),disabled:B,className:"flex-1 py-3 bg-teal-600 text-white font-bold rounded-xl shadow-lg shadow-teal-500/20",children:B?"Processing...":"Confirm"})]})]})]}),z&&y&&e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center p-4 sm:p-0",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>j(!1)}),e.jsxs("div",{className:"relative bg-white dark:bg-gray-800 w-full sm:max-w-sm rounded-3xl shadow-2xl p-6 animate-in slide-in-from-bottom-20 sm:zoom-in-95 duration-300",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white",children:"Record Payment"}),e.jsx("button",{onClick:()=>j(!1),children:e.jsx(Te,{size:20,className:"text-gray-400"})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider block mb-2",children:"Amount ()"}),e.jsx("input",{type:"number",value:k,onChange:O=>E(O.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-700/50 rounded-xl text-xl font-bold border-2 border-transparent focus:border-teal-500 focus:bg-white dark:focus:bg-gray-800 transition-all outline-none",placeholder:"0.00",autoFocus:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider block mb-2",children:"Mode"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:["cash","upi","card","other"].map(O=>e.jsx("button",{onClick:()=>C(O),className:`py-2 text-[10px] font-bold rounded-xl uppercase tracking-wide border-2 transition-all ${S===O?"bg-teal-50 border-teal-500 text-teal-700 dark:bg-teal-900/30 dark:text-teal-400":"bg-transparent border-gray-100 text-gray-400 dark:border-gray-700"}`,children:O},O))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider block mb-2",children:"Remarks"}),e.jsx("input",{value:P,onChange:O=>M(O.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-700/50 rounded-xl text-sm font-medium border-2 border-transparent focus:border-teal-500 outline-none",placeholder:"Optional notes..."})]}),e.jsx("button",{onClick:()=>oe({withPayment:!0}),disabled:B||!k||!S,className:"w-full py-4 bg-teal-600 text-white rounded-2xl font-bold text-sm shadow-xl shadow-teal-500/20 disabled:opacity-50 disabled:shadow-none hover:bg-teal-700 transition-all",children:B?"Processing...":"Pay & Mark Present"})]})]})]}),v&&y&&e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center sm:p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>N(!1)}),e.jsxs("div",{className:"relative bg-white dark:bg-gray-800 w-full sm:max-w-md rounded-t-3xl sm:rounded-3xl shadow-2xl flex flex-col animate-in slide-in-from-bottom-20 sm:zoom-in-95 duration-300 max-h-[85vh]",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-gray-700 flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white leading-tight mb-1",children:y.patient_name}),e.jsxs("p",{className:"text-sm font-medium text-gray-500 flex items-center gap-2",children:[e.jsxs("span",{className:"bg-gray-100 dark:bg-gray-700 px-2 py-0.5 rounded text-xs",children:["#",y.patient_uid||y.patient_id]}),e.jsx("span",{className:"text-teal-600 dark:text-teal-400 uppercase font-bold text-xs tracking-wide",children:y.treatment_type})]})]}),e.jsx("button",{onClick:()=>N(!1),className:"p-2 bg-gray-50 dark:bg-gray-700/50 rounded-full hover:bg-gray-100",children:e.jsx(Te,{size:20,className:"text-gray-400"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:D?e.jsx("div",{className:"flex justify-center py-10",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-teal-500 border-t-transparent"})}):T?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-2xl text-center border border-gray-100 dark:border-gray-700",children:[e.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-1",children:"Total"}),e.jsx("div",{className:"text-xl font-black text-gray-900 dark:text-white",children:T.stats.total_days})]}),e.jsxs("div",{className:"bg-teal-50 dark:bg-teal-900/10 p-4 rounded-2xl text-center border border-teal-100 dark:border-teal-900/30",children:[e.jsx("div",{className:"text-[10px] font-bold text-teal-600 dark:text-teal-400 uppercase tracking-wider mb-1",children:"Present"}),e.jsx("div",{className:"text-xl font-black text-teal-700 dark:text-teal-400",children:T.stats.present_count})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-2xl text-center border border-gray-100 dark:border-gray-700",children:[e.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-1",children:"Left"}),e.jsx("div",{className:"text-xl font-black text-gray-900 dark:text-white",children:T.stats.remaining})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h4",{className:"font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(Bo,{size:16})," Attendance Log"]}),e.jsxs("div",{className:"flex bg-gray-100 dark:bg-gray-700 rounded-lg p-0.5",children:[e.jsx("button",{onClick:()=>H(new Date(A.setMonth(A.getMonth()-1))),className:"p-1 hover:bg-white dark:hover:bg-gray-600 rounded-md text-gray-500 transition-shadow",children:e.jsx(Ye,{size:14})}),e.jsx("span",{className:"text-xs font-bold w-24 text-center flex items-center justify-center",children:A.toLocaleString("default",{month:"short",year:"numeric"})}),e.jsx("button",{onClick:()=>H(new Date(A.setMonth(A.getMonth()+1))),className:"p-1 hover:bg-white dark:hover:bg-gray-600 rounded-md text-gray-500 transition-shadow",children:e.jsx(os,{size:14})})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 p-4 rounded-2xl border border-gray-100 dark:border-gray-700",children:[e.jsx("div",{className:"grid grid-cols-7 gap-2 text-center text-[10px] font-bold text-gray-400 mb-2 uppercase tracking-wide",children:["S","M","T","W","T","F","S"].map((O,me)=>e.jsx("div",{children:O},me))}),e.jsx("div",{className:"grid grid-cols-7 gap-2",children:(()=>{const O=A.getFullYear(),me=A.getMonth(),De=new Date(O,me,1).getDay(),Ve=new Date(O,me+1,0).getDate(),qe=[];for(let Qe=0;Qe<De;Qe++)qe.push(e.jsx("div",{className:"aspect-square"},`empty-${Qe}`));for(let Qe=1;Qe<=Ve;Qe++){const fs=`${O}-${String(me+1).padStart(2,"0")}-${String(Qe).padStart(2,"0")}`,Mr=T.history.find(kx=>kx.attendance_date===fs),sl=(Mr==null?void 0:Mr.status)||null,jx=fs===new Date().toISOString().split("T")[0];let ys="bg-white dark:bg-gray-700 text-gray-300 dark:text-gray-600";sl==="present"?ys="bg-green-500 text-white shadow-md shadow-green-500/20":sl==="pending"?ys="bg-amber-400 text-white shadow-md shadow-amber-500/20":sl==="rejected"&&(ys="bg-red-400 text-white opacity-60"),qe.push(e.jsx("div",{className:`aspect-square rounded-lg flex items-center justify-center text-xs font-bold transition-all
                                                        ${ys}
                                                        ${jx?"ring-2 ring-teal-500 ring-offset-2 dark:ring-offset-gray-800 z-10":""}
                                                    `,title:(Mr==null?void 0:Mr.remarks)||"",children:Qe},Qe))}return qe})()})]})]})]}):e.jsx("div",{className:"text-gray-400 text-center py-10",children:"Data unavailable"})})]})]})]})},Df=()=>{const t=ee(),{user:r}=G(),[a,s]=p.useState([]),[n,l]=p.useState(!0),[i,d]=p.useState(""),[o,c]=p.useState("all"),[m,h]=p.useState(null),[x,_]=p.useState(null),[y,w]=p.useState(!1),[z,j]=p.useState(!1),[g,u]=p.useState(""),[b,f]=p.useState("cash"),[v,N]=p.useState(""),[k,E]=p.useState(!1),S=async()=>{l(!0);try{const T="https://prospine.in/admin/mobile/api",W=(r==null?void 0:r.branch_id)||1,D=new URLSearchParams({branch_id:W.toString(),search:i,status:o==="all"?"":o==="due"?"active":o,limit:"50"}),A=await(await fetch(`${T}/billing.php?${D.toString()}`)).json();if(A.status==="success"){let H=A.data;o==="due"?H=H.filter(Q=>Q.total_due>0):o==="completed"&&(H=H.filter(Q=>Q.total_due<=0)),s(H)}}catch(T){console.error(T)}finally{l(!1)}};p.useEffect(()=>{const T=setTimeout(S,500);return()=>clearTimeout(T)},[i,o]);const C=async T=>{w(!0),_(null);try{const W="https://prospine.in/admin/mobile/api",D=(r==null?void 0:r.branch_id)||1,U=(r==null?void 0:r.employee_id)||"",H=await(await fetch(`${W}/billing_details.php?patient_id=${T}&branch_id=${D}&employee_id=${U}`)).json();H.status==="success"&&_(H.data)}catch(W){console.error(W)}finally{w(!1)}},P=T=>{h(T),C(T)},M=async()=>{if(!(!x||!g)){E(!0);try{const T="https://prospine.in/admin/mobile/api",W={patient_id:x.patient_id,amount:parseFloat(g),mode:b,remarks:v,employee_id:(r==null?void 0:r.employee_id)||1},U=await(await fetch(`${T}/add_payment.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)})).json();U.status==="success"?(j(!1),u(""),N(""),C(x.patient_id),S()):alert(U.message||"Payment failed")}catch{alert("Network error")}finally{E(!1)}}},B=T=>`${T.toLocaleString("en-IN")}`,L=T=>T?`https://prospine.in/proadmin/admin/${T.replace(/^\//,"")}`:null;return e.jsxs("div",{className:"flex flex-col h-full bg-gray-50/50 dark:bg-gray-900 transition-colors pb-20 relative",children:[e.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-xl shadow-sm px-4 py-3 pt-[var(--safe-area-inset-top,32px)] mt-0 sticky top-0 z-20 flex items-center justify-between border-b border-gray-200/50 dark:border-gray-700/50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>t("/"),className:"p-2 -ml-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 active:scale-95 transition-transform",children:e.jsx(et,{size:24,className:"text-gray-600 dark:text-gray-300"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-black text-gray-900 dark:text-white tracking-tight",children:"Billing"}),e.jsx("p",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-widest",children:"Payments & Dues"})]})]}),e.jsx("div",{className:"p-2 bg-gradient-to-tr from-teal-500 to-emerald-500 rounded-xl shadow-lg shadow-teal-500/20 text-white",children:e.jsx(Vo,{size:20})})]}),e.jsxs("div",{className:"px-4 py-4 space-y-3 bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm z-10",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-teal-500 transition-colors",children:e.jsx(He,{size:18})}),e.jsx("input",{type:"text",placeholder:"Search patient by name or UID...",value:i,onChange:T=>d(T.target.value),className:"w-full pl-10 pr-4 py-3 bg-white dark:bg-gray-800 rounded-2xl text-sm border-2 border-transparent focus:border-teal-500/30 shadow-sm outline-none transition-all dark:text-white font-medium"})]}),e.jsx("div",{className:"flex gap-2",children:[{id:"all",label:"All Records"},{id:"due",label:"Payment Due"},{id:"completed",label:"Fully Paid"}].map(T=>e.jsx("button",{onClick:()=>c(T.id),className:`px-4 py-1.5 rounded-full text-xs font-bold transition-all border ${o===T.id?"bg-gray-900 text-white border-gray-900 dark:bg-white dark:text-gray-900 dark:border-white shadow-lg shadow-gray-200 dark:shadow-none scale-105":"bg-white border-gray-200 text-gray-500 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400"}`,children:T.label},T.id))})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 no-scrollbar",children:n?e.jsx("div",{className:"flex justify-center py-20",children:e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-teal-500 border-t-transparent"})}):a.length>0?e.jsx("div",{className:"grid gap-3",children:a.map(T=>{const W=T.total_due>0;return e.jsxs("div",{onClick:()=>P(T.patient_id),className:`bg-white dark:bg-gray-800 rounded-2xl p-4 shadow-sm border transition-all active:scale-[0.98] cursor-pointer relative overflow-hidden group
                    ${W?"border-red-100 dark:border-red-900/30":"border-gray-100 dark:border-gray-700"}
                 `,children:[e.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1 transition-colors
                      ${W?"bg-red-500":"bg-green-500"}
                  `}),e.jsxs("div",{className:"flex items-start gap-4 pl-3",children:[e.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center text-xl font-bold uppercase shrink-0 transition-colors
                         ${W?"bg-red-50 text-red-600 dark:bg-red-900/10 dark:text-red-400":"bg-green-50 text-green-600 dark:bg-green-900/10 dark:text-green-400"}
                     `,children:T.patient_photo_path?e.jsx("img",{src:L(T.patient_photo_path)||"",alt:"",className:"w-full h-full object-cover rounded-2xl"}):T.patient_name.charAt(0)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white truncate pr-2",children:T.patient_name}),e.jsxs("p",{className:"text-[10px] uppercase tracking-wider font-bold text-gray-400",children:["UID: ",T.patient_uid||T.patient_id]})]}),W?e.jsx("span",{className:"flex items-center gap-1 text-[10px] font-black uppercase text-red-600 bg-red-50 px-2 py-1 rounded-lg dark:bg-red-900/20 dark:text-red-400",children:"Due"}):e.jsx("span",{className:"flex items-center gap-1 text-[10px] font-black uppercase text-green-600 bg-green-50 px-2 py-1 rounded-lg dark:bg-green-900/20 dark:text-green-400",children:"Paid"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-1 bg-gray-50 dark:bg-gray-700/30 rounded-xl p-2.5",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-[9px] uppercase font-bold text-gray-400 mb-0.5",children:"Billed"}),e.jsx("p",{className:"text-xs font-black text-gray-900 dark:text-white",children:B(T.total_billed)})]}),e.jsxs("div",{className:"text-center border-l border-gray-200 dark:border-gray-600",children:[e.jsx("p",{className:"text-[9px] uppercase font-bold text-gray-400 mb-0.5",children:"Paid"}),e.jsx("p",{className:"text-xs font-black text-green-600 dark:text-green-400",children:B(T.total_paid)})]}),e.jsxs("div",{className:"text-center border-l border-gray-200 dark:border-gray-600",children:[e.jsx("p",{className:"text-[9px] uppercase font-bold text-gray-400 mb-0.5",children:"Due"}),e.jsx("p",{className:`text-xs font-black ${T.total_due>0?"text-red-500":"text-gray-400"}`,children:B(T.total_due)})]})]})]})]})]},T.patient_id)})}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 opacity-60",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-100 dark:bg-gray-800 rounded-3xl flex items-center justify-center mb-4 shadow-inner",children:e.jsx(Le,{size:32,className:"text-gray-400"})}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"No billing records found"})]})}),m&&e.jsxs("div",{className:"fixed inset-0 z-[60] flex items-end sm:items-center justify-end sm:justify-center pointer-events-none",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm pointer-events-auto transition-opacity",onClick:()=>h(null)}),e.jsxs("div",{className:"pointer-events-auto bg-white dark:bg-gray-900 w-full sm:w-[500px] h-[90vh] sm:h-screen shadow-2xl flex flex-col animate-in slide-in-from-right duration-300 rounded-t-3xl sm:rounded-l-3xl overflow-hidden relative",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-900 p-4 flex items-center gap-4 z-10 sticky top-0 border-b border-gray-100 dark:border-gray-800",children:[e.jsx("button",{onClick:()=>h(null),className:"p-2 rounded-full bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 text-gray-600",children:e.jsx(et,{size:20})}),e.jsx("h2",{className:"text-lg font-black text-gray-900 dark:text-white",children:"Billing Details"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-5 custom-scrollbar pb-32",children:y||!x?e.jsx("div",{className:"flex justify-center py-20",children:e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-teal-500 border-t-transparent"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 dark:from-black dark:to-gray-900 rounded-3xl p-6 text-white shadow-xl relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-white/5 rounded-full -mr-16 -mt-16 blur-3xl group-hover:bg-teal-500/10 transition-colors"}),e.jsxs("div",{className:"flex justify-between items-start relative z-10",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black tracking-tight",children:x.patient_name}),e.jsxs("p",{className:"text-gray-400 text-sm font-medium mt-1",children:["#",m,"  ",x.phone_number]})]}),e.jsx("div",{className:"w-10 h-10 rounded-2xl bg-white/10 backdrop-blur-md flex items-center justify-center",children:e.jsx(Le,{size:20})})]}),e.jsxs("div",{className:"mt-8 grid grid-cols-2 gap-4 relative z-10",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-4 border border-white/5",children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-1",children:"Total Due"}),e.jsxs("p",{className:"text-2xl font-black text-red-400",children:["",x.due_amount.toLocaleString()]})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-4 border border-white/5",children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-1",children:"Paid So Far"}),e.jsxs("p",{className:"text-2xl font-black text-green-400",children:["",x.total_paid.toLocaleString()]})]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-black text-gray-900 dark:text-white uppercase tracking-wider mb-4 flex items-center gap-2",children:[e.jsx(Bo,{size:16})," Transaction History"]}),e.jsx("div",{className:"space-y-3 relative before:absolute before:left-5 before:top-0 before:bottom-0 before:w-0.5 before:bg-gray-100 dark:before:bg-gray-800",children:x.payments.length>0?x.payments.map(T=>e.jsxs("div",{className:"relative pl-10",children:[e.jsx("div",{className:"absolute left-3 top-4 w-4 h-4 rounded-full bg-white dark:bg-gray-900 border-2 border-teal-500 z-10"}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-4 shadow-sm border border-gray-100 dark:border-gray-700 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-teal-50 dark:bg-teal-900/30 flex items-center justify-center text-teal-600 dark:text-teal-400",children:T.mode==="cash"?e.jsx(ls,{size:16}):T.mode==="upi"?e.jsx(pc,{size:16}):e.jsx(dr,{size:16})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-gray-900 dark:text-white text-sm",children:T.remarks||"Payment Received"}),e.jsxs("p",{className:"text-xs text-gray-500 font-medium mt-0.5",children:[new Date(T.payment_date).toLocaleDateString(),"  ",e.jsx("span",{className:"uppercase text-[10px] font-bold",children:T.mode})]})]})]}),e.jsxs("span",{className:"font-black text-green-600 text-sm",children:["+",T.amount.toLocaleString()]})]})]},T.payment_id)):e.jsx("div",{className:"ml-10 py-6 bg-gray-50 dark:bg-gray-800/50 rounded-2xl border border-dashed border-gray-200 dark:border-gray-700 text-center",children:e.jsx("p",{className:"text-gray-400 text-xs font-bold uppercase",children:"No transactions found"})})})]})]})}),e.jsx("div",{className:"p-4 bg-white dark:bg-gray-900 border-t border-gray-100 dark:border-gray-800 absolute bottom-0 left-0 right-0",children:e.jsxs("button",{onClick:()=>j(!0),className:"w-full py-4 bg-teal-600 hover:bg-teal-700 active:scale-95 transition-all text-white font-black rounded-2xl shadow-xl shadow-teal-600/20 flex items-center justify-center gap-2",children:[e.jsx(gr,{size:20,strokeWidth:3})," Record New Payment"]})})]})]}),z&&e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center p-4 sm:p-0",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>j(!1)}),e.jsxs("div",{className:"relative bg-white dark:bg-gray-800 w-full sm:max-w-sm rounded-3xl shadow-2xl p-6 animate-in slide-in-from-bottom-20 sm:zoom-in-95 duration-300",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white",children:"Record Payment"}),e.jsxs("p",{className:"text-xs text-gray-500 font-bold uppercase tracking-wide mt-1",children:["Collecting from ",x==null?void 0:x.patient_name]})]}),e.jsx("button",{onClick:()=>j(!1),className:"bg-gray-100 dark:bg-gray-700 p-2 rounded-full",children:e.jsx(Te,{size:20,className:"text-gray-500"})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 rounded-2xl p-4 border border-gray-100 dark:border-gray-700",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider block mb-2",children:"Amount ()"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl font-black text-gray-400",children:""}),e.jsx("input",{type:"number",value:g,onChange:T=>u(T.target.value),placeholder:"0",className:"w-full text-3xl font-black bg-transparent outline-none text-gray-900 dark:text-white placeholder-gray-200",autoFocus:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider block mb-3",children:"Payment Mode"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:["cash","upi","card","other"].map(T=>e.jsxs("button",{onClick:()=>f(T),className:`py-3 rounded-xl flex flex-col items-center justify-center gap-1 border-2 transition-all ${b===T?"bg-teal-50 border-teal-500 text-teal-700 dark:bg-teal-900/30 dark:text-teal-400":"bg-white border-gray-100 text-gray-400 dark:bg-gray-800 dark:border-gray-700"}`,children:[T==="cash"&&e.jsx(ls,{size:18}),T==="upi"&&e.jsx(pc,{size:18}),T==="card"&&e.jsx(dr,{size:18}),T==="other"&&e.jsx(Le,{size:18}),e.jsx("span",{className:"text-[9px] font-bold uppercase",children:T})]},T))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider block mb-2",children:"Remarks"}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/30 rounded-xl px-4 py-3 border border-gray-100 dark:border-gray-700 focus-within:border-teal-500 transition-colors",children:e.jsx("input",{value:v,onChange:T=>N(T.target.value),placeholder:"Add optional note...",className:"w-full bg-transparent text-sm font-bold text-gray-900 dark:text-white outline-none placeholder-gray-400"})})]}),e.jsxs("button",{onClick:M,disabled:k||!g,className:"w-full py-4 bg-teal-600 hover:bg-teal-700 text-white font-black rounded-2xl shadow-xl shadow-teal-600/20 disabled:opacity-50 disabled:shadow-none transition-all active:scale-95 flex items-center justify-center gap-2",children:[k?e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):e.jsx(re,{size:20}),k?"Processing...":"Confirm Payment"]})]})]})]})]})},$f=()=>{var N;const t=ee(),{user:r}=G(),[a,s]=p.useState([]),[n,l]=p.useState(null),[i,d]=p.useState(!0),[o,c]=p.useState(""),[m,h]=p.useState("all"),[x,_]=p.useState(null),[y,w]=p.useState(null),[z,j]=p.useState(!1),g=async()=>{d(!0);try{const k="https://prospine.in/admin/mobile/api",E=(r==null?void 0:r.branch_id)||1,S=new URLSearchParams({branch_id:E.toString(),search:o,test_status:m==="all"?"":m,limit:"50"}),P=await(await fetch(`${k}/tests.php?${S.toString()}`)).json();P.status==="success"&&(s(P.data),P.stats&&l(P.stats))}catch(k){console.error(k)}finally{d(!1)}};p.useEffect(()=>{const k=setTimeout(g,500);return()=>clearTimeout(k)},[o,m]);const u=async k=>{j(!0),w(null);try{const E="https://prospine.in/admin/mobile/api",S=(r==null?void 0:r.branch_id)||1,C=(r==null?void 0:r.employee_id)||"",M=await(await fetch(`${E}/test_details.php?id=${k}&branch_id=${S}&employee_id=${C}`)).json();M.status==="success"&&w(M.data)}catch(E){console.error(E)}finally{j(!1)}},b=k=>{_(k),u(k)},f=k=>k==null||isNaN(k)?"0":`${Number(k).toLocaleString("en-IN")}`,v=k=>{switch(k==null?void 0:k.toLowerCase()){case"completed":return"text-green-600 bg-green-50 border-green-200 dark:bg-green-900/20 dark:border-green-800 dark:text-green-400";case"pending":return"text-amber-600 bg-amber-50 border-amber-200 dark:bg-amber-900/20 dark:border-amber-800 dark:text-amber-400";case"cancelled":return"text-red-600 bg-red-50 border-red-200 dark:bg-red-900/20 dark:border-red-800 dark:text-red-400";default:return"text-gray-600 bg-gray-50 border-gray-200 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400"}};return e.jsxs("div",{className:"flex flex-col h-full bg-gray-50/50 dark:bg-gray-900 transition-colors pb-20 relative",children:[e.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-xl shadow-sm sticky top-0 z-20 pt-[var(--safe-area-inset-top,32px)] mt-0 border-b border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>t("/"),className:"p-2 -ml-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors active:scale-95",children:e.jsx(et,{size:24,className:"text-gray-600 dark:text-gray-300"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-black text-gray-900 dark:text-white tracking-tight",children:"Lab Tests"}),e.jsx("p",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-widest",children:"Diagnostics"})]})]}),e.jsx("button",{className:"p-2 bg-gradient-to-tr from-violet-500 to-indigo-500 rounded-xl shadow-lg shadow-violet-500/20 text-white active:scale-95 transition-transform",children:e.jsx(Lr,{size:20})})]}),e.jsxs("div",{className:"px-4 pb-4 space-y-3",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-violet-500 transition-colors",children:e.jsx(He,{size:18})}),e.jsx("input",{type:"text",placeholder:"Search by patient, test ID...",value:o,onChange:k=>c(k.target.value),className:"w-full pl-10 pr-4 py-3 bg-white dark:bg-gray-800 rounded-2xl text-sm border-2 border-transparent focus:border-violet-500/30 shadow-sm outline-none transition-all dark:text-white font-medium"})]}),e.jsx("div",{className:"flex gap-2 p-1 overflow-x-auto no-scrollbar mask-gradient",children:[{id:"all",label:"All Tests"},{id:"pending",label:"Pending"},{id:"completed",label:"Completed"},{id:"cancelled",label:"Cancelled"}].map(k=>e.jsx("button",{onClick:()=>h(k.id),className:`px-4 py-1.5 rounded-full text-xs font-bold whitespace-nowrap transition-all border ${m===k.id?"bg-violet-600 text-white border-violet-600 shadow-md shadow-violet-500/20":"bg-white border-gray-200 text-gray-500 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400"}`,children:k.label},k.id))})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-5 pb-32 no-scrollbar",children:[n&&e.jsx("div",{className:"bg-gradient-to-br from-violet-600 to-indigo-700 rounded-3xl p-6 text-white shadow-xl shadow-violet-900/10 relative overflow-hidden mb-4 group",children:e.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center relative z-10",children:[e.jsxs("div",{className:"bg-white/10 rounded-2xl p-2",children:[e.jsx("p",{className:"text-xl font-black",children:n.total}),e.jsx("p",{className:"text-[9px] uppercase",children:"Total"})]}),e.jsxs("div",{className:"bg-white/10 rounded-2xl p-2",children:[e.jsx("p",{className:"text-xl font-black text-amber-300",children:n.pending}),e.jsx("p",{className:"text-[9px] uppercase",children:"Pending"})]}),e.jsxs("div",{className:"bg-white/10 rounded-2xl p-2",children:[e.jsx("p",{className:"text-xl font-black text-green-300",children:n.completed}),e.jsx("p",{className:"text-[9px] uppercase",children:"Done"})]}),e.jsxs("div",{className:"bg-white/10 rounded-2xl p-2 opacity-60",children:[e.jsx("p",{className:"text-xl font-black",children:n.cancelled}),e.jsx("p",{className:"text-[9px] uppercase",children:"Cancel"})]})]})}),i?e.jsx("div",{className:"flex justify-center py-20",children:e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-violet-500 border-t-transparent"})}):a.length>0?e.jsx("div",{className:"grid gap-4",children:a.map(k=>e.jsxs("div",{onClick:()=>b(k.test_id),className:"bg-white dark:bg-gray-800 rounded-3xl p-5 shadow-sm border border-gray-100 dark:border-gray-700 active:scale-[0.98] transition-all cursor-pointer relative overflow-hidden",children:[e.jsx("div",{className:`absolute top-0 right-0 px-4 py-1.5 text-[10px] font-black uppercase rounded-bl-2xl ${v(k.test_status)}`,children:k.test_status}),e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-violet-50 dark:bg-violet-900/20 flex items-center justify-center text-violet-600 dark:text-violet-400 shrink-0",children:e.jsx(of,{size:24})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white text-lg",children:k.patient_name}),e.jsx("p",{className:"text-xs font-bold text-violet-600 dark:text-violet-400 uppercase tracking-wide",children:k.test_name||"General Test"}),e.jsxs("p",{className:"text-[10px] text-gray-500 mt-1",children:["Visit: ",new Date(k.created_at).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 bg-gray-50 dark:bg-gray-700/30 rounded-2xl p-3 border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-[9px] text-gray-400 font-bold uppercase",children:"Total"}),e.jsx("p",{className:"font-black text-gray-900 dark:text-white",children:f(k.total_amount)})]}),e.jsxs("div",{className:"text-center border-l",children:[e.jsx("p",{className:"text-[9px] text-gray-400 font-bold uppercase",children:"Paid"}),e.jsx("p",{className:"font-black text-green-600",children:f(k.advance_amount)})]}),e.jsxs("div",{className:"text-center border-l",children:[e.jsx("p",{className:"text-[9px] text-gray-400 font-bold uppercase",children:"Due"}),e.jsx("p",{className:`font-black ${k.due_amount>0?"text-red-500":"text-gray-400"}`,children:f(k.due_amount)})]})]})]},k.test_id))}):e.jsx("div",{className:"text-center py-20 text-gray-400",children:"No tests found"})]}),e.jsx("button",{onClick:()=>t("/tests/new"),className:"fixed bottom-24 right-5 w-14 h-14 bg-violet-600 rounded-full shadow-lg shadow-violet-600/30 text-white flex items-center justify-center active:scale-95 transition-transform z-30",children:e.jsx(gr,{size:28,strokeWidth:2.5})}),x&&e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-end sm:justify-center pointer-events-none",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm pointer-events-auto transition-opacity",onClick:()=>_(null)}),e.jsxs("div",{className:"pointer-events-auto bg-white dark:bg-gray-900 w-full sm:w-[500px] h-[90vh] sm:h-[85vh] shadow-2xl flex flex-col animate-in slide-in-from-bottom-20 sm:zoom-in-95 duration-300 rounded-t-3xl sm:rounded-3xl overflow-hidden relative",children:[e.jsxs("div",{className:"bg-white/90 dark:bg-gray-900/90 backdrop-blur-md p-5 border-b border-gray-100 dark:border-gray-800 sticky top-0 z-10 flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-black text-gray-900 dark:text-white leading-tight",children:"Test Details"}),e.jsxs("p",{className:"text-xs font-bold text-violet-600 dark:text-violet-400 uppercase tracking-wide mt-1",children:["#",(y==null?void 0:y.test_uid)||(y==null?void 0:y.test_id),"  ",y!=null&&y.created_at?new Date(y.created_at).toLocaleDateString():"..."]})]}),e.jsx("button",{onClick:()=>_(null),className:"p-2 bg-gray-50 dark:bg-gray-800 rounded-full hover:bg-gray-100",children:e.jsx(it,{size:24,className:"text-gray-400"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-5 space-y-6 custom-scrollbar",children:z||!y?e.jsx("div",{className:"flex justify-center py-20",children:e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-violet-500 border-t-transparent"})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 p-4 rounded-3xl border border-gray-100 dark:border-gray-800",children:[e.jsxs("h3",{className:"text-xs font-black text-gray-400 uppercase tracking-widest mb-3 flex items-center gap-2",children:[e.jsx(X,{size:14})," Patient Info"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:"flex items-start gap-3 p-2 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[e.jsx("div",{className:"mt-1 text-violet-500 bg-violet-50 dark:bg-violet-900/20 p-1.5 rounded-md",children:e.jsx(X,{size:14})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-0.5",children:"Name"}),e.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white leading-tight break-words",children:y.patient_name||"-"})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-2 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[e.jsx("div",{className:"mt-1 text-violet-500 bg-violet-50 dark:bg-violet-900/20 p-1.5 rounded-md",children:e.jsx(we,{size:14})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-0.5",children:"Contact"}),e.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white leading-tight break-words",children:y.phone_number||"-"})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-2 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[e.jsx("div",{className:"mt-1 text-violet-500 bg-violet-50 dark:bg-violet-900/20 p-1.5 rounded-md",children:e.jsx(ut,{size:14})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-0.5",children:"Age/Sex"}),e.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white leading-tight break-words",children:`${y.age} Y / ${y.gender}`})]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-tr from-violet-700 to-indigo-600 rounded-3xl p-5 text-white shadow-lg relative overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4 opacity-90",children:[e.jsx(zn,{size:18}),e.jsx("span",{className:"font-bold text-sm uppercase tracking-widest",children:"Financials"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center relative z-10",children:[e.jsxs("div",{className:"bg-white/10 rounded-2xl p-3 border border-white/10",children:[e.jsx("p",{className:"text-[9px] uppercase font-bold opacity-70 mb-1",children:"Total"}),e.jsx("p",{className:"text-lg font-black",children:f(y.total_amount)})]}),e.jsxs("div",{className:"bg-white/10 rounded-2xl p-3 border border-white/10",children:[e.jsx("p",{className:"text-[9px] uppercase font-bold opacity-70 mb-1",children:"Paid"}),e.jsx("p",{className:"text-lg font-black text-green-300",children:f(y.advance_amount)})]}),e.jsxs("div",{className:"bg-white/10 rounded-2xl p-3 border border-white/10",children:[e.jsx("p",{className:"text-[9px] uppercase font-bold opacity-70 mb-1",children:"Due"}),e.jsx("p",{className:"text-lg font-black text-rose-300",children:f(y.due_amount)})]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xs font-black text-gray-400 uppercase tracking-widest mb-3 flex items-center gap-2 ml-1",children:[e.jsx(ds,{size:14})," Test Items (",((N=y.items)==null?void 0:N.length)||0,")"]}),e.jsx("div",{className:"space-y-3",children:y.items&&y.items.map(k=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-4 shadow-sm border border-gray-100 dark:border-gray-700 relative overflow-hidden text-sm group",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3 border-b border-gray-50 dark:border-gray-700 pb-2",children:[e.jsx("h4",{className:"font-bold text-gray-900 dark:text-white flex-1",children:k.test_name}),e.jsx("span",{className:`text-[9px] font-black uppercase px-2 py-0.5 rounded-lg ${v(k.test_status)}`,children:k.test_status})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-y-2 text-xs text-gray-500 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(fe,{size:12,className:"text-gray-300"})," ",k.assigned_test_date]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(X,{size:12,className:"text-gray-300"})," By: ",k.test_done_by]})]}),e.jsxs("div",{className:"px-3 py-2 bg-gray-50 dark:bg-gray-700/30 rounded-xl grid grid-cols-3 gap-2 text-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] text-gray-400 uppercase font-bold",children:"Cost"}),e.jsx("p",{className:"font-bold text-gray-900 dark:text-white",children:f(k.total_amount)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] text-gray-400 uppercase font-bold",children:"Paid"}),e.jsx("p",{className:"font-bold text-green-600",children:f(k.advance_amount)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] text-gray-400 uppercase font-bold",children:"Due"}),e.jsx("p",{className:"font-bold text-red-500",children:f(k.due_amount)})]})]})]},k.item_id))})]})]})})]})]})]})},If=()=>{const t=ee(),{user:r}=G(),[a,s]=p.useState(null),[n,l]=p.useState(!0),[i,d]=p.useState(!1),[o,c]=p.useState({patient_name:"",age:"",gender:"",dob:"",parents:"",relation:"",phone_number:"",alternate_phone_no:"",referred_by:"",limb:"",receipt_no:"",visit_date:new Date().toISOString().split("T")[0],assigned_test_date:new Date().toISOString().split("T")[0],test_done_by:"",total_amount:"",advance_amount:"",discount:"",due_amount:"",payment_method:"",other_test_name:""}),[m,h]=p.useState(new Map);p.useEffect(()=>{x()},[]);const x=async()=>{try{const u="https://prospine.in/admin/mobile/api",b=(r==null?void 0:r.branch_id)||1,v=await(await fetch(`${u}/fetch_form_settings.php?branch_id=${b}`)).json();v.status==="success"&&s(v.data)}catch(u){console.error(u)}finally{l(!1)}},_=(u,b)=>{const f=new Map(m);f.has(u)?f.delete(u):f.set(u,b),h(f)},y=(u,b)=>{if(!m.has(u))return;const f=new Map(m);f.set(u,parseFloat(b)||0),h(f)},w=()=>{let u=0;m.forEach(N=>u+=N);const b=parseFloat(o.advance_amount)||0,f=parseFloat(o.discount)||0,v=Math.max(0,u-b-f);return{total:u,due:v}},z=async()=>{if(!o.patient_name||m.size===0){alert("Please fill required fields (Name, Select at least one test)");return}d(!0);try{const u={...o,branch_id:(r==null?void 0:r.branch_id)||1,employee_id:r==null?void 0:r.employee_id,username:r==null?void 0:r.username,test_names:Array.from(m.keys()).map(N=>{if(N==="other"&&o.other_test_name)return o.other_test_name;const k=a==null?void 0:a.testTypes.find(E=>E.test_code===N);return k?k.test_name:N}),test_amounts:Array.from(m.entries()).reduce((N,[k,E])=>{let S=k;const C=a==null?void 0:a.testTypes.find(P=>P.test_code===k);return C&&(S=C.test_name),k==="other"&&o.other_test_name&&(S=o.other_test_name),N[S]=E,N},{})},v=await(await fetch("https://prospine.in/admin/mobile/api/create_test.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)})).json();v.status==="success"?t("/tests"):alert(v.message||"Failed to create test")}catch{alert("Network Error")}finally{d(!1)}},{total:j,due:g}=w();return n?e.jsx("div",{className:"flex h-screen items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-violet-500 border-t-transparent"})}):e.jsxs("div",{className:"flex flex-col h-full bg-gray-50/50 dark:bg-gray-900 transition-colors pb-10",children:[e.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-xl shadow-sm px-4 py-4 pt-[var(--safe-area-inset-top,32px)] flex items-center gap-3 sticky top-0 z-20 border-b border-gray-100 dark:border-gray-700",children:[e.jsx("button",{onClick:()=>t(-1),className:"p-2 -ml-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300 transition-colors",children:e.jsx(et,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-black text-gray-900 dark:text-white leading-none",children:"New Test"}),e.jsx("p",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 mt-0.5",children:"Create a new diagnostic record"})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 max-w-3xl mx-auto w-full space-y-6 pb-24",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-5 shadow-xl shadow-gray-100/50 dark:shadow-none border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6 border-b border-gray-50 dark:border-gray-700 pb-3",children:[e.jsx("div",{className:"bg-violet-50 dark:bg-violet-900/20 p-2 rounded-xl text-violet-600 dark:text-violet-400",children:e.jsx(X,{size:20})}),e.jsx("h3",{className:"text-sm font-black text-gray-900 dark:text-white uppercase tracking-wide",children:"Patient Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[e.jsxs("div",{className:"col-span-1 md:col-span-2",children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500 dark:text-gray-400 mb-1.5 block ml-1",children:"Patient Name *"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:e.jsx(X,{size:18})}),e.jsx("input",{value:o.patient_name,onChange:u=>c({...o,patient_name:u.target.value}),className:"w-full bg-gray-50 dark:bg-gray-700/30 border-none rounded-2xl pl-11 pr-4 py-3.5 text-sm font-bold text-gray-900 dark:text-white focus:ring-2 focus:ring-violet-500/50 transition-all",placeholder:"Full Name"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500 dark:text-gray-400 mb-1.5 block ml-1",children:"Age *"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:e.jsx(pe,{size:18})}),e.jsx("input",{value:o.age,onChange:u=>c({...o,age:u.target.value}),className:"w-full bg-gray-50 dark:bg-gray-700/30 border-none rounded-2xl pl-11 pr-4 py-3.5 text-sm font-bold text-gray-900 dark:text-white focus:ring-2 focus:ring-violet-500/50 transition-all",placeholder:"e.g 25"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500 dark:text-gray-400 mb-1.5 block ml-1",children:"Gender *"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:e.jsx(ut,{size:18})}),e.jsxs("select",{value:o.gender,onChange:u=>c({...o,gender:u.target.value}),className:"w-full bg-gray-50 dark:bg-gray-700/30 border-none rounded-2xl pl-11 pr-10 py-3.5 text-sm font-bold text-gray-900 dark:text-white focus:ring-2 focus:ring-violet-500/50 transition-all appearance-none",children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"}),e.jsx("option",{value:"Other",children:"Other"})]}),e.jsx(ht,{size:18,className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500 dark:text-gray-400 mb-1.5 block ml-1",children:"Mobile No"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:e.jsx(we,{size:18})}),e.jsx("input",{value:o.phone_number,onChange:u=>c({...o,phone_number:u.target.value}),className:"w-full bg-gray-50 dark:bg-gray-700/30 border-none rounded-2xl pl-11 pr-4 py-3.5 text-sm font-bold text-gray-900 dark:text-white focus:ring-2 focus:ring-violet-500/50 transition-all",placeholder:"+91..."})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500 dark:text-gray-400 mb-1.5 block ml-1",children:"Parents/Rel."}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:e.jsx(ut,{size:18})}),e.jsx("input",{value:o.parents,onChange:u=>c({...o,parents:u.target.value}),className:"w-full bg-gray-50 dark:bg-gray-700/30 border-none rounded-2xl pl-11 pr-4 py-3.5 text-sm font-bold text-gray-900 dark:text-white focus:ring-2 focus:ring-violet-500/50 transition-all",placeholder:"Guardian Name"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500 dark:text-gray-400 mb-1.5 block ml-1",children:"Referred By"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:e.jsx(zr,{size:18})}),e.jsx("input",{list:"referrers",value:o.referred_by,onChange:u=>c({...o,referred_by:u.target.value}),className:"w-full bg-gray-50 dark:bg-gray-700/30 border-none rounded-2xl pl-11 pr-4 py-3.5 text-sm font-bold text-gray-900 dark:text-white focus:ring-2 focus:ring-violet-500/50 transition-all",placeholder:"Search Doctor..."}),e.jsx("datalist",{id:"referrers",children:a==null?void 0:a.referrers.map(u=>e.jsx("option",{value:u},u))})]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-5 shadow-xl shadow-gray-100/50 dark:shadow-none border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6 border-b border-gray-50 dark:border-gray-700 pb-3",children:[e.jsx("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-2 rounded-xl text-indigo-600 dark:text-indigo-400",children:e.jsx(ne,{size:20})}),e.jsx("h3",{className:"text-sm font-black text-gray-900 dark:text-white uppercase tracking-wide",children:"Test Selection"})]}),e.jsx("div",{className:"space-y-3",children:a==null?void 0:a.testTypes.map(u=>{const b=m.has(u.test_code),f=u.test_code==="other";return e.jsx("div",{className:`p-4 rounded-2xl border-2 transition-all cursor-pointer group ${b?"border-violet-500 bg-violet-50/50 dark:bg-violet-900/10":"border-gray-100 dark:border-gray-700/50 bg-gray-50 dark:bg-gray-700/20 hover:border-violet-200 dark:hover:border-violet-800"}`,children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{onClick:()=>_(u.test_code,parseFloat(u.default_cost)||0),className:`w-6 h-6 rounded-lg border-2 flex items-center justify-center transition-all mt-0.5 shrink-0 ${b?"bg-violet-500 border-violet-500 text-white shadow-lg shadow-violet-500/20":"border-gray-300 dark:border-gray-500 bg-white dark:bg-gray-800 group-hover:border-violet-400"}`,children:b&&e.jsx(re,{size:14,strokeWidth:3})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex justify-between items-center mb-1",onClick:()=>_(u.test_code,parseFloat(u.default_cost)||0),children:e.jsx("label",{className:"text-sm font-black text-gray-800 dark:text-gray-200 cursor-pointer select-none",children:u.test_name})}),b&&e.jsxs("div",{className:"mt-3 animate-in slide-in-from-top-2 fade-in duration-200 space-y-3",children:[f&&e.jsx("input",{value:o.other_test_name,onChange:v=>c({...o,other_test_name:v.target.value}),placeholder:"Enter custom test name",className:"w-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-xl px-3 py-2 text-xs font-bold shadow-sm",autoFocus:!0}),e.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-gray-800 p-1.5 rounded-xl border border-gray-200 dark:border-gray-600 w-full sm:w-48 shadow-sm",children:[e.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded-lg text-xs font-bold text-gray-500",children:"IND"}),e.jsx("input",{type:"number",value:m.get(u.test_code)||"",onChange:v=>y(u.test_code,v.target.value),className:"w-full bg-transparent border-none text-sm font-black text-gray-900 dark:text-white focus:ring-0 p-0",placeholder:"0.00"})]})]})]})]})},u.test_code)})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-5 shadow-xl shadow-gray-100/50 dark:shadow-none border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6 border-b border-gray-50 dark:border-gray-700 pb-3",children:[e.jsx("div",{className:"bg-teal-50 dark:bg-teal-900/20 p-2 rounded-xl text-teal-600 dark:text-teal-400",children:e.jsx(Xe,{size:20})}),e.jsx("h3",{className:"text-sm font-black text-gray-900 dark:text-white uppercase tracking-wide",children:"Details"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500 dark:text-gray-400 mb-1.5 block ml-1",children:"Limb"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:e.jsx(ne,{size:18})}),e.jsxs("select",{value:o.limb,onChange:u=>c({...o,limb:u.target.value}),className:"w-full bg-gray-50 dark:bg-gray-700/30 border-none rounded-2xl pl-11 pr-10 py-3.5 text-sm font-bold text-gray-900 dark:text-white focus:ring-2 focus:ring-teal-500/50 transition-all appearance-none",children:[e.jsx("option",{value:"",children:"Select Limb"}),a==null?void 0:a.limbTypes.map(u=>e.jsx("option",{value:u.limb_code,children:u.limb_name},u.limb_code))]}),e.jsx(ht,{size:18,className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500 dark:text-gray-400 mb-1.5 block ml-1",children:"Date of Visit"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:e.jsx(fe,{size:18})}),e.jsx("input",{type:"date",value:o.visit_date,onChange:u=>c({...o,visit_date:u.target.value}),className:"w-full bg-gray-50 dark:bg-gray-700/30 border-none rounded-2xl pl-11 pr-4 py-3.5 text-sm font-bold text-gray-900 dark:text-white focus:ring-2 focus:ring-teal-500/50 transition-all"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500 dark:text-gray-400 mb-1.5 block ml-1",children:"Test Done By"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:e.jsx(X,{size:18})}),e.jsxs("select",{value:o.test_done_by,onChange:u=>c({...o,test_done_by:u.target.value}),className:"w-full bg-gray-50 dark:bg-gray-700/30 border-none rounded-2xl pl-11 pr-10 py-3.5 text-sm font-bold text-gray-900 dark:text-white focus:ring-2 focus:ring-teal-500/50 transition-all appearance-none",children:[e.jsx("option",{value:"",children:"Select Staff"}),a==null?void 0:a.staffMembers.map(u=>e.jsxs("option",{value:u.staff_name,children:[u.staff_name," (",u.job_title,")"]},u.staff_name))]}),e.jsx(ht,{size:18,className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 dark:from-gray-800 dark:to-gray-900 rounded-3xl p-6 text-white shadow-2xl shadow-gray-900/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6 border-b border-gray-700 pb-3",children:[e.jsx("div",{className:"bg-white/10 p-2 rounded-xl text-emerald-400",children:e.jsx(zn,{size:20})}),e.jsx("h3",{className:"text-sm font-black text-white uppercase tracking-wide",children:"Payment Details"})]}),e.jsxs("div",{className:"flex justify-between items-end mb-8",children:[e.jsx("span",{className:"text-sm font-bold text-gray-400",children:"Total Amount"}),e.jsxs("span",{className:"text-3xl font-black tracking-tight",children:["",j.toLocaleString()]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-400 mb-1.5 block",children:"Advance"}),e.jsx("input",{type:"number",value:o.advance_amount,onChange:u=>c({...o,advance_amount:u.target.value}),className:"w-full bg-gray-700/50 border-none rounded-xl px-4 py-3 text-sm font-bold text-white focus:ring-2 focus:ring-emerald-500 transition-all placeholder-gray-500",placeholder:"0.00"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-400 mb-1.5 block",children:"Discount"}),e.jsx("input",{type:"number",value:o.discount,onChange:u=>c({...o,discount:u.target.value}),className:"w-full bg-gray-700/50 border-none rounded-xl px-4 py-3 text-sm font-bold text-white focus:ring-2 focus:ring-emerald-500 transition-all placeholder-gray-500",placeholder:"0.00"})]})]}),e.jsxs("div",{className:"bg-emerald-500/10 rounded-2xl p-4 border border-emerald-500/20 mb-6 flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-bold text-emerald-400",children:"Due Balance"}),e.jsxs("span",{className:"text-xl font-black text-emerald-400",children:["",g.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-400 mb-2 block",children:"Payment Method"}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:a!=null&&a.paymentMethods.length?a.paymentMethods.map(u=>e.jsx("button",{onClick:()=>c({...o,payment_method:u.method_code}),className:`px-4 py-2 rounded-xl text-xs font-bold transition-all ${o.payment_method===u.method_code?"bg-emerald-500 text-white shadow-lg shadow-emerald-500/20":"bg-gray-700 text-gray-400 hover:bg-gray-600"}`,children:u.method_name},u.method_code)):e.jsx("div",{className:"text-xs text-gray-500",children:"Loading methods..."})})]})]}),e.jsx("button",{onClick:z,disabled:i,className:"w-full py-4 bg-gradient-to-r from-violet-600 to-indigo-600 hover:from-violet-700 hover:to-indigo-700 active:scale-[0.98] text-white font-black rounded-2xl shadow-xl shadow-violet-600/30 transition-all flex items-center justify-center gap-3 text-lg",children:i?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),e.jsx("span",{children:"Processing..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Confirm & Save"}),e.jsx(re,{size:20,className:"text-white/70"})]})})]})]})},at=({label:t,value:r,gradient:a,icon:s})=>e.jsxs("div",{className:`relative overflow-hidden rounded-3xl p-6 ${a} text-white shadow-xl transform transition-all hover:scale-[1.02] active:scale-[0.98]`,children:[e.jsx("div",{className:"absolute top-0 right-0 -mr-6 -mt-6 w-32 h-32 bg-white/20 rounded-full blur-2xl"}),e.jsx("div",{className:"absolute bottom-0 left-0 -ml-6 -mb-6 w-24 h-24 bg-black/10 rounded-full blur-2xl"}),e.jsxs("div",{className:"relative z-10 flex flex-col h-full justify-between",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:"p-2 bg-white/20 backdrop-blur-md rounded-2xl border border-white/10 shadow-inner",children:e.jsx(s,{size:18,className:"text-white"})}),e.jsxs("div",{className:"flex items-center gap-1 text-[10px] font-bold bg-black/20 px-2 py-1 rounded-full text-white/90",children:[e.jsx(hs,{size:10}),e.jsx("span",{children:"+2.4%"})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-black tracking-tighter mb-1",children:r}),e.jsx("p",{className:"text-xs font-medium opacity-80 uppercase tracking-wide",children:t}),e.jsx("div",{className:"mt-2 h-1 w-12 bg-white/30 rounded-full"})]})]})]}),Os=({label:t,active:r,onClick:a,icon:s})=>e.jsxs("button",{onClick:a,className:`relative flex items-center justify-center gap-2 px-6 py-3 rounded-2xl text-xs font-bold transition-all duration-300 ${r?"bg-gray-900 dark:bg-white text-white dark:text-gray-900 shadow-xl shadow-gray-200 dark:shadow-none translate-y-[-2px]":"bg-white dark:bg-gray-800 text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 border border-gray-100 dark:border-gray-700"}`,children:[e.jsx(s,{size:16,className:r?"animate-pulse":""}),e.jsx("span",{children:t}),r&&e.jsx("span",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-1 h-1 bg-gray-900 dark:bg-white rounded-full"})]}),Rf=()=>{const t=ee(),{user:r}=G(),[a,s]=p.useState("tests"),[n,l]=p.useState(!1),[i,d]=p.useState(()=>{const v=new Date;return new Date(v.getFullYear(),v.getMonth(),1).toISOString().split("T")[0]}),[o,c]=p.useState(()=>new Date().toISOString().split("T")[0]),[m,h]=p.useState([]),[x,_]=p.useState(null),y=async()=>{l(!0);try{const v="https://prospine.in/admin/mobile/api",N=(r==null?void 0:r.branch_id)||1,k=new URLSearchParams({branch_id:N.toString(),type:a,start_date:i,end_date:o}),S=await(await fetch(`${v}/reports.php?${k.toString()}`)).json();S.status==="success"&&(h(S.data),_(S.totals))}catch(v){console.error("Fetch Error:",v)}finally{l(!1)}};p.useEffect(()=>{y()},[a,i,o]);const w=v=>{const N=Number(v);return isNaN(N)?"0":`${N.toLocaleString("en-IN")}`},z=()=>{if(!m.length)return[];const v={};return m.forEach(N=>{const k=N.assigned_test_date||N.appointment_date||N.start_date||N.created_at;if(!k)return;const E=new Date(k).toLocaleDateString("en-IN",{day:"numeric",month:"short"});v[E]=(v[E]||0)+1}),Object.entries(v).map(([N,k])=>({label:N,value:k}))},j=()=>{if(!m.length)return[];const v={};m.forEach(E=>{let S=a==="tests"?E.test_name:a==="patients"?E.treatment_type:a==="inquiry"?E.referralSource:E.gender;S&&(S=S.toString().trim().toUpperCase(),v[S]=(v[S]||0)+1)});const N=Object.entries(v).sort(([,E],[,S])=>S-E).slice(0,5),k=N.reduce((E,[,S])=>E+S,0);return N.map(([E,S],C)=>({label:E,value:S,percent:Math.round(S/k*100),color:["bg-violet-500","bg-pink-500","bg-sky-500","bg-emerald-500","bg-amber-500"][C%5]}))},g=()=>{const v=z();if(!v.length)return null;const N=Math.max(...v.map(k=>k.value));return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-6 shadow-sm border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(hs,{size:16,className:"text-violet-500"}),"Patient Trends"]}),e.jsx("div",{className:"text-[10px] bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded text-gray-500",children:"Daily Count"})]}),e.jsx("div",{className:"flex items-end justify-between h-32 gap-2",children:v.map((k,E)=>e.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2 group",children:[e.jsxs("div",{className:"relative w-full flex justify-center",children:[e.jsx("div",{className:"w-full max-w-[12px] bg-indigo-100 dark:bg-gray-700 rounded-full overflow-hidden relative",style:{height:"100px"},children:e.jsx("div",{className:"absolute bottom-0 w-full bg-violet-500 rounded-full group-hover:bg-violet-400 transition-all duration-500",style:{height:`${k.value/N*100}%`}})}),e.jsx("div",{className:"absolute -top-8 bg-gray-900 text-white text-[10px] font-bold px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:k.value})]}),e.jsx("span",{className:"text-[9px] font-bold text-gray-400 rotate-0 truncate w-full text-center",children:k.label.split(" ")[0]})]},E))})]})},u=()=>{const v=j();if(!v.length)return null;let N=0;const E=`conic-gradient(${v.map(S=>{const C=S.percent/100*360,P=N,M=N+C;return N=M,`${{"bg-violet-500":"#8b5cf6","bg-pink-500":"#ec4899","bg-sky-500":"#0ea5e9","bg-emerald-500":"#10b981","bg-amber-500":"#f59e0b"}[S.color]||"#ccc"} ${P}deg ${M}deg`}).join(", ")})`;return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-6 shadow-sm border border-gray-100 dark:border-gray-700",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(ds,{size:16,className:"text-pink-500"}),"Most Popular"]})}),e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsxs("div",{className:"relative w-28 h-28 shrink-0",children:[e.jsx("div",{className:"w-full h-full rounded-full",style:{background:E}}),e.jsx("div",{className:"absolute inset-4 bg-white dark:bg-gray-800 rounded-full flex items-center justify-center shadow-inner",children:e.jsx("span",{className:"text-xs font-black text-gray-300",children:"TOP 5"})})]}),e.jsx("div",{className:"flex-1 space-y-3",children:v.map((S,C)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${S.color}`}),e.jsx("span",{className:"text-xs font-bold text-gray-600 dark:text-gray-300 truncate max-w-[100px]",children:S.label})]}),e.jsxs("span",{className:"text-xs font-bold text-gray-900 dark:text-white",children:[S.percent,"%"]})]},C))})]})]})},b=()=>{if(n)return null;const v=()=>e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6 animate-in slide-in-from-bottom-6 duration-700",children:[e.jsx(g,{}),e.jsx(u,{})]});switch(a){case"tests":return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(at,{label:"Total Revenue",value:w(x==null?void 0:x.total_sum),gradient:"bg-gradient-to-br from-violet-600 to-indigo-600",icon:zn}),e.jsx(at,{label:"Collected",value:w(x==null?void 0:x.paid_sum),gradient:"bg-gradient-to-br from-emerald-500 to-teal-600",icon:re}),e.jsx(at,{label:"Outstanding",value:w(x==null?void 0:x.due_sum),gradient:"bg-gradient-to-br from-rose-500 to-orange-500",icon:pe})]}),e.jsx(v,{})]});case"registration":return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(at,{label:"Consultation Rev",value:w(x==null?void 0:x.consulted_sum),gradient:"bg-gradient-to-br from-blue-600 to-cyan-500",icon:Zr}),e.jsx(at,{label:"Pending Rev",value:w(x==null?void 0:x.pending_sum),gradient:"bg-gradient-to-br from-amber-500 to-orange-500",icon:pe}),e.jsx(at,{label:"Closed Cases",value:w(x==null?void 0:x.closed_sum),gradient:"bg-gradient-to-br from-slate-600 to-slate-800",icon:re})]}),e.jsx(v,{})]});case"patients":return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(at,{label:"Billed Amount",value:w(x==null?void 0:x.total_sum),gradient:"bg-gradient-to-br from-fuchsia-600 to-pink-600",icon:zn}),e.jsx(at,{label:"Received",value:w(x==null?void 0:x.paid_sum),gradient:"bg-gradient-to-br from-emerald-500 to-teal-600",icon:re}),e.jsx(at,{label:"Dues",value:w(x==null?void 0:x.due_sum),gradient:"bg-gradient-to-br from-rose-500 to-red-600",icon:pe})]}),e.jsx(v,{})]});case"inquiry":return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(at,{label:"Total Leads",value:(x==null?void 0:x.total_inquiries)||0,gradient:"bg-gradient-to-br from-violet-600 to-purple-600",icon:ua}),e.jsx(at,{label:"Converted",value:(x==null?void 0:x.registered_count)||0,gradient:"bg-gradient-to-br from-emerald-500 to-teal-600",icon:Zr}),e.jsx(at,{label:"Pending Action",value:(x==null?void 0:x.new_count)||0,gradient:"bg-gradient-to-br from-amber-500 to-orange-500",icon:pe})]}),e.jsx(v,{})]})}},f=()=>m.length?m.map((v,N)=>e.jsxs("div",{className:"group bg-white dark:bg-gray-800 rounded-3xl p-4 shadow-sm border border-gray-100 dark:border-gray-700 mb-3 hover:shadow-md transition-all active:scale-[0.99]",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center text-lg font-black shadow-inner ${N%2===0?"bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-800 text-gray-500":"bg-gradient-to-br from-indigo-50 to-blue-50 dark:from-indigo-900/20 dark:to-blue-900/20 text-indigo-500"}`,children:(v.patient_name||v.name||"?").charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white text-sm",children:v.patient_name||v.name||"Unknown"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider",children:a==="tests"?v.test_name:a==="patients"?v.treatment_type:a==="inquiry"?v.referralSource:v.gender}),v.status&&e.jsx("span",{className:`px-2 py-0.5 rounded-full text-[9px] font-black uppercase ${v.status==="completed"||v.status==="registered"||v.status==="consulted"?"bg-emerald-100 text-emerald-600":v.status==="pending"||v.status==="new"?"bg-amber-100 text-amber-600":"bg-gray-100 text-gray-400"}`,children:v.status})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-black text-gray-900 dark:text-white",children:a==="inquiry"?"":w(v.total_amount||v.consultation_amount)}),e.jsx("p",{className:"text-[10px] text-gray-400 font-medium mt-0.5",children:new Date(v.assigned_test_date||v.appointment_date||v.start_date||v.created_at).toLocaleDateString("en-IN",{day:"numeric",month:"short"})})]})]}),(v.test_done_by||v.chief_complain||v.assigned_doctor)&&e.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-50 dark:border-gray-700/50 flex items-center gap-2 text-[10px] text-gray-500 font-medium",children:[e.jsx(ne,{size:10,className:"text-gray-300"}),e.jsx("span",{className:"truncate max-w-[200px]",children:v.test_done_by||v.chief_complain||v.assigned_doctor})]})]},N)):e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 opacity-50",children:[e.jsx(Lr,{size:48,className:"mb-4 text-gray-300 dark:text-gray-600"}),e.jsx("p",{className:"text-sm font-bold text-gray-400",children:"No records found"})]});return e.jsxs("div",{className:"flex flex-col h-full bg-gray-50/50 dark:bg-gray-900 transition-colors",children:[e.jsxs("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl px-5 py-4 pt-[var(--safe-area-inset-top,32px)] border-b border-gray-100 dark:border-gray-800 sticky top-0 z-20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("button",{onClick:()=>t("/"),className:"p-2 -ml-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:e.jsx(et,{size:20,className:"text-gray-700 dark:text-gray-200"})}),e.jsx("h1",{className:"text-lg font-black text-gray-900 dark:text-white uppercase tracking-widest",children:"Reports"}),e.jsx("div",{className:"w-8"})," "]}),e.jsx("div",{className:"flex flex-col gap-4",children:e.jsxs("div",{className:"flex items-center gap-3 bg-gray-100 dark:bg-gray-800 p-1.5 rounded-2xl border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex-1 relative group",children:[e.jsx(fe,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-violet-500 transition-colors"}),e.jsx("input",{type:"date",value:i,onChange:v=>d(v.target.value),className:"w-full bg-white dark:bg-gray-900 dark:text-white rounded-xl pl-9 pr-2 py-2 text-xs font-bold shadow-sm border-none focus:ring-2 focus:ring-violet-500/50 outline-none transition-all"})]}),e.jsx("span",{className:"text-gray-400",children:e.jsx(et,{size:12,className:"rotate-180"})}),e.jsxs("div",{className:"flex-1 relative group",children:[e.jsx(fe,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-violet-500 transition-colors"}),e.jsx("input",{type:"date",value:o,onChange:v=>c(v.target.value),className:"w-full bg-white dark:bg-gray-900 dark:text-white rounded-xl pl-9 pr-2 py-2 text-xs font-bold shadow-sm border-none focus:ring-2 focus:ring-violet-500/50 outline-none transition-all"})]})]})})]}),e.jsxs("div",{className:"px-5 py-4 overflow-x-auto no-scrollbar flex gap-3 sticky top-[140px] z-10 bg-gray-50/95 dark:bg-gray-900/95 backdrop-blur-sm z-10 pb-4",children:[e.jsx(Os,{active:a==="tests",label:"Tests",onClick:()=>s("tests"),icon:ds}),e.jsx(Os,{active:a==="registration",label:"Registration",onClick:()=>s("registration"),icon:Zr}),e.jsx(Os,{active:a==="patients",label:"Patients",onClick:()=>s("patients"),icon:ut}),e.jsx(Os,{active:a==="inquiry",label:"Inquiry",onClick:()=>s("inquiry"),icon:ua})]}),e.jsxs("div",{className:`flex-1 overflow-y-auto px-5 pb-24 space-y-6 ${n?"opacity-50 pointer-events-none":""}`,children:[e.jsx("div",{className:"grid grid-cols-1 gap-4 animate-in slide-in-from-bottom-4 duration-500",children:b()}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsxs("h3",{className:"text-sm font-black text-gray-900 dark:text-white uppercase tracking-wider flex items-center gap-2",children:[e.jsx(ne,{size:14,className:"text-violet-500"}),"Detailed Records"]}),e.jsxs("span",{className:"text-[10px] font-bold text-gray-400 bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded-lg",children:[m.length," Entries"]})]}),e.jsx("div",{className:"space-y-1 animate-in slide-in-from-bottom-8 duration-700 delay-100",children:f()}),n&&e.jsx("div",{className:"absolute inset-x-0 bottom-10 flex justify-center",children:e.jsxs("div",{className:"bg-gray-900/80 dark:bg-white/80 backdrop-blur-md px-4 py-2 rounded-full text-white dark:text-gray-900 text-xs font-bold shadow-xl flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 border-2 border-white/50 dark:border-gray-900/50 border-t-white dark:border-t-gray-900 rounded-full animate-spin"}),"Updating..."]})})]})]})},Af=({expense:t,onClose:r})=>t?e.jsx("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center p-4 bg-black/60 backdrop-blur-md animate-in fade-in duration-200",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-[2rem] w-full max-w-sm shadow-2xl overflow-hidden scale-100 animate-in zoom-in-95 duration-200 border border-white/20 max-h-[90vh] overflow-y-auto custom-scrollbar",children:[e.jsxs("div",{className:"relative bg-gradient-to-br from-indigo-500 to-purple-600 p-6 flex flex-col justify-between text-white pb-8",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16 blur-xl"}),e.jsxs("div",{className:"relative z-10 flex justify-between items-start mb-6",children:[e.jsx("h3",{className:"text-lg font-black tracking-wide",children:"Voucher Details"}),e.jsx("button",{onClick:r,className:"p-1.5 bg-black/20 rounded-full hover:bg-black/40 transition-colors",children:e.jsx(Te,{size:16})})]}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("p",{className:"text-xs font-medium opacity-80 uppercase",children:"Total Amount"}),e.jsxs("h2",{className:"text-4xl font-black tracking-tight",children:["",Number(t.amount).toLocaleString()]}),t.amount_in_words&&e.jsx("p",{className:"text-[10px] font-medium opacity-80 italic mt-1 capitalize",children:t.amount_in_words})]})]}),e.jsxs("div",{className:"px-6 py-6 space-y-5 -mt-4 bg-white dark:bg-gray-800 rounded-t-[2rem] relative z-20",children:[e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 dark:border-gray-700",children:[e.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"Status"}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-black uppercase ${t.status==="approved"?"bg-emerald-100 text-emerald-600":t.status==="pending"?"bg-amber-100 text-amber-600":"bg-rose-100 text-rose-600"}`,children:t.status})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-y-5 gap-x-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase mb-0.5",children:"Paid To"}),e.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white leading-tight",children:t.paid_to})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase mb-0.5",children:"Date"}),e.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white leading-tight",children:new Date(t.expense_date).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase mb-0.5",children:"Done By"}),e.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white leading-tight",children:t.expense_done_by||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase mb-0.5",children:"Payment"}),e.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white capitalize leading-tight",children:t.payment_method})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase mb-0.5",children:"Category / For"}),e.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white leading-tight",children:t.expense_for})]})]}),t.description&&e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-2xl",children:[e.jsxs("p",{className:"text-[10px] font-bold text-gray-400 uppercase mb-1 flex items-center gap-1",children:[e.jsx(Uh,{size:10})," Description"]}),e.jsx("p",{className:"text-xs font-medium text-gray-600 dark:text-gray-300 leading-relaxed",children:t.description})]}),e.jsx("div",{className:"text-center pt-2",children:e.jsxs("p",{className:"text-[10px] text-gray-400 dark:text-gray-500 font-bold font-mono",children:["Voucher No: ",t.voucher_no]})})]})]})}):null,Of=t=>{const r=["Zero","One","Two","Three","Four","Five","Six","Seven","Eight","Nine"],a=["Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],s=["","Ten","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"],n=d=>{let o="",c=parseInt(d);if(c>0&&c<10)o=r[c]+" ";else if(c>9&&c<20)o=a[c-10]+" ";else if(c>19)o=s[parseInt(d[0])]+" "+r[parseInt(d[1])]+" ";else return"";return o},l=d=>{let o="",c=parseInt(d);return c?(c>=1e7&&(o+=l(Math.floor(c/1e7))+"Crore ",c%=1e7),c>=1e5&&(o+=l(Math.floor(c/1e5))+"Lakh ",c%=1e5),c>=1e3&&(o+=l(Math.floor(c/1e3))+"Thousand ",c%=1e3),c>=100&&(o+=l(Math.floor(c/100))+"Hundred ",c%=100),c>0&&(o!=""&&(o+="and "),o+=n(c.toString().padStart(2,"0"))),o):""};let i=l(t).trim();return i?i+" Rupees Only":""},Ff=({show:t,onClose:r,onSave:a,loading:s})=>{if(!t)return null;const[n,l]=p.useState({voucher_no:"",expense_date:new Date().toISOString().split("T")[0],paid_to:"",expense_done_by:"",expense_for:"",amount:"",payment_method:"",description:"",amount_in_words:""}),i=o=>{const{name:c,value:m}=o.target;l(h=>{const x={...h,[c]:m};return c==="amount"&&(x.amount_in_words=m?Of(Number(m)):""),x})},d=o=>{o.preventDefault(),a(n)};return e.jsx("div",{className:"fixed inset-0 z-[1000] flex items-end sm:items-center justify-center sm:p-4 pb-24 sm:pb-4 bg-black/60 backdrop-blur-md animate-in fade-in duration-200",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-t-[2rem] sm:rounded-[2.5rem] w-full max-w-lg shadow-[0_-10px_40px_-15px_rgba(0,0,0,0.3)] overflow-hidden flex flex-col max-h-[85vh] sm:max-h-[95vh] animate-in slide-in-from-bottom-10 duration-300",children:[e.jsxs("div",{className:"px-6 py-5 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-white/50 dark:bg-gray-800/50 backdrop-blur-md",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white tracking-tight",children:"New Expense"}),e.jsx("p",{className:"text-xs text-indigo-500 font-bold uppercase tracking-wider",children:"Create Voucher"})]}),e.jsx("button",{onClick:r,className:"p-2 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-500 hover:bg-gray-200 transition-colors",children:e.jsx(Te,{size:20})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:e.jsxs("form",{id:"add-expense-form",onSubmit:d,className:"space-y-5",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center p-4 bg-indigo-50 dark:bg-indigo-900/20 rounded-3xl border border-indigo-100 dark:border-indigo-800/50",children:[e.jsx("label",{className:"text-xs font-bold text-indigo-400 uppercase tracking-widest mb-1",children:"Total Amount"}),e.jsxs("div",{className:"relative flex items-center justify-center w-full",children:[e.jsx("span",{className:"text-2xl font-black text-indigo-300 mr-1",children:""}),e.jsx("input",{type:"number",name:"amount",required:!0,min:"1",step:"0.01",placeholder:"0",value:n.amount,onChange:i,className:"w-1/2 bg-transparent text-center text-4xl font-black text-indigo-600 dark:text-indigo-300 border-none outline-none placeholder-indigo-200",autoFocus:!0})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase ml-1",children:"Paid To"}),e.jsx("input",{type:"text",name:"paid_to",required:!0,value:n.paid_to,onChange:i,className:"w-full bg-gray-50 dark:bg-gray-700/50 rounded-xl px-4 py-3 text-sm font-bold text-gray-900 dark:text-white border-0 focus:ring-2 focus:ring-indigo-500 transition-all",placeholder:"Recipient"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase ml-1",children:"Method"}),e.jsxs("select",{name:"payment_method",required:!0,value:n.payment_method,onChange:i,className:"w-full bg-gray-50 dark:bg-gray-700/50 rounded-xl px-4 py-3 text-sm font-bold text-gray-900 dark:text-white border-0 appearance-none",children:[e.jsx("option",{value:"",children:"Select..."}),e.jsx("option",{value:"cash",children:"Cash"}),e.jsx("option",{value:"online",children:"Online / UPI"}),e.jsx("option",{value:"card",children:"Card"}),e.jsx("option",{value:"cheque",children:"Cheque"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase ml-1",children:"For / Category"}),e.jsx("input",{type:"text",name:"expense_for",required:!0,value:n.expense_for,onChange:i,className:"w-full bg-gray-50 dark:bg-gray-700/50 rounded-xl px-4 py-3 text-sm font-bold text-gray-900 dark:text-white border-0 focus:ring-2 focus:ring-indigo-500 transition-all",placeholder:"e.g. Supplies"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase ml-1",children:"Date"}),e.jsx("input",{type:"date",name:"expense_date",required:!0,value:n.expense_date,onChange:i,className:"w-full bg-gray-50 dark:bg-gray-700/50 rounded-xl px-4 py-3 text-sm font-bold text-gray-900 dark:text-white border-0"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase ml-1",children:"Amount In Words"}),e.jsx("input",{type:"text",name:"amount_in_words",value:n.amount_in_words,onChange:i,className:"w-full bg-gray-50 dark:bg-gray-700/50 rounded-xl px-4 py-3 text-sm font-bold text-gray-900 dark:text-white border-0",placeholder:"e.g. Three Thousand Only"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase ml-1",children:"Description (Optional)"}),e.jsx("textarea",{name:"description",value:n.description,onChange:i,placeholder:"Add notes...",rows:2,className:"w-full bg-gray-50 dark:bg-gray-700/50 rounded-xl px-4 py-3 text-sm font-medium text-gray-900 dark:text-white border-0 resize-none opacity-80 focus:opacity-100 transition-opacity"})]})]})]})}),e.jsxs("div",{className:"p-4 bg-white/50 dark:bg-gray-800/50 backdrop-blur-md",children:[e.jsxs("button",{form:"add-expense-form",type:"submit",disabled:s,className:"w-full py-4 bg-gray-900 dark:bg-white text-white dark:text-gray-900 text-sm font-black uppercase tracking-widest rounded-2xl shadow-xl hover:shadow-2xl hover:scale-[1.01] active:scale-[0.98] transition-all disabled:opacity-70 disabled:scale-100 flex items-center justify-center gap-2",children:[s?e.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-current border-t-transparent animate-spin"}):e.jsx(re,{size:18}),"Save Voucher"]}),e.jsx("p",{className:"text-center text-[10px] text-gray-400 mt-3 font-medium",children:"Approval status will be calculated automatically based on daily budget."})]})]})})},Uf=()=>{const t=ee(),{user:r}=G(),[a,s]=p.useState(!1),[n,l]=p.useState([]),[i,d]=p.useState(null),[o,c]=p.useState(!1),[m,h]=p.useState(null),[x,_]=p.useState(!1),[y,w]=p.useState(()=>{const f=new Date;return new Date(f.getFullYear(),f.getMonth(),1).toISOString().split("T")[0]}),[z,j]=p.useState(()=>new Date().toISOString().split("T")[0]),g=async()=>{s(!0);try{const f="https://prospine.in/admin/mobile/api",v=(r==null?void 0:r.branch_id)||1,N=new URLSearchParams({branch_id:v.toString(),start_date:y,end_date:z,limit:"1000"}),E=await(await fetch(`${f}/expenses.php?${N.toString()}`)).json();E.status==="success"&&(l(E.data),d(E.stats))}catch(f){console.error("Fetch Error:",f)}finally{s(!1)}};p.useEffect(()=>{g()},[y,z]);const u=async f=>{_(!0);try{const v="https://prospine.in/admin/mobile/api",N=(r==null?void 0:r.branch_id)||1,E=await(await fetch(`${v}/expenses.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...f,branch_id:N,user_id:(r==null?void 0:r.id)||0,expense_done_by:f.expense_done_by||(r==null?void 0:r.name)||"Admin"})})).json();E.status==="success"?(c(!1),g()):alert("Error: "+E.message)}catch(v){console.error(v)}finally{_(!1)}},b=f=>{const v=Number(f);return isNaN(v)?"0":`${v.toLocaleString("en-IN")}`};return e.jsxs("div",{className:"flex flex-col h-full bg-gray-50/50 dark:bg-gray-900 relative",children:[e.jsxs("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl px-5 py-4 pt-[var(--safe-area-inset-top,32px)] border-b border-gray-100 dark:border-gray-800 sticky top-0 z-20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:()=>t("/"),className:"p-2 -ml-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:e.jsx(et,{size:20,className:"text-gray-700 dark:text-gray-200"})}),e.jsx("h1",{className:"text-lg font-black text-gray-900 dark:text-white uppercase tracking-widest",children:"Expenses"}),e.jsx("div",{className:"w-8"})," "]}),e.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 dark:bg-gray-800 p-1.5 rounded-2xl border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex-1 relative group",children:[e.jsx(fe,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-500 transition-colors"}),e.jsx("input",{type:"date",value:y,onChange:f=>w(f.target.value),className:"w-full bg-transparent text-gray-900 dark:text-white rounded-xl pl-9 pr-2 py-2 text-xs font-bold outline-none"})]}),e.jsx("span",{className:"text-gray-400",children:e.jsx(et,{size:12,className:"rotate-180"})}),e.jsxs("div",{className:"flex-1 relative group",children:[e.jsx(fe,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-500 transition-colors"}),e.jsx("input",{type:"date",value:z,onChange:f=>j(f.target.value),className:"w-full bg-transparent text-gray-900 dark:text-white rounded-xl pl-9 pr-2 py-2 text-xs font-bold outline-none"})]})]})]}),i&&e.jsx("div",{className:"px-5 pt-4 shrink-0",children:e.jsxs("div",{className:"relative overflow-hidden rounded-[2rem] p-6 bg-gray-900 dark:bg-white text-white dark:text-gray-900 shadow-xl",children:[e.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-indigo-500/30 rounded-full blur-3xl -mr-10 -mt-10"}),e.jsxs("div",{className:"relative z-10 flex justify-between items-end",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold opacity-60 uppercase mb-1",children:"Total Spent"}),e.jsx("h2",{className:"text-3xl font-black tracking-tight",children:b(i.total_amount)}),e.jsx("div",{className:"flex items-center gap-2 mt-2",children:e.jsxs("div",{className:"px-2 py-0.5 rounded bg-white/10 dark:bg-black/10 text-[10px] font-bold",children:[i.total_expenses," Vouchers"]})})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-base font-bold opacity-60 uppercase mb-1",children:"Budget Left (Today)"}),e.jsx("h3",{className:`text-xl font-black ${Number(i.remaining_today)<0?"text-rose-400 dark:text-rose-600":"text-emerald-400 dark:text-emerald-600"}`,children:b(i.remaining_today)}),e.jsxs("p",{className:"text-[9px] opacity-40 mt-1",children:["Daily Limit: ",b(i.daily_budget)]})]})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto px-5 pb-24 pt-4 space-y-3",children:[!n.length&&!a&&e.jsxs("div",{className:"flex flex-col items-center justify-center py-10 opacity-50",children:[e.jsx(Le,{size:48,className:"text-gray-300 dark:text-gray-600 mb-2"}),e.jsx("p",{className:"text-sm font-bold text-gray-400",children:"No expenses recorded"})]}),n.map((f,v)=>e.jsxs("div",{onClick:()=>h(f),className:"group bg-white dark:bg-gray-800 rounded-2xl p-4 shadow-sm border border-gray-100 dark:border-gray-700 active:scale-[0.98] transition-all hover:shadow-md cursor-pointer relative overflow-hidden",children:[e.jsx("div",{className:`absolute top-0 left-0 w-1 h-full ${f.status==="approved"?"bg-emerald-500":f.status==="pending"?"bg-amber-500":"bg-rose-500"}`}),e.jsxs("div",{className:"flex justify-between items-center pl-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gray-50 dark:bg-gray-700 flex items-center justify-center text-xs font-black text-gray-400",children:new Date(f.expense_date).getDate()}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-bold text-gray-900 dark:text-white leading-tight",children:f.paid_to}),e.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[e.jsx("p",{className:"text-[11px] text-gray-500 dark:text-gray-400 max-w-[120px] truncate",children:f.expense_for}),e.jsx("span",{className:"w-1 h-1 rounded-full bg-gray-300 dark:bg-gray-600"}),e.jsx("p",{className:"text-[10px] text-gray-400",children:f.expense_done_by})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-base font-black text-gray-900 dark:text-white",children:b(f.amount)}),e.jsxs("div",{className:"flex items-center justify-end gap-1 mt-0.5",children:[f.status==="pending"&&e.jsx(pe,{size:10,className:"text-amber-500"}),e.jsx("span",{className:`text-[9px] font-bold uppercase ${f.status==="approved"?"text-emerald-500":f.status==="pending"?"text-amber-500":"text-rose-500"}`,children:f.status})]})]})]})]},v))]}),e.jsx("button",{onClick:()=>c(!0),className:"fixed bottom-24 right-6 p-4 rounded-full bg-indigo-600 text-white shadow-xl shadow-indigo-600/40 hover:bg-indigo-700 active:scale-95 transition-all z-40 animate-in zoom-in slide-in-from-bottom-5 duration-300",children:e.jsx(gr,{size:28,strokeWidth:2.5})}),e.jsx(Ff,{show:o,onClose:()=>c(!1),onSave:u,loading:x}),e.jsx(Af,{expense:m,onClose:()=>h(null)})]})},Bf=({issueId:t,onClose:r})=>{var c;const{user:a}=G(),[s,n]=p.useState(null),[l,i]=p.useState(!0),[d,o]=p.useState(null);return p.useEffect(()=>{t&&(async()=>{try{const h="https://prospine.in/admin/mobile/api",x=(a==null?void 0:a.branch_id)||1,y=await(await fetch(`${h}/support.php?id=${t}&branch_id=${x}`)).json();y.status==="success"&&n(y.data)}catch(h){console.error(h)}finally{i(!1)}})()},[t]),t?e.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center p-4 bg-black/60 backdrop-blur-md animate-in fade-in duration-200",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-[2rem] w-full max-w-lg shadow-2xl overflow-hidden flex flex-col max-h-[90vh] border border-white/20 scale-100 animate-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"px-6 py-5 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50/80 dark:bg-gray-800/80 backdrop-blur-sm",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-black text-gray-900 dark:text-white flex items-center gap-2",children:["Ticket Details ",e.jsxs("span",{className:"text-indigo-500 font-mono text-base",children:["#",t]})]}),s&&e.jsxs("p",{className:"text-[10px] uppercase font-bold text-gray-400 mt-1",children:["Reported on ",new Date(s.issue.created_at).toLocaleDateString()]})]}),e.jsx("button",{onClick:r,className:"p-2 rounded-full bg-white dark:bg-gray-700 text-gray-500 shadow-sm hover:scale-105 transition-transform",children:e.jsx(Te,{size:20})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 custom-scrollbar bg-white/50 dark:bg-gray-900/50",children:l?e.jsx("div",{className:"flex justify-center p-10",children:e.jsx(ne,{className:"animate-spin text-indigo-500",size:32})}):s?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-2xl p-4 flex-1 min-w-[120px] shadow-sm border border-gray-100 dark:border-gray-600",children:[e.jsx("p",{className:"text-[10px] font-bold uppercase text-gray-400 mb-2 tracking-wider",children:"Status"}),e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-xl text-xs font-black uppercase tracking-wide ${s.issue.status==="pending"?"bg-amber-100 text-amber-700":s.issue.status==="resolved"?"bg-emerald-100 text-emerald-700":"bg-blue-100 text-blue-700"}`,children:[s.issue.status==="pending"&&e.jsx(pe,{size:12}),s.issue.status==="resolved"&&e.jsx(re,{size:12}),s.issue.status.replace("_"," ")]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-2xl p-4 flex-1 min-w-[120px] shadow-sm border border-gray-100 dark:border-gray-600",children:[e.jsx("p",{className:"text-[10px] font-bold uppercase text-gray-400 mb-2 tracking-wider",children:"Release"}),e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-xl text-xs font-black bg-red-100 text-red-700 border border-red-200 uppercase tracking-wide",children:((c=s.issue.release_schedule)==null?void 0:c.replace("_"," "))||"Pending"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-2xl p-4 flex-1 min-w-[120px] shadow-sm border border-gray-100 dark:border-gray-600",children:[e.jsx("p",{className:"text-[10px] font-bold uppercase text-gray-400 mb-2 tracking-wider",children:"Date"}),e.jsxs("p",{className:"text-sm font-black text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(pe,{size:14,className:"text-gray-400"}),new Date(s.issue.created_at).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-5 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700",children:[e.jsxs("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-3 flex items-center gap-2",children:[e.jsx(Xe,{size:14})," Description"]}),e.jsx("div",{className:"text-sm font-medium text-gray-800 dark:text-gray-200 leading-relaxed whitespace-pre-wrap",children:s.issue.description})]}),s.attachments&&s.attachments.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-3 flex items-center gap-2 px-1",children:[e.jsx(rf,{size:14})," Attachments"]}),e.jsx("div",{className:"flex gap-3 overflow-x-auto pb-4 px-1",children:s.attachments.map((m,h)=>{const x=m.startsWith("http")?m:`https://prospine.in/admin/${m}`;return e.jsx("img",{src:x,className:"h-32 w-auto rounded-2xl border-2 border-white dark:border-gray-700 shadow-md object-cover hover:scale-105 transition-transform cursor-pointer",alt:`Attachment ${h}`,onClick:()=>o(x)},h)})})]}),s.issue.admin_response&&e.jsxs("div",{className:"bg-gradient-to-br from-teal-50 to-emerald-50 dark:from-teal-900/20 dark:to-emerald-900/20 p-5 rounded-3xl border border-teal-100 dark:border-teal-800/30",children:[e.jsxs("h4",{className:"text-xs font-bold text-teal-600 dark:text-teal-400 uppercase tracking-widest mb-3 flex items-center gap-2",children:[e.jsx(mx,{size:14})," Admin Response"]}),e.jsx("div",{className:"text-sm font-medium text-gray-800 dark:text-gray-200 bg-white/60 dark:bg-gray-800/60 p-4 rounded-2xl border border-white/50 backdrop-blur-sm",children:s.issue.admin_response}),e.jsx("div",{className:"mt-3 flex justify-end",children:e.jsx("span",{className:"text-[10px] font-bold text-teal-600 uppercase tracking-wider bg-teal-100 dark:bg-teal-900/50 px-2 py-1 rounded-lg",children:s.issue.status==="resolved"?"Resolved & Closed":"Update"})})]})]}):e.jsxs("div",{className:"text-center py-10 opacity-50",children:[e.jsx(dx,{size:48,className:"mx-auto mb-3 text-gray-300"}),e.jsx("p",{className:"text-sm font-bold text-gray-400",children:"Failed to load details."})]})})]}),d&&e.jsxs("div",{className:"fixed inset-0 z-[1100] bg-black/95 backdrop-blur-xl flex items-center justify-center p-4 animate-in fade-in duration-300",onClick:m=>{m.stopPropagation(),o(null)},children:[e.jsx("button",{className:"absolute top-6 right-6 p-3 bg-white/10 hover:bg-white/20 rounded-full text-white transition-all hover:rotate-90",onClick:()=>o(null),children:e.jsx(Te,{size:28})}),e.jsx("img",{src:d,alt:"Full view",className:"max-w-full max-h-[90vh] object-contain rounded-lg animate-in zoom-in-50 duration-300 shadow-2xl",onClick:m=>m.stopPropagation()})]})]}):null},Wf=()=>{const t=ee(),{user:r}=G(),[a,s]=p.useState({total:0,in_progress:0,pending:0,completed:0}),[n,l]=p.useState([]),[i,d]=p.useState(!1),[o,c]=p.useState(!1),[m,h]=p.useState(null),[x,_]=p.useState(""),[y,w]=p.useState(null),z=async()=>{d(!0);try{const g="https://prospine.in/admin/mobile/api",u=(r==null?void 0:r.branch_id)||1,f=await(await fetch(`${g}/support.php?branch_id=${u}`)).json();f.status==="success"&&(s(f.stats),l(f.data))}catch(g){console.error(g)}finally{d(!1)}};p.useEffect(()=>{z()},[]);const j=async g=>{if(g.preventDefault(),!!x.trim()){c(!0);try{const u="https://prospine.in/admin/mobile/api",b=(r==null?void 0:r.branch_id)||1,f=new FormData;if(f.append("branch_id",b.toString()),f.append("user_id",((r==null?void 0:r.id)||0).toString()),f.append("description",x),y)for(let k=0;k<y.length;k++)f.append("images[]",y[k]);const N=await(await fetch(`${u}/support.php`,{method:"POST",body:f})).json();N.status==="success"?(_(""),w(null),z()):alert("Error: "+N.message)}catch(u){console.error(u),alert("Failed to submit ticket.")}finally{c(!1)}}};return e.jsxs("div",{className:"flex flex-col h-full bg-gray-50/50 dark:bg-gray-900",children:[e.jsx("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl px-5 py-4 pt-[var(--safe-area-inset-top,32px)] border-b border-gray-100 dark:border-gray-800 sticky top-0 z-20",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>t("/"),className:"p-2 -ml-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:e.jsx(et,{size:20,className:"text-gray-700 dark:text-gray-200"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-black text-gray-900 dark:text-white uppercase tracking-widest",children:"Support Center"}),e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide",children:"Help & Documentation"})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-5 pb-32 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-3xl shadow-[0_4px_20px_-10px_rgba(0,0,0,0.05)] border border-gray-100 dark:border-gray-700 relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-indigo-50 dark:bg-indigo-900/20 rounded-bl-full -mr-2 -mt-2 transition-transform group-hover:scale-110"}),e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-wider relative z-10",children:"Total Tickets"}),e.jsxs("div",{className:"flex items-end justify-between mt-2 relative z-10",children:[e.jsx("span",{className:"text-2xl font-black text-gray-900 dark:text-white",children:a.total}),e.jsx("div",{className:"text-indigo-500 bg-indigo-50 dark:bg-indigo-900/20 p-2 rounded-xl",children:e.jsx(mc,{size:18})})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-3xl shadow-[0_4px_20px_-10px_rgba(0,0,0,0.05)] border border-gray-100 dark:border-gray-700 relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-blue-50 dark:bg-blue-900/20 rounded-bl-full -mr-2 -mt-2 transition-transform group-hover:scale-110"}),e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-wider relative z-10",children:"In Progress"}),e.jsxs("div",{className:"flex items-end justify-between mt-2 relative z-10",children:[e.jsx("span",{className:"text-2xl font-black text-blue-500",children:a.in_progress}),e.jsx("div",{className:"text-blue-500 bg-blue-50 dark:bg-blue-900/20 p-2 rounded-xl",children:e.jsx(ne,{size:18})})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-600 rounded-[2rem] p-6 shadow-xl shadow-indigo-500/20 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20 brightness-100 contrast-150 mix-blend-overlay"}),e.jsx("div",{className:"absolute -top-10 -right-10 w-40 h-40 bg-white/20 blur-3xl rounded-full"}),e.jsxs("div",{className:"relative z-10 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-2 bg-white/20 backdrop-blur-md rounded-xl",children:e.jsx(dx,{size:20,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-black tracking-tight",children:"Need Help?"}),e.jsx("p",{className:"text-xs text-indigo-100 font-medium",children:"Create a new support ticket"})]})]}),e.jsxs("form",{onSubmit:j,className:"space-y-3",children:[e.jsx("textarea",{value:x,onChange:g=>_(g.target.value),className:"w-full p-4 rounded-2xl bg-white/10 backdrop-blur-md border border-white/20 text-sm font-medium text-white placeholder:text-indigo-200 focus:bg-white/20 focus:outline-none focus:ring-2 focus:ring-white/30 transition-all resize-none shadow-inner",placeholder:"Describe your issue or feature request...",rows:3,required:!0}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"flex-1 relative group",children:[e.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10",onChange:g=>w(g.target.files)}),e.jsxs("div",{className:"h-12 rounded-2xl bg-white/10 backdrop-blur-md border border-white/20 flex items-center justify-center gap-2 text-xs font-bold text-white group-hover:bg-white/20 transition-all",children:[e.jsx(yx,{size:16}),e.jsx("span",{children:y&&y.length>0?`${y.length} attached`:"Attach"})]})]}),e.jsx("button",{type:"submit",disabled:o,className:"flex-1 h-12 bg-white text-indigo-600 rounded-2xl text-xs font-black uppercase tracking-wider shadow-lg hover:bg-indigo-50 active:scale-95 transition-all flex items-center justify-center gap-2",children:o?e.jsx(ne,{className:"animate-spin",size:16}):"Submit"})]})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between px-2 mb-4",children:[e.jsx("h3",{className:"text-sm font-black text-gray-900 dark:text-white uppercase tracking-wider",children:"Recent Tickets"}),e.jsxs("span",{className:"text-[10px] font-bold bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded-lg text-gray-500",children:[n.length," Items"]})]}),e.jsx("div",{className:"space-y-4",children:i?e.jsx("div",{className:"text-center py-8 text-xs font-bold text-gray-300",children:"Loading..."}):n.length===0?e.jsxs("div",{className:"text-center py-10 opacity-50",children:[e.jsx(Ot,{size:32,className:"mx-auto mb-2 text-gray-300"}),e.jsx("p",{className:"text-xs font-bold text-gray-400",children:"No tickets found"})]}):n.map(g=>e.jsxs("div",{onClick:()=>h(g.issue_id),className:"bg-white dark:bg-gray-800 p-5 rounded-[1.5rem] shadow-sm border border-gray-100 dark:border-gray-700 flex flex-col gap-3 active:scale-[0.98] transition-all",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center text-white shadow-lg ${g.status==="resolved"?"bg-emerald-500 shadow-emerald-500/30":g.status==="pending"?"bg-amber-500 shadow-amber-500/30":"bg-blue-500 shadow-blue-500/30"}`,children:g.status==="resolved"?e.jsx(re,{size:20}):e.jsx(mc,{size:20})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-[10px] font-black uppercase text-gray-400",children:["#",g.issue_id]}),g.admin_response&&e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-red-500 animate-pulse"})]}),e.jsx("h4",{className:"text-sm font-bold text-gray-900 dark:text-white leading-tight mt-0.5 line-clamp-1",children:g.description})]})]}),e.jsx("span",{className:`px-2 py-1 rounded-lg text-[10px] font-black uppercase ${g.status==="resolved"?"bg-emerald-50 text-emerald-600":g.status==="pending"?"bg-amber-50 text-amber-600":"bg-blue-50 text-blue-600"}`,children:g.status.replace("_"," ")})]}),e.jsxs("div",{className:"flex justify-between items-center border-t border-gray-50 dark:border-gray-700/50 pt-3 mt-1",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-gray-400",children:[e.jsx(pe,{size:12}),e.jsx("span",{className:"text-[10px] font-bold",children:new Date(g.created_at).toLocaleDateString()})]}),g.admin_response&&e.jsxs("span",{className:"flex items-center gap-1 text-[10px] font-black text-indigo-500 uppercase",children:[e.jsx(mx,{size:12})," Response"]})]})]},g.issue_id))})]})]}),m&&e.jsx(Bf,{issueId:m,onClose:()=>h(null)})]})},Hf=()=>{const t=ee(),[r,a]=p.useState(null),[s,n]=p.useState(!0);return p.useEffect(()=>{(async()=>{try{const o=await(await fetch("https://prospine.in/admin/mobile/api/app_info.php")).json();o.status==="success"&&a(o.data)}catch(i){console.error(i)}finally{n(!1)}})()},[]),s?e.jsx("div",{className:"flex items-center justify-center h-full bg-gray-50 dark:bg-gray-900",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-500"})}):r?e.jsxs("div",{className:"flex flex-col h-full bg-gray-50 dark:bg-gray-900",children:[e.jsxs("div",{className:"px-4 py-3 pt-[var(--safe-area-inset-top,32px)] mt-0 flex items-center gap-3 sticky top-0 z-10 bg-gray-50/80 dark:bg-gray-900/80 backdrop-blur-md",children:[e.jsx("button",{onClick:()=>t(-1),className:"p-2 -ml-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-800 transition-colors text-gray-700 dark:text-gray-200",children:e.jsx(et,{size:20})}),e.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Updates & Features"})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto px-4 pb-12 space-y-6",children:[r.releases&&r.releases[0]&&e.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-violet-700 rounded-3xl p-6 shadow-xl shadow-indigo-500/30 text-white relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 -mt-10 -mr-10 w-40 h-40 bg-white/10 rounded-full blur-3xl group-hover:bg-white/20 transition-all duration-700"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("div",{className:"bg-white/20 backdrop-blur-md px-3 py-1 rounded-full border border-white/20",children:e.jsxs("span",{className:"text-xs font-bold tracking-wider uppercase flex items-center gap-1.5",children:[e.jsx(pf,{size:12,className:"text-yellow-300"}),"Latest Update"]})}),e.jsx("span",{className:"text-xs font-medium text-indigo-100 bg-black/20 px-2 py-1 rounded-lg",children:r.releases[0].date})]}),e.jsxs("h2",{className:"text-3xl font-black mb-1",children:["v",r.releases[0].version]}),e.jsx("p",{className:"text-indigo-100 text-sm font-medium mb-6 leading-relaxed opacity-90",children:r.releases[0].description}),e.jsx("div",{className:"bg-black/20 rounded-2xl p-4 backdrop-blur-sm border border-white/10 space-y-3",children:r.releases[0].features.map((l,i)=>e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-1 rounded-full bg-teal-400/20 text-teal-300 mt-0.5 shrink-0",children:e.jsx(is,{size:12})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-white leading-tight",children:l.title}),e.jsx("p",{className:"text-[10px] text-indigo-200 leading-tight mt-0.5",children:l.desc})]})]},i))})]})]}),r.releases&&r.releases.length>1&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider ml-2",children:"Previous Updates"}),r.releases.slice(1).map((l,i)=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-5 shadow-sm border border-gray-100 dark:border-gray-700 opacity-75 hover:opacity-100 transition-opacity",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-gray-100 dark:bg-gray-700 rounded-lg text-gray-500",children:e.jsx(Bo,{size:14})}),e.jsxs("span",{className:"font-bold text-gray-900 dark:text-white",children:["v",l.version]})]}),e.jsx("span",{className:"text-[10px] bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded text-gray-500",children:l.date})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3",children:l.description}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:l.features.map((d,o)=>e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-gray-700 dark:text-gray-200",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-400"}),e.jsx("span",{children:d.title})]}),e.jsx("span",{className:"text-[10px] text-gray-500 dark:text-gray-400 pl-3.5 leading-tight mt-0.5",children:d.desc})]},o))})]},i))]}),e.jsxs("div",{className:"text-center py-8",children:[e.jsxs("p",{className:"text-[10px] text-gray-400",children:["App Version: ",r.releases[0].version," (Build 2025.12.21)"]}),e.jsx("p",{className:"text-[10px] text-gray-300 dark:text-gray-600 mt-1",children:" 2025 ProSpine"})]})]})]}):null},Vf=()=>{const t=ee(),{user:r}=G(),[a,s]=p.useState(!1),[n,l]=p.useState(!1),[i,d]=p.useState([]),[o,c]=p.useState([]),[m,h]=p.useState(null),[x,_]=p.useState(""),[y,w]=p.useState(!1),[z,j]=p.useState("Good"),[g,u]=p.useState("active"),[b,f]=p.useState(""),v=async()=>{s(!0);try{const S="https://prospine.in/admin/mobile/api",C=(r==null?void 0:r.branch_id)||1,M=await(await fetch(`${S}/feedback.php?branch_id=${C}`)).json();M.status==="success"&&(d(M.patients||[]),c(M.feedbacks||[]))}catch(S){console.error(S)}finally{s(!1)}};p.useEffect(()=>{v()},[]);const N=p.useMemo(()=>x?i.filter(S=>S.patient_name.toLowerCase().includes(x.toLowerCase())||S.phone_number.includes(x)).slice(0,5):[],[x,i]),k=S=>{h(S),_(S.patient_name),w(!1);let C="active";S.status==="completed"&&(C="completed"),S.status==="inactive"&&(C="discontinued"),u(C)},E=async S=>{if(S.preventDefault(),!m){alert("Please select a valid patient");return}l(!0);try{const C="https://prospine.in/admin/mobile/api",P=(r==null?void 0:r.branch_id)||1,B=await(await fetch(`${C}/feedback.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({branch_id:P,user_id:(r==null?void 0:r.id)||0,patient_id:m.patient_id,feedback_type:z,patient_status:g,comments:b})})).json();B.status==="success"?(f(""),_(""),h(null),j("Good"),v()):alert(B.message||"Failed to save")}catch(C){console.error(C),alert("Network error")}finally{l(!1)}};return e.jsxs("div",{className:"flex flex-col h-full bg-gray-50/50 dark:bg-gray-900",children:[e.jsx("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl px-5 py-4 pt-[var(--safe-area-inset-top,32px)] border-b border-gray-100 dark:border-gray-800 sticky top-0 z-20",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>t("/"),className:"p-2 -ml-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:e.jsx(et,{size:20,className:"text-gray-700 dark:text-gray-200"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-black text-gray-900 dark:text-white uppercase tracking-widest",children:"Feedback"}),e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide",children:"Patient Experience"})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-5 pb-32 space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-[2rem] p-6 shadow-xl shadow-gray-200/50 dark:shadow-none border border-white/50 dark:border-gray-700 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-teal-500/5 rounded-full blur-3xl -mr-20 -mt-20 pointer-events-none"}),e.jsxs("form",{onSubmit:E,className:"space-y-6 relative z-10",children:[e.jsxs("div",{className:"space-y-2 relative",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider ml-1",children:"Patient Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(He,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:16}),e.jsx("input",{type:"text",value:x,onChange:S=>{_(S.target.value),w(!0),h(null)},onFocus:()=>w(!0),placeholder:"Search patient...",className:"w-full bg-gray-50 dark:bg-gray-900/50 border-0 rounded-2xl pl-11 pr-4 py-3.5 text-sm font-bold text-gray-900 dark:text-white focus:ring-2 focus:ring-teal-500 transition-all placeholder:text-gray-400"}),m&&e.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-teal-500 animate-in zoom-in",children:e.jsx(re,{size:18,fill:"currentColor",className:"text-white"})})]}),y&&x&&!m&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-100 dark:border-gray-700 z-50 overflow-hidden animate-in slide-in-from-top-2",children:N.length>0?N.map(S=>e.jsxs("div",{onClick:()=>k(S),className:"px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer border-b border-gray-50 dark:border-gray-700/50 last:border-0 flex justify-between items-center group",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:S.patient_name}),e.jsx("p",{className:"text-xs text-gray-400 font-mono",children:S.phone_number})]}),e.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(Wh,{size:14,className:"text-teal-500"})})]},S.patient_id)):e.jsx("div",{className:"p-4 text-center text-xs text-gray-400",children:"No patients found"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider ml-1",children:"Experience"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{val:"Good",icon:Tn,color:"text-emerald-500",bg:"bg-emerald-50 dark:bg-emerald-900/20",border:"border-emerald-200 dark:border-emerald-800"},{val:"Average",icon:Bi,color:"text-amber-500",bg:"bg-amber-50 dark:bg-amber-900/20",border:"border-amber-200 dark:border-amber-800"},{val:"Bad",icon:Pn,color:"text-rose-500",bg:"bg-rose-50 dark:bg-rose-900/20",border:"border-rose-200 dark:border-rose-800"}].map(S=>e.jsxs("button",{type:"button",onClick:()=>j(S.val),className:`relative flex flex-col items-center justify-center p-3 h-24 rounded-2xl border-2 transition-all active:scale-95 ${z===S.val?`${S.bg} ${S.border} shadow-lg scale-[1.02]`:"bg-gray-50 dark:bg-gray-900/30 border-transparent opacity-60 hover:opacity-100"}`,children:[e.jsx(S.icon,{size:32,className:`mb-2 ${z===S.val?S.color:"text-gray-400"}`,strokeWidth:2}),e.jsx("span",{className:`text-[10px] font-black uppercase ${z===S.val?"text-gray-900 dark:text-white":"text-gray-400"}`,children:S.val})]},S.val))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider ml-1",children:"Treatment Status"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:g,onChange:S=>u(S.target.value),className:"w-full appearance-none bg-gray-50 dark:bg-gray-900/50 border-0 rounded-2xl px-4 py-3.5 text-sm font-bold text-gray-900 dark:text-white focus:ring-2 focus:ring-teal-500 outline-none transition-all",children:[e.jsx("option",{value:"active",children:" Ongoing (Active)"}),e.jsx("option",{value:"completed",children:" Treatment Completed"}),e.jsx("option",{value:"discontinued",children:" Discontinued / Stopped"})]}),e.jsx(ht,{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none",size:16})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider ml-1",children:"Comments"}),e.jsx("textarea",{value:b,onChange:S=>f(S.target.value),rows:3,placeholder:"Add details...",className:"w-full bg-gray-50 dark:bg-gray-900/50 border-0 rounded-2xl p-4 text-sm font-medium text-gray-900 dark:text-white focus:ring-2 focus:ring-teal-500 outline-none transition-all resize-none placeholder:text-gray-400"})]}),e.jsxs("button",{type:"submit",disabled:n,className:"w-full py-4 rounded-2xl bg-teal-600 text-white font-black uppercase tracking-widest text-sm shadow-xl shadow-teal-600/30 hover:shadow-2xl hover:bg-teal-700 active:scale-[0.98] transition-all flex items-center justify-center gap-2",children:[n?e.jsx(ne,{className:"animate-spin",size:18}):e.jsx(re,{size:18}),"Save Feedback"]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between px-2 mb-3",children:[e.jsx("h3",{className:"text-sm font-black text-gray-900 dark:text-white uppercase tracking-wider",children:"Recent Activity"}),e.jsxs("span",{className:"text-[10px] font-bold bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded-lg text-gray-500",children:[o.length," Entries"]})]}),e.jsxs("div",{className:"space-y-3",children:[o.length===0&&!a&&e.jsxs("div",{className:"text-center py-10 opacity-50",children:[e.jsx(ua,{size:32,className:"mx-auto mb-2 text-gray-300"}),e.jsx("p",{className:"text-xs font-bold text-gray-400",children:"No feedback yet"})]}),o.map(S=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 flex flex-col gap-3",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center text-sm font-bold text-gray-500 dark:text-gray-300",children:S.patient_name.charAt(0)}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-bold text-gray-900 dark:text-white leading-tight",children:S.patient_name}),e.jsxs("p",{className:"text-[10px] text-gray-400 mt-0.5 flex items-center gap-1",children:[e.jsx(pe,{size:10}),new Date(S.created_at).toLocaleDateString(),"  ",new Date(S.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),e.jsxs("div",{className:`px-2 py-1 rounded-lg text-[10px] font-black uppercase flex items-center gap-1 ${S.feedback_type==="Good"?"bg-emerald-100 text-emerald-600":S.feedback_type==="Bad"?"bg-rose-100 text-rose-600":"bg-amber-100 text-amber-600"}`,children:[S.feedback_type==="Good"&&e.jsx(Tn,{size:10}),S.feedback_type==="Average"&&e.jsx(Bi,{size:10}),S.feedback_type==="Bad"&&e.jsx(Pn,{size:10}),S.feedback_type]})]}),S.comments&&e.jsx("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-3 rounded-xl",children:e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-300 font-medium italic leading-relaxed",children:['"',S.comments,'"']})}),e.jsxs("div",{className:"flex justify-between items-center border-t border-gray-50 dark:border-gray-700/50 pt-2",children:[e.jsx("span",{className:`text-[9px] font-bold uppercase px-2 py-0.5 rounded ${S.patient_status_snapshot==="active"?"bg-teal-50 text-teal-600":S.patient_status_snapshot==="completed"?"bg-blue-50 text-blue-600":"bg-gray-100 text-gray-500"}`,children:S.patient_status_snapshot}),e.jsxs("span",{className:"text-[9px] font-bold text-gray-300 uppercase tracking-widest",children:["By ",S.staff_name||"Staff"]})]})]},S.id))]})]})]})]})},qf=()=>e.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 pb-safe z-50 transition-colors duration-200",children:e.jsxs("div",{className:"flex justify-around items-center h-16",children:[e.jsxs(Et,{to:"/dashboard",className:({isActive:t})=>`flex flex-col items-center justify-center w-full h-full space-y-1 transition-colors ${t?"text-teal-600 dark:text-teal-400":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[e.jsx(Wo,{size:24,strokeWidth:2}),e.jsx("span",{className:"text-[10px] font-medium",children:"Home"})]}),e.jsxs(Et,{to:"/chat",className:({isActive:t})=>`flex flex-col items-center justify-center w-full h-full space-y-1 transition-colors ${t?"text-teal-600 dark:text-teal-400":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[e.jsx(Ot,{size:24,strokeWidth:2}),e.jsx("span",{className:"text-[10px] font-medium",children:"Chat"})]}),e.jsxs(Et,{to:"/appointments",className:({isActive:t})=>`flex flex-col items-center justify-center w-full h-full space-y-1 transition-colors ${t?"text-teal-600 dark:text-teal-400":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[e.jsx(Gh,{size:24,strokeWidth:2}),e.jsx("span",{className:"text-[10px] font-medium",children:"Schedule"})]}),e.jsxs(Et,{to:"/patients",className:({isActive:t})=>`flex flex-col items-center justify-center w-full h-full space-y-1 transition-colors ${t?"text-teal-600 dark:text-teal-400":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[e.jsx(ut,{size:24,strokeWidth:2}),e.jsx("span",{className:"text-[10px] font-medium",children:"Patients"})]}),e.jsxs(Et,{to:"/menu",className:({isActive:t})=>`flex flex-col items-center justify-center w-full h-full space-y-1 transition-colors ${t?"text-teal-600 dark:text-teal-400":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[e.jsx(ux,{size:24,strokeWidth:2}),e.jsx("span",{className:"text-[10px] font-medium",children:"Menu"})]})]})}),Qf=()=>{const{isAuthenticated:t}=G(),r=Ct();if(ya(),!t)return e.jsx(oa,{to:"/login",replace:!0});const a=r.pathname.startsWith("/chat/")||r.pathname.startsWith("/admin/chat/");return e.jsxs("div",{className:"flex flex-col h-screen bg-gray-50 dark:bg-gray-900 transition-colors",children:[e.jsx("div",{className:`flex-1 overflow-y-auto relative scroller ${a?"":"pb-safe"}`,children:e.jsx(Xu,{})}),!a&&e.jsx(qf,{})]})},Gf=()=>e.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 pb-safe z-50 transition-colors duration-200 block md:hidden",children:e.jsxs("div",{className:"flex justify-around items-center h-16",children:[e.jsxs(Et,{to:"/admin/dashboard",className:({isActive:t})=>`flex flex-col items-center justify-center w-full h-full space-y-1 transition-colors ${t?"text-teal-600 dark:text-teal-400":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[e.jsx(Wo,{size:24,strokeWidth:2}),e.jsx("span",{className:"text-[10px] font-medium",children:"Home"})]}),e.jsxs(Et,{to:"/admin/chat",className:({isActive:t})=>`flex flex-col items-center justify-center w-full h-full space-y-1 transition-colors ${t?"text-teal-600 dark:text-teal-400":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[e.jsx(Ot,{size:24,strokeWidth:2}),e.jsx("span",{className:"text-[10px] font-medium",children:"Chat"})]}),e.jsxs(Et,{to:"/admin/ledger",className:({isActive:t})=>`flex flex-col items-center justify-center w-full h-full space-y-1 transition-colors ${t?"text-teal-600 dark:text-teal-400":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[e.jsx(lx,{size:24,strokeWidth:2}),e.jsx("span",{className:"text-[10px] font-medium",children:"Ledger"})]}),e.jsxs(Et,{to:"/admin/menu",className:({isActive:t})=>`flex flex-col items-center justify-center w-full h-full space-y-1 transition-colors ${t?"text-teal-600 dark:text-teal-400":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[e.jsx(ux,{size:24,strokeWidth:2}),e.jsx("span",{className:"text-[10px] font-medium",children:"Menu"})]})]})}),Kf=()=>{const{isAuthenticated:t,user:r}=G(),a=Ct();if(ya(),!t)return e.jsx(oa,{to:"/login",replace:!0});if((r==null?void 0:r.role)!=="admin"&&(r==null?void 0:r.role)!=="superadmin")return e.jsx(oa,{to:"/dashboard",replace:!0});const s=a.pathname.startsWith("/admin/chat/");return e.jsxs("div",{className:"flex flex-col h-screen bg-gray-50 dark:bg-gray-900 transition-colors",children:[e.jsx("div",{className:`flex-1 overflow-y-auto relative w-full h-full ${s?"pb-0":"pb-24"} md:pb-0`,children:e.jsx(Xu,{})}),!s&&e.jsx(Gf,{})]})},Jf=({title:t})=>e.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4 text-gray-400",children:e.jsx(Zh,{size:32})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:t}),e.jsx("p",{className:"text-gray-500",children:"This feature is under development."})]}),Rl="https://prospine.in/admin/mobile/api",Yf=({data:t})=>{if(!t||t.length===0)return e.jsx("div",{className:"flex items-center justify-center h-full text-xs text-gray-400",children:"No Data Available"});const r=Math.max(...t.map(s=>s.count))||1,a=["#14b8a6","#f59e0b","#8b5cf6","#ec4899","#3b82f6"];return e.jsx("div",{className:"flex items-end justify-around h-full pt-8 pb-6 px-4 gap-2",children:t.map((s,n)=>{const l=s.count/r*80;return e.jsxs("div",{className:"flex flex-col items-center justify-end h-full w-full max-w-[48px] group",children:[e.jsxs("div",{className:"relative w-full flex items-end justify-center h-full mb-2",children:[e.jsx("div",{className:"absolute -top-6 text-[10px] font-bold text-gray-600 dark:text-gray-300 mb-1",children:s.count}),e.jsx("div",{className:"w-full rounded-t-lg transition-all duration-500 hover:opacity-90",style:{height:`${Math.max(l,4)}%`,backgroundColor:a[n%a.length]}})]}),e.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase text-center leading-tight truncate w-full",title:s.type,children:s.type})]},n)})})},Xf=({data:t})=>{if(!t||t.length===0)return e.jsx("div",{className:"flex items-center justify-center h-full text-xs text-gray-400",children:"No Finance Data"});const r=Math.max(...t.map(o=>Math.max(o.income,o.expense)))||1,a=t.reduce((o,c)=>o+c.income,0),s=t.reduce((o,c)=>o+c.expense,0),n=5,l=5,i=100-n-l,d=(o,c)=>{const m=t.map((x,_)=>{const y=_/(t.length-1)*100,w=x[o]/r,z=n+(1-w)*i;return[y,z]});if(m.length<2)return"";let h=`M ${m[0][0]},${m[0][1]}`;for(let x=1;x<m.length;x++){const[_,y]=m[x-1],[w,z]=m[x],j=_+(w-_)/2,g=y,u=w-(w-_)/2;h+=` C ${j},${g} ${u},${z} ${w},${z}`}return e.jsx("path",{d:h,fill:"none",stroke:c,strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",vectorEffect:"non-scaling-stroke"})};return e.jsxs("div",{className:"relative h-full w-full pt-4 pb-4 px-1 flex flex-col",children:[e.jsxs("div",{className:"flex-1 w-full relative",children:[e.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full overflow-visible",preserveAspectRatio:"none",children:[e.jsx("line",{x1:"0",y1:n,x2:"100",y2:n,stroke:"currentColor",strokeOpacity:"0.05",vectorEffect:"non-scaling-stroke"}),e.jsx("line",{x1:"0",y1:"50",x2:"100",y2:"50",stroke:"currentColor",strokeOpacity:"0.05",vectorEffect:"non-scaling-stroke"}),e.jsx("line",{x1:"0",y1:100-l,x2:"100",y2:100-l,stroke:"currentColor",strokeOpacity:"0.05",vectorEffect:"non-scaling-stroke"}),d("expense","#f43f5e"),d("income","#14b8a6")]}),e.jsxs("div",{className:"absolute -top-4 right-0 flex gap-3 text-[10px] font-bold",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-teal-500"}),"Income"]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-rose-500"}),"Expense"]})]})]}),e.jsxs("div",{className:"flex justify-between items-end mt-4 pt-2 border-t border-gray-100 dark:border-gray-800",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[10px] uppercase text-gray-400 font-bold tracking-wide",children:"Total Income"}),e.jsxs("span",{className:"text-sm font-bold text-teal-600 dark:text-teal-400",children:["",a.toLocaleString()]})]}),e.jsxs("div",{className:"flex flex-col text-right",children:[e.jsx("span",{className:"text-[10px] uppercase text-gray-400 font-bold tracking-wide",children:"Total Expense"}),e.jsxs("span",{className:"text-sm font-bold text-rose-500",children:["",s.toLocaleString()]})]})]})]})},Al=({data:t})=>{if(!t||t.length===0)return e.jsx("div",{className:"flex items-center justify-center h-full text-xs text-gray-400",children:"No Expense Data"});const r=t.reduce((l,i)=>l+i.amount,0)||1;let a=0;const s=["#e11d48","#f97316","#3b82f6","#8b5cf6","#64748b"],n=l=>{const i=Math.cos(2*Math.PI*l),d=Math.sin(2*Math.PI*l);return[i,d]};return e.jsxs("div",{className:"flex flex-col items-center gap-6 h-full justify-center",children:[e.jsx("div",{className:"relative w-40 h-40 shrink-0",children:e.jsx("svg",{viewBox:"-1 -1 2 2",className:"transform -rotate-90 w-full h-full",children:t.map((l,i)=>{const d=a/r;a+=l.amount;const o=a/r;if(t.length===1)return e.jsx("circle",{cx:"0",cy:"0",r:"1",fill:s[0]},i);const[c,m]=n(d),[h,x]=n(o),_=o-d>.5?1:0,y=`M 0 0 L ${c} ${m} A 1 1 0 ${_} 1 ${h} ${x} Z`;return e.jsx("path",{d:y,fill:s[i%s.length],stroke:"white",strokeWidth:"0.05"},i)})})}),e.jsx("div",{className:"w-full grid grid-cols-1 gap-2 text-xs px-8",children:t.map((l,i)=>e.jsxs("div",{className:"flex items-center justify-between gap-2 py-1 border-b border-gray-50 dark:border-gray-700/50 last:border-0",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-2.5 h-2.5 rounded-full shrink-0",style:{backgroundColor:s[i%s.length]}}),e.jsx("span",{className:"text-gray-600 dark:text-gray-300 font-medium",children:l.category})]}),e.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:l.amount.toLocaleString()})]},i))})]})},Zf=()=>{var v,N,k,E,S;const{user:t}=G(),{theme:r,toggleTheme:a}=ya(),s=ee(),[n,l]=p.useState(null),[i,d]=p.useState(!0),[o,c]=p.useState("finance"),[m,h]=p.useState(!1),[x,_]=p.useState([]),[y,w]=p.useState(0),z=async()=>{if(t)try{const C=t.employee_id||t.id,M=await(await fetch(`${Rl}/notifications.php?employee_id=${C}`)).json();M.status==="success"&&(_(M.data),w(M.unread_count))}catch(C){console.error(C)}},j=async C=>{try{await fetch(`${Rl}/notifications.php`,{method:"POST",body:JSON.stringify({action:"mark_read",notification_id:C})}),_(P=>P.map(M=>M.notification_id===C?{...M,is_read:1}:M)),w(P=>Math.max(0,P-1))}catch(P){console.error(P)}},g=async()=>{try{const C=(t==null?void 0:t.branch_id)||0,M=await(await fetch(`${Rl}/admin/dashboard.php?branch_id=${C}`)).json();M.status==="success"&&l(M)}catch(C){console.error("Failed to fetch dashboard data",C)}finally{d(!1)}};p.useEffect(()=>{g(),z();const C=setInterval(z,3e4);return()=>clearInterval(C)},[t]);const u=C=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(C),b=C=>C>=1e3?(C/1e3).toFixed(1)+"k":C;if(i)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:e.jsx("div",{className:"w-8 h-8 border-4 border-teal-200 border-t-teal-600 rounded-full animate-spin"})});const f=n==null?void 0:n.kpi;return e.jsxs("div",{className:"flex flex-col h-screen bg-[#f8fafc] dark:bg-[#0f172a] transition-colors duration-200 font-sans relative overflow-hidden",children:[e.jsxs("div",{className:"fixed top-0 left-0 w-full h-full overflow-hidden pointer-events-none z-0",children:[e.jsx("div",{className:"absolute -top-[10%] -right-[10%] w-[50%] h-[50%] rounded-full bg-teal-400/10 dark:bg-teal-900/10 blur-3xl"}),e.jsx("div",{className:"absolute top-[20%] -left-[10%] w-[40%] h-[40%] rounded-full bg-blue-400/10 dark:bg-blue-900/10 blur-3xl"}),e.jsx("div",{className:"absolute bottom-[0%] right-[0%] w-[60%] h-[60%] rounded-full bg-violet-400/5 dark:bg-violet-900/5 blur-3xl"})]}),e.jsxs("header",{className:"px-6 py-4 pt-11 flex items-center justify-between sticky top-0 z-30 bg-white/70 dark:bg-[#0f172a]/70 backdrop-blur-xl border-b border-gray-200/50 dark:border-gray-800/50",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-0.5",children:new Date().toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}),e.jsx("h1",{className:"text-xl font-black text-gray-900 dark:text-white tracking-tight",children:"Overview"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:a,className:"w-9 h-9 rounded-full bg-white dark:bg-gray-800/50 shadow-sm border border-gray-100 dark:border-gray-700 flex items-center justify-center text-gray-500 dark:text-gray-400 active:scale-95 transition-transform backdrop-blur-sm",children:r==="dark"?e.jsx(qo,{size:14}):e.jsx(Ho,{size:14})}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>h(!m),className:"w-9 h-9 rounded-full bg-white dark:bg-gray-800/50 shadow-sm border border-gray-100 dark:border-gray-700 flex items-center justify-center text-gray-500 dark:text-gray-400 active:scale-95 transition-transform backdrop-blur-sm relative",children:[e.jsx(ca,{size:14}),y>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-2.5 h-2.5 bg-red-500 rounded-full border border-white dark:border-gray-900"})]}),m&&e.jsxs("div",{className:"absolute top-full right-0 mt-2 w-80 bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-100 dark:border-gray-700 overflow-hidden z-50 animate-in fade-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"p-3 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50/50 dark:bg-gray-700/50",children:[e.jsx("h3",{className:"text-xs font-bold text-gray-900 dark:text-white uppercase tracking-wider",children:"Notifications"}),e.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(Te,{size:14})})]}),e.jsx("div",{className:"max-h-[300px] overflow-y-auto",children:x.length===0?e.jsxs("div",{className:"p-8 text-center text-gray-400",children:[e.jsx(ca,{size:20,className:"mx-auto mb-2 opacity-20"}),e.jsx("p",{className:"text-xs font-medium",children:"No notifications"})]}):x.slice(0,5).map(C=>e.jsx("div",{onClick:()=>{C.is_read||j(C.notification_id),C.link_url&&window.open(C.link_url,"_blank")},className:`p-3 border-b border-gray-50 dark:border-gray-700/50 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors ${C.is_read?"":"bg-indigo-50/30 dark:bg-indigo-900/10"}`,children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:`mt-1 w-2 h-2 rounded-full shrink-0 ${C.is_read?"bg-transparent":"bg-indigo-500"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:`text-xs ${C.is_read?"font-medium text-gray-600 dark:text-gray-400":"font-bold text-gray-900 dark:text-white"}`,children:C.message}),e.jsxs("p",{className:"text-[10px] text-gray-400 mt-1 flex items-center gap-1",children:[e.jsx(pe,{size:8}),new Date(C.created_at).toLocaleDateString()]})]})]})},C.notification_id))}),e.jsx("div",{className:"p-2 border-t border-gray-100 dark:border-gray-700 bg-gray-50/50 dark:bg-gray-700/50 text-center",children:e.jsx("button",{onClick:()=>{h(!1),s("/admin/notifications")},className:"text-xs font-bold text-indigo-600 dark:text-indigo-400 hover:underline",children:"View All Notifications"})})]})]}),e.jsx("div",{onClick:()=>s("/admin/profile"),className:"w-9 h-9 rounded-full bg-gradient-to-tr from-teal-400 to-teal-600 p-[2px] shadow-lg shadow-teal-500/20 active:scale-95 transition-transform cursor-pointer",children:e.jsx("div",{className:"w-full h-full rounded-full bg-white dark:bg-gray-900 flex items-center justify-center",children:e.jsx("span",{className:"font-bold text-xs text-teal-600 dark:text-teal-400",children:((v=t==null?void 0:t.name)==null?void 0:v.charAt(0))||"A"})})})]})]}),e.jsxs("main",{className:"flex-1 p-4 md:p-6 overflow-y-auto z-10",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 dark:from-teal-900 dark:to-teal-800 p-6 rounded-3xl shadow-lg flex flex-col justify-between text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 -mt-4 -mr-4 w-32 h-32 bg-white/10 rounded-full blur-2xl"}),e.jsx("div",{className:"absolute bottom-0 left-0 -mb-4 -ml-4 w-24 h-24 bg-teal-500/20 rounded-full blur-2xl"}),e.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center text-white backdrop-blur-md shadow-inner",children:e.jsx(tl,{size:20})}),e.jsx("span",{className:"text-sm font-medium text-gray-300 uppercase tracking-widest",children:"Total Revenue"})]}),e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsx("span",{className:"text-4xl sm:text-5xl font-black tracking-tight",children:u(((N=f==null?void 0:f.overall)==null?void 0:N.total_revenue)||0)})})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"text-xs text-gray-400 uppercase tracking-wider block mb-1",children:"Today's Revenue"}),e.jsx("div",{className:"bg-white/10 backdrop-blur-sm px-3 py-1.5 rounded-xl inline-block border border-white/10",children:e.jsxs("span",{className:"font-bold text-emerald-300 text-lg",children:["+",u(((k=f==null?void 0:f.overall)==null?void 0:k.today_revenue)||0)]})})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 mb-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-800 flex flex-col justify-between",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-violet-50 dark:bg-violet-900/20 flex items-center justify-center text-violet-600 dark:text-violet-400",children:e.jsx(Xe,{size:18})}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider",children:"Rev"}),e.jsxs("div",{className:"text-xs font-black text-violet-600",children:["",b((f==null?void 0:f.registrations.revenue_today)||0)]})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("h3",{className:"text-3xl font-black text-gray-900 dark:text-white tracking-tight leading-none",children:f==null?void 0:f.registrations.today}),e.jsx("p",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-wide mt-1",children:"Registrations"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-auto",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 rounded-xl p-2 text-center",children:[e.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Wait"}),e.jsx("div",{className:"text-sm font-black text-gray-700 dark:text-gray-200",children:f==null?void 0:f.registrations.breakdown.wait})]}),e.jsxs("div",{className:"bg-violet-50 dark:bg-violet-900/10 rounded-xl p-2 text-center",children:[e.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Done"}),e.jsx("div",{className:"text-sm font-black text-violet-600 dark:text-violet-400",children:f==null?void 0:f.registrations.breakdown.done})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-800 flex flex-col justify-between",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-teal-50 dark:bg-teal-900/20 flex items-center justify-center text-teal-600 dark:text-teal-400",children:e.jsx(ut,{size:18})}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider",children:"Rev"}),e.jsxs("div",{className:"text-xs font-black text-teal-600",children:["",b((f==null?void 0:f.patients.revenue_today)||0)]})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("h3",{className:"text-3xl font-black text-gray-900 dark:text-white tracking-tight leading-none",children:f==null?void 0:f.patients.today}),e.jsx("p",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-wide mt-1",children:"New Patients"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-auto",children:[e.jsxs("div",{className:"bg-teal-50 dark:bg-teal-900/10 rounded-xl p-2 text-center",children:[e.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Actv"}),e.jsx("div",{className:"text-sm font-black text-teal-600 dark:text-teal-400",children:f==null?void 0:f.patients.breakdown.active})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 rounded-xl p-2 text-center",children:[e.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Inac"}),e.jsx("div",{className:"text-sm font-black text-gray-700 dark:text-gray-200",children:f==null?void 0:f.patients.breakdown.inactive})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-800 flex flex-col justify-between",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-50 dark:bg-blue-900/20 flex items-center justify-center text-blue-600 dark:text-blue-400",children:e.jsx(ne,{size:18})}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider",children:"Rev"}),e.jsxs("div",{className:"text-xs font-black text-blue-600",children:["",b((f==null?void 0:f.tests.revenue_today)||0)]})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("h3",{className:"text-3xl font-black text-gray-900 dark:text-white tracking-tight leading-none",children:f==null?void 0:f.tests.today}),e.jsx("p",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-wide mt-1",children:"Tests"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-auto",children:[e.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/10 rounded-xl p-2 text-center",children:[e.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Pend"}),e.jsx("div",{className:"text-sm font-black text-orange-500",children:f==null?void 0:f.tests.breakdown.pending})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 rounded-xl p-2 text-center",children:[e.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Done"}),e.jsx("div",{className:"text-sm font-black text-blue-600 dark:text-blue-400",children:f==null?void 0:f.tests.breakdown.done})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-800 flex flex-col justify-between",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-rose-50 dark:bg-rose-900/20 flex items-center justify-center text-rose-500 dark:text-rose-400",children:e.jsx(Vo,{size:18})}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider",children:"Total"}),e.jsxs("div",{className:"text-xs font-black text-gray-700 dark:text-gray-300",children:["",b((f==null?void 0:f.expenses.total_spend)||0)]})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("h3",{className:"text-3xl font-black text-gray-900 dark:text-white tracking-tight leading-none",children:f!=null&&f.expenses.today_spend?f.expenses.total_count:0}),e.jsx("p",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-wide mt-1",children:"Expenses"})]}),e.jsx("div",{className:"mt-auto",children:e.jsxs("div",{className:"bg-rose-50 dark:bg-rose-900/10 rounded-xl p-2 flex items-center justify-between px-3",children:[e.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Today"}),e.jsxs("span",{className:"text-sm font-black text-rose-500",children:["",b((f==null?void 0:f.expenses.today_spend)||0)]})]})})]}),e.jsxs("div",{className:"col-span-2 lg:col-span-4 bg-white dark:bg-gray-800 p-4 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-800 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-pink-50 dark:bg-pink-900/20 flex items-center justify-center text-pink-500 dark:text-pink-400",children:e.jsx(ut,{size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide",children:"Sessions Today"}),e.jsx("h3",{className:"text-2xl font-black text-gray-900 dark:text-white leading-none mt-0.5",children:f==null?void 0:f.sessions.today})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Monthly"}),e.jsx("p",{className:"text-lg font-black text-pink-500",children:f==null?void 0:f.sessions.month})]})]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-800 overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"p-4 md:px-6 border-b border-gray-100 dark:border-gray-700 flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Analytics"}),e.jsx("div",{className:"flex p-1 bg-gray-50 dark:bg-gray-700/50 rounded-xl overflow-x-auto hide-scrollbar",children:[{id:"finance",label:"Finance"},{id:"plans",label:"Treatment"},{id:"services",label:"Services"},{id:"tests",label:"Tests"},{id:"expenses",label:"Expenses"}].map(C=>e.jsx("button",{onClick:()=>c(C.id),className:`px-4 py-1.5 rounded-lg text-[10px] font-bold uppercase tracking-wide transition-all whitespace-nowrap
                                    ${o===C.id?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm scale-100":"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 scale-95"}
                                `,children:C.label},C.id))})]}),e.jsxs("div",{className:"p-6 min-h-[480px] flex items-center justify-center",children:[o==="finance"&&e.jsxs("div",{className:"w-full h-96 flex flex-col",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h4",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider",children:"Revenue vs Expense"}),e.jsx("div",{className:"text-[10px] font-bold text-gray-400",children:"Last 30 Days"})]}),e.jsx("div",{className:"flex-1 min-h-0",children:e.jsx(Xf,{data:(n==null?void 0:n.charts.financial_growth)||[]})})]}),o==="plans"&&e.jsxs("div",{className:"w-full h-96",children:[e.jsx("h4",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider mb-2 text-center",children:"Patient Treatment Plans"}),e.jsx(Al,{data:(((E=n==null?void 0:n.charts)==null?void 0:E.treatment_plans)||[]).map(C=>({category:C.type,amount:C.count}))})]}),o==="services"&&e.jsxs("div",{className:"w-full h-96",children:[e.jsx("h4",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider mb-2 text-center",children:"Overall Service Mix"}),e.jsx(Al,{data:(((S=n==null?void 0:n.charts)==null?void 0:S.service_mix)||[]).map(C=>({category:C.type,amount:C.count}))})]}),o==="tests"&&e.jsxs("div",{className:"w-full h-96",children:[e.jsx("h4",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider mb-6 text-center",children:"Top 5 Diagnostic Tests"}),e.jsx(Yf,{data:(n==null?void 0:n.charts.test_types)||[]})]}),o==="expenses"&&e.jsxs("div",{className:"w-full h-96",children:[e.jsx("h4",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider mb-2 text-center",children:"Expense Breakdown"}),e.jsx(Al,{data:(n==null?void 0:n.charts.expense_analysis)||[]})]})]})]})}),e.jsx("div",{className:"h-20 md:hidden"})]})]})},ey="https://prospine.in/admin/mobile/api",ty=()=>{const{user:t}=G(),[r,a]=p.useState([]),[s,n]=p.useState(!0),[l,i]=p.useState({total:0,good:0,average:0,bad:0}),[d,o]=p.useState(""),[c,m]=p.useState("all");p.useEffect(()=>{t&&h()},[t,c,d]),p.useEffect(()=>{const y=setTimeout(()=>{t&&h()},500);return()=>clearTimeout(y)},[d]);const h=async()=>{try{n(!0);const y=t.employee_id||(t==null?void 0:t.id);let w=`${ey}/admin/feedback.php?action=fetch_feedback&user_id=${y}`;d&&(w+=`&search=${encodeURIComponent(d)}`),c!=="all"&&(w+=`&type=${c}`);const j=await(await fetch(w)).json();j.status==="success"?(a(j.data),i(j.stats)):a([])}catch(y){console.error(y)}finally{n(!1)}},x=y=>{switch(y){case"Good":return"bg-emerald-50 text-emerald-600 border-emerald-100 dark:bg-emerald-900/20 dark:text-emerald-400 dark:border-emerald-800";case"Average":return"bg-amber-50 text-amber-600 border-amber-100 dark:bg-amber-900/20 dark:text-amber-400 dark:border-amber-800";case"Bad":return"bg-rose-50 text-rose-600 border-rose-100 dark:bg-rose-900/20 dark:text-rose-400 dark:border-rose-800";default:return"bg-gray-50 text-gray-600 border-gray-100 dark:bg-gray-800 dark:text-gray-400"}},_=y=>{switch(y){case"Good":return e.jsx(Tn,{size:16,strokeWidth:2.5});case"Average":return e.jsx(Bi,{size:16,strokeWidth:2.5});case"Bad":return e.jsx(Pn,{size:16,strokeWidth:2.5});default:return e.jsx(Ot,{size:16})}};return e.jsxs("div",{className:"flex flex-col h-full bg-[#f8fafc] dark:bg-[#0f172a] transition-colors duration-200 font-sans",children:[e.jsxs("header",{className:"px-6 py-4 pt-10 sticky top-0 z-30 bg-white/80 dark:bg-[#0f172a]/80 backdrop-blur-md border-b border-gray-100 dark:border-gray-800",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Quality Control"}),e.jsx("h1",{className:"text-xl font-black text-gray-900 dark:text-white",children:"Patient Feedback"})]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(He,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:16}),e.jsx("input",{className:"w-full bg-gray-50 dark:bg-gray-800/50 rounded-xl py-3 pl-11 pr-4 text-sm font-semibold text-gray-900 dark:text-white border border-gray-200 dark:border-gray-700 focus:border-indigo-500 outline-none transition-all placeholder:text-gray-400",placeholder:"Search feedback...",value:d,onChange:y=>o(y.target.value)})]}),e.jsxs("div",{className:"flex bg-gray-100 dark:bg-gray-800 rounded-xl p-1",children:[e.jsx("button",{onClick:()=>m("all"),className:`p-2.5 rounded-lg transition-all ${c==="all"?"bg-white dark:bg-gray-700 shadow-sm text-gray-900 dark:text-white":"text-gray-400 hover:text-gray-600"}`,children:e.jsx(Lr,{size:16})}),e.jsx("button",{onClick:()=>m(c==="Good"?"all":"Good"),className:`p-2.5 rounded-lg transition-all ${c==="Good"?"bg-emerald-500 text-white shadow-sm":"text-gray-400 hover:text-emerald-500"}`,children:e.jsx(Tn,{size:16})}),e.jsx("button",{onClick:()=>m(c==="Bad"?"all":"Bad"),className:`p-2.5 rounded-lg transition-all ${c==="Bad"?"bg-rose-500 text-white shadow-sm":"text-gray-400 hover:text-rose-500"}`,children:e.jsx(Pn,{size:16})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3 px-6 pt-6",children:[e.jsxs("div",{className:"bg-emerald-50/50 dark:bg-emerald-900/10 p-4 rounded-2xl border border-emerald-100 dark:border-emerald-900/30 flex flex-col items-center justify-center",children:[e.jsx("span",{className:"text-2xl font-black text-emerald-600 dark:text-emerald-400",children:l.good}),e.jsx("span",{className:"text-[10px] font-bold text-emerald-600/60 dark:text-emerald-400/60 uppercase tracking-wider",children:"Good"})]}),e.jsxs("div",{className:"bg-amber-50/50 dark:bg-amber-900/10 p-4 rounded-2xl border border-amber-100 dark:border-amber-900/30 flex flex-col items-center justify-center",children:[e.jsx("span",{className:"text-2xl font-black text-amber-600 dark:text-amber-400",children:l.average}),e.jsx("span",{className:"text-[10px] font-bold text-amber-600/60 dark:text-amber-400/60 uppercase tracking-wider",children:"Neutral"})]}),e.jsxs("div",{className:"bg-rose-50/50 dark:bg-rose-900/10 p-4 rounded-2xl border border-rose-100 dark:border-rose-900/30 flex flex-col items-center justify-center",children:[e.jsx("span",{className:"text-2xl font-black text-rose-600 dark:text-rose-400",children:l.bad}),e.jsx("span",{className:"text-[10px] font-bold text-rose-600/60 dark:text-rose-400/60 uppercase tracking-wider",children:"Bad"})]})]}),e.jsx("main",{className:"flex-1 p-6 space-y-4 pb-24 overflow-y-auto",children:s?e.jsx("div",{className:"py-20 flex justify-center",children:e.jsx("div",{className:"w-8 h-8 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin"})}):r.length===0?e.jsx("div",{className:"py-20 text-center text-gray-400 font-medium",children:"No feedback found"}):r.map(y=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-5 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-50 dark:bg-indigo-900/30 flex items-center justify-center text-indigo-600 dark:text-indigo-400 font-bold text-sm",children:(y.patient_name||"A").charAt(0)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white text-sm leading-tight",children:y.patient_name}),e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide",children:new Date(y.created_at).toLocaleDateString()})]})]}),e.jsxs("div",{className:`px-2.5 py-1.5 rounded-xl border flex items-center gap-1.5 ${x(y.feedback_type)}`,children:[_(y.feedback_type),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-wide",children:y.feedback_type})]})]}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-3 rounded-xl mb-3",children:e.jsxs("p",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 italic",children:['"',y.comments||"No comments provided.",'"']})}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-50 dark:border-gray-700/50 mt-2",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] font-bold text-gray-400 uppercase",children:[e.jsx(vt,{size:10}),e.jsx("span",{children:y.branch_name||"Global"})]}),e.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] font-bold text-gray-400 uppercase",children:[e.jsx(X,{size:10}),e.jsxs("span",{children:[y.first_name," ",y.last_name]})]})]}),y.phone_number&&e.jsxs("a",{href:`tel:${y.phone_number}`,className:"flex items-center gap-1.5 px-3 py-2 bg-gradient-to-r from-teal-500 to-emerald-600 text-white rounded-xl shadow-lg shadow-teal-500/20 active:scale-95 transition-all",children:[e.jsx(we,{size:12,fill:"currentColor"}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-wide",children:"Call Patient"})]})]})]},y.feedback_id))})]})},Ol="https://prospine.in/admin/mobile/api",ry=()=>{const{user:t}=G(),[r,a]=p.useState([]),[s,n]=p.useState(!0),[l,i]=p.useState(!1),[d,o]=p.useState("all"),[c,m]=p.useState(""),[h,x]=p.useState(null),[_,y]=p.useState(!1),[w,z]=p.useState(""),[j,g]=p.useState(!1),[u,b]=p.useState(""),[f,v]=p.useState(""),[N,k]=p.useState("");p.useEffect(()=>{t&&E()},[t,d]);const E=async()=>{try{n(!0);const L=t.employee_id||(t==null?void 0:t.id);let T=`${Ol}/admin/issues.php?action=fetch_issues&user_id=${L}`;d!=="all"&&(T+=`&status=${d}`),c&&(T+=`&search=${encodeURIComponent(c)}`);const D=await(await fetch(T)).json();D.status==="success"&&(a(D.data),i(D.is_developer))}catch(L){console.error(L)}finally{n(!1)}},S=async()=>{if(w.trim()){g(!0);try{const L=t.employee_id||(t==null?void 0:t.id),W=await(await fetch(`${Ol}/admin/issues.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"report_issue",user_id:L,description:w})})).json();W.status==="success"?(y(!1),z(""),E()):alert(W.message)}catch(L){console.error(L)}finally{g(!1)}}},C=async()=>{if(h){g(!0);try{const T=await(await fetch(`${Ol}/admin/issues.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"update_issue",issue_id:h.issue_id,status:u,admin_response:f,release_schedule:N})})).json();T.status==="success"?(x(null),E()):alert(T.message)}catch(L){console.error(L)}finally{g(!1)}}},P=L=>{x(L),b(L.status),v(L.admin_response||""),k(L.release_schedule||"next_release")},M=L=>{switch(L){case"completed":return"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 border-green-200 dark:border-green-800";case"in_progress":return"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400 border-blue-200 dark:border-blue-800";default:return"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400 border-yellow-200 dark:border-yellow-800"}},B=L=>{switch(L){case"completed":return e.jsx(is,{size:14});case"in_progress":return e.jsx(pe,{size:14});default:return e.jsx(ms,{size:14})}};return e.jsxs("div",{className:"flex flex-col h-full bg-[#f8fafc] dark:bg-[#0f172a] transition-colors duration-200 font-sans",children:[e.jsxs("header",{className:"px-6 py-4 pt-10 sticky top-0 z-30 bg-white/80 dark:bg-[#0f172a]/80 backdrop-blur-md border-b border-gray-100 dark:border-gray-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"System Support"}),e.jsx("h1",{className:"text-xl font-black text-gray-900 dark:text-white",children:"Issue Tracker"})]}),!l&&e.jsx("button",{onClick:()=>y(!0),className:"bg-indigo-600 hover:bg-indigo-700 text-white p-2.5 rounded-xl shadow-lg shadow-indigo-500/30 transition-all active:scale-95",children:e.jsx(ox,{size:20})})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(He,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:16}),e.jsx("input",{className:"w-full bg-gray-50 dark:bg-gray-800/50 rounded-xl py-3 pl-11 pr-4 text-sm font-semibold text-gray-900 dark:text-white border border-gray-200 dark:border-gray-700 focus:border-indigo-500 outline-none",placeholder:"Search issues...",value:c,onChange:L=>m(L.target.value),onBlur:E})]}),e.jsx("div",{className:"flex bg-gray-100 dark:bg-gray-800 rounded-xl p-1 shrink-0",children:e.jsxs("button",{onClick:()=>o(L=>L==="all"?"pending":L==="pending"?"completed":"all"),className:"px-3 py-2 rounded-lg text-xs font-bold uppercase transition-all bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 shadow-sm flex items-center gap-2",children:[e.jsx(Lr,{size:14}),d==="all"?"All":d]})})]})]}),e.jsx("main",{className:"flex-1 p-6 space-y-4 pb-24 overflow-y-auto",children:s?e.jsx("div",{className:"py-20 flex justify-center",children:e.jsx("div",{className:"w-8 h-8 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin"})}):r.length===0?e.jsx("div",{className:"py-20 text-center text-gray-400 font-medium",children:"No issues found"}):r.map(L=>e.jsxs("div",{onClick:()=>l?P(L):x(L),className:"bg-white dark:bg-gray-800 p-4 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 active:scale-[0.99] transition-transform cursor-pointer",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:`px-2.5 py-1 rounded-lg border text-[10px] font-black uppercase tracking-wider flex items-center gap-1.5 ${M(L.status)}`,children:[B(L.status),L.status.replace("_"," ")]}),e.jsxs("span",{className:"text-[10px] font-bold text-gray-400",children:["#",L.issue_id]})]}),e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white text-sm mb-2 line-clamp-2 leading-snug",children:L.description}),L.admin_response&&e.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-2.5 rounded-xl mb-3 flex gap-2",children:[e.jsx(ua,{size:14,className:"text-indigo-600 dark:text-indigo-400 shrink-0 mt-0.5"}),e.jsxs("p",{className:"text-xs text-indigo-800 dark:text-indigo-300 font-medium leading-relaxed",children:[e.jsx("span",{className:"font-bold opacity-70 block text-[10px] uppercase mb-0.5",children:"Dev Response"}),L.admin_response]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-50 dark:border-gray-700/50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center text-[10px] font-bold text-gray-500",children:L.reported_by_name.charAt(0)}),e.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase",children:L.reported_by_name})]}),e.jsx("span",{className:"text-[10px] font-bold text-gray-400",children:new Date(L.created_at).toLocaleDateString()})]})]},L.issue_id))}),h&&l&&e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center p-4 sm:p-6",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>x(null)}),e.jsxs("div",{className:"relative w-full max-w-lg bg-white dark:bg-gray-800 rounded-3xl shadow-2xl overflow-hidden animate-in slide-in-from-bottom-10 fade-in duration-300",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[e.jsxs("h3",{className:"font-black text-gray-900 dark:text-white text-lg",children:["Manage Issue #",h.issue_id]}),e.jsx("button",{onClick:()=>x(null),className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:e.jsx(Te,{size:20,className:"text-gray-500"})})]}),e.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-4 rounded-xl border border-dashed border-gray-200 dark:border-gray-700",children:[e.jsx("p",{className:"text-xs uppercase font-bold text-gray-400 mb-1",children:"Reported Issue"}),e.jsx("p",{className:"text-sm font-medium text-gray-800 dark:text-gray-200 leading-relaxed",children:h.description})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase mb-1.5 block",children:"Status"}),e.jsxs("select",{value:u,onChange:L=>b(L.target.value),className:"w-full bg-gray-50 dark:bg-gray-700 rounded-xl p-3 text-sm font-bold text-gray-900 dark:text-white border-none outline-none focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"in_progress",children:"In Progress"}),e.jsx("option",{value:"completed",children:"Completed"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase mb-1.5 block",children:"Schedule"}),e.jsxs("select",{value:N,onChange:L=>k(L.target.value),className:"w-full bg-gray-50 dark:bg-gray-700 rounded-xl p-3 text-sm font-bold text-gray-900 dark:text-white border-none outline-none focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"immediate",children:"Immediate"}),e.jsx("option",{value:"nightly",children:"Nightly Build"}),e.jsx("option",{value:"next_release",children:"Next Release"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase mb-1.5 block",children:"Dev Response"}),e.jsx("textarea",{rows:4,value:f,onChange:L=>v(L.target.value),placeholder:"Explain the fix or request info...",className:"w-full bg-gray-50 dark:bg-gray-700 rounded-xl p-3 text-sm font-medium text-gray-900 dark:text-white border-none outline-none focus:ring-2 focus:ring-indigo-500 resize-none"})]})]}),e.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-800/50 border-t border-gray-100 dark:border-gray-700",children:e.jsx("button",{onClick:C,disabled:j,className:"w-full py-3.5 bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-xl shadow-lg shadow-indigo-500/20 active:scale-[0.98] transition-all disabled:opacity-50",children:j?"Saving...":"Update Issue"})})]})]}),h&&!l&&e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center p-4 sm:p-6",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>x(null)}),e.jsxs("div",{className:"relative w-full max-w-lg bg-white dark:bg-gray-800 rounded-3xl shadow-2xl overflow-hidden animate-in slide-in-from-bottom-10 fade-in duration-300",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center",children:[e.jsx("h3",{className:"font-black text-gray-900 dark:text-white text-lg",children:"Issue Details"}),e.jsx("button",{onClick:()=>x(null),className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:e.jsx(Te,{size:20,className:"text-gray-500"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase mb-1",children:"Description"}),e.jsx("p",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:h.description})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase mb-1",children:"Status"}),e.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs font-bold uppercase ${M(h.status)}`,children:h.status.replace("_"," ")})]}),h.release_schedule&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase mb-1",children:"Target Release"}),e.jsx("span",{className:"text-xs font-bold text-gray-700 dark:text-gray-300 capitalize",children:h.release_schedule.replace("_"," ")})]})]}),h.admin_response&&e.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/10 p-4 rounded-xl",children:[e.jsx("h4",{className:"text-xs font-bold text-indigo-500 uppercase mb-1",children:"Developer Response"}),e.jsx("p",{className:"text-xs font-medium text-indigo-800 dark:text-indigo-300",children:h.admin_response})]})]})]})]}),_&&e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center p-4 sm:p-6",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>y(!1)}),e.jsxs("div",{className:"relative w-full max-w-lg bg-white dark:bg-gray-800 rounded-3xl shadow-2xl overflow-hidden animate-in slide-in-from-bottom-10 fade-in duration-300",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-black text-gray-900 dark:text-white text-lg",children:"Report New Issue"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:"Found a bug or need a feature?"})]}),e.jsx("button",{onClick:()=>y(!1),className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:e.jsx(Te,{size:20,className:"text-gray-500"})})]}),e.jsx("div",{className:"p-6",children:e.jsx("textarea",{rows:6,autoFocus:!0,value:w,onChange:L=>z(L.target.value),placeholder:"Describe the issue in detail...",className:"w-full bg-gray-50 dark:bg-gray-700 rounded-xl p-4 text-sm font-medium text-gray-900 dark:text-white border-2 border-transparent focus:border-indigo-500 outline-none resize-none placeholder:text-gray-400"})}),e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800/50 border-t border-gray-100 dark:border-gray-700 flex gap-3",children:[e.jsx("button",{onClick:()=>y(!1),className:"flex-1 py-3.5 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 font-bold rounded-xl transition-colors",children:"Cancel"}),e.jsx("button",{onClick:S,disabled:j||!w.trim(),className:"flex-1 py-3.5 bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-xl shadow-lg shadow-indigo-500/20 active:scale-[0.98] transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:j?"Sending...":e.jsxs(e.Fragment,{children:[e.jsx(hx,{size:18})," Submit Report"]})})]})]})]})]})},ay=()=>{var o;const t=ee(),{user:r,logout:a}=G(),[s,n]=p.useState(!1),l=()=>{n(!0)},i=()=>{a(),t("/login")},d=[{id:"home",label:"Home",desc:"Dashboard Overview",icon:e.jsx(Wo,{size:22}),color:"from-blue-500 to-blue-600",bg:"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400",link:"/admin/dashboard"},{id:"patients",label:"Patients",desc:"Directory & Dues",icon:e.jsx(X,{size:22}),color:"from-emerald-500 to-emerald-600",bg:"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400",link:"/admin/patients"},{id:"chat",label:"Chat",desc:"Team Communication",icon:e.jsx(Ot,{size:22}),color:"from-teal-500 to-teal-600",bg:"bg-teal-100 dark:bg-teal-900/30 text-teal-600 dark:text-teal-400",link:"/admin/chat"},{id:"ledger",label:"Ledger",desc:"Financial Records",icon:e.jsx(lx,{size:22}),color:"from-purple-500 to-purple-600",bg:"bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400",link:"/admin/ledger"},{id:"expenses",label:"Expenses",desc:"Approvals & Ops",icon:e.jsx(Le,{size:22}),color:"from-emerald-500 to-emerald-600",bg:"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400",link:"/admin/expenses"},{id:"staff",label:"Staff",desc:"Member Directory",icon:e.jsx(ut,{size:22}),color:"from-orange-500 to-orange-600",bg:"bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400",link:"/admin/staff"},{id:"attendance",label:"Attendance",desc:"Approvals Queue",icon:e.jsx(re,{size:22}),color:"from-amber-500 to-amber-600",bg:"bg-amber-100 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400",link:"/admin/attendance"},{id:"branches",label:"Branches",desc:"Clinic Network",icon:e.jsx(At,{size:22}),color:"from-teal-500 to-teal-600",bg:"bg-teal-100 dark:bg-teal-900/30 text-teal-600 dark:text-teal-400",link:"/admin/branches"},{id:"referrals",label:"Referrals",desc:"Partner Mgmt",icon:e.jsx(gf,{size:22}),color:"from-blue-500 to-blue-600",bg:"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400",link:"/admin/referrals"},{id:"reception-config",label:"Reception",desc:"Master Data",icon:e.jsx(fx,{size:22}),color:"from-cyan-500 to-cyan-600",bg:"bg-cyan-100 dark:bg-cyan-900/30 text-cyan-600 dark:text-cyan-400",link:"/admin/settings/reception"},{id:"feedback",label:"Feedback",desc:"Patient Ratings",icon:e.jsx(Ot,{size:22}),color:"from-pink-500 to-pink-600",bg:"bg-pink-100 dark:bg-pink-900/30 text-pink-600 dark:text-pink-400",link:"/admin/feedback"},{id:"issues",label:"Issues",desc:"System Bugs",icon:e.jsx(ox,{size:22}),color:"from-rose-500 to-rose-600",bg:"bg-rose-100 dark:bg-rose-900/30 text-rose-600 dark:text-rose-400",link:"/admin/issues"}];return e.jsxs("div",{className:"flex flex-col h-full bg-gray-50 dark:bg-gray-900 transition-colors pb-[env(safe-area-inset-bottom)]",children:[e.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-md px-6 py-4 pt-[max(env(safe-area-inset-top),20px)] shadow-sm sticky top-0 z-20 border-b border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-indigo-50 dark:bg-indigo-900/20 rounded-xl",children:e.jsx(cx,{size:24,className:"text-indigo-600 dark:text-indigo-400"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-black text-gray-900 dark:text-white tracking-tight",children:"Menu"}),e.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:"Admin Controls"})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 pb-24 custom-scrollbar",children:[e.jsxs("div",{className:"mb-6 bg-white dark:bg-gray-800 p-4 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-tr from-teal-400 to-teal-600 flex items-center justify-center text-white font-bold text-xl shadow-lg shadow-teal-500/30",children:((o=r==null?void 0:r.name)==null?void 0:o.charAt(0))||"A"}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-black text-gray-900 dark:text-white text-lg leading-tight",children:(r==null?void 0:r.name)||"Admin"}),e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:(r==null?void 0:r.role)||"Administrator"})]})]}),e.jsx("button",{onClick:l,className:"p-3 rounded-full bg-red-50 dark:bg-red-900/20 text-red-500 hover:bg-red-100 dark:hover:bg-red-900/40 transition-colors active:scale-95",title:"Logout",children:e.jsx(Ln,{size:20})})]}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:d.map((c,m)=>e.jsxs("button",{onClick:()=>t(c.link),className:"group relative bg-white dark:bg-gray-800 p-3 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 flex flex-col items-center justify-center text-center aspect-square hover:shadow-lg hover:-translate-y-1 transition-all duration-300",style:{animationDelay:`${m*50}ms`},children:[e.jsx("div",{className:`p-3 rounded-2xl mb-2 ${c.bg} group-hover:scale-110 transition-transform duration-300 shadow-sm`,children:c.icon}),e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white text-[11px] leading-tight",children:c.label}),e.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-br from-white/0 to-gray-50/50 dark:from-transparent dark:to-gray-700/10 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"})]},c.id))}),e.jsxs("div",{className:"mt-8 mb-6 text-center",children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-0.5",children:"CareSyncOS Admin"}),e.jsx("p",{className:"text-xs font-bold text-gray-600 dark:text-gray-300",children:"v2.5.0"})]})]}),s&&e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity",onClick:()=>n(!1)}),e.jsxs("div",{className:"relative bg-white dark:bg-gray-800 w-full max-w-sm rounded-3xl shadow-2xl p-6 animate-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 text-red-500 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Ln,{size:28,strokeWidth:2.5})}),e.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white mb-2",children:"Logout?"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:"Are you sure you want to sign out of your admin account?"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("button",{onClick:()=>n(!1),className:"py-3.5 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 font-bold rounded-2xl transition-colors active:scale-95",children:"Cancel"}),e.jsx("button",{onClick:i,className:"py-3.5 bg-red-500 hover:bg-red-600 text-white font-bold rounded-2xl shadow-lg shadow-red-500/20 transition-all active:scale-95",children:"Yes, Logout"})]})]})]})]})},sy="https://prospine.in/admin/mobile/api",ny=()=>{const{user:t}=G(),[r,a]=p.useState(!0),[s,n]=p.useState(null),[l,i]=p.useState([]),d=new Date,o=new Date(d.getFullYear(),d.getMonth(),1),c=new Date(d.getFullYear(),d.getMonth()+1,0),[m,h]=p.useState(o.toISOString().split("T")[0]),[x,_]=p.useState(c.toISOString().split("T")[0]),[y,w]=p.useState(null),z=async()=>{a(!0);try{const b=new URLSearchParams,f=(t==null?void 0:t.branch_id)||1;b.append("branch_id",f.toString()),b.append("start_date",m),b.append("end_date",x);const N=await(await fetch(`${sy}/admin/ledger.php?${b.toString()}`)).json();N.status==="success"&&(n(N.summary),i(N.ledger))}catch(b){console.error("Failed to fetch ledger",b)}finally{a(!1)}};p.useEffect(()=>{z()},[]);const j=b=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2,maximumFractionDigits:2}).format(b),g=b=>{const f=new Date(b);return{day:f.getDate(),month:f.toLocaleString("default",{month:"short"}),year:f.getFullYear(),weekday:f.toLocaleString("default",{weekday:"long"})}},u=b=>{w(y===b?null:b)};return e.jsxs("div",{className:"flex flex-col h-full bg-gray-50 dark:bg-gray-900",children:[e.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-xl sticky top-0 z-30 border-b border-gray-200 dark:border-gray-700 pb-2 pt-[max(env(safe-area-inset-top),16px)]",children:[e.jsxs("div",{className:"px-4 flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-black text-gray-900 dark:text-white tracking-tight",children:"Financial Ledger"}),e.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest",children:"Real-time Overview"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest",children:"Balance"}),e.jsx("p",{className:"text-lg font-black text-teal-600 dark:text-teal-400 tracking-tight",children:s?j(s.current_balance):"..."})]})]}),e.jsxs("div",{className:"px-4 pb-2 flex items-center gap-2 overflow-x-auto no-scrollbar",children:[e.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 dark:bg-gray-700/50 p-1 rounded-xl flex-1",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(fe,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"date",value:m,onChange:b=>h(b.target.value),className:"w-full bg-transparent border-none text-xs font-bold text-gray-900 dark:text-white pl-8 pr-2 focus:ring-0"})]}),e.jsx("span",{className:"text-gray-400 text-xs",children:"-"}),e.jsx("div",{className:"relative flex-1",children:e.jsx("input",{type:"date",value:x,onChange:b=>_(b.target.value),className:"w-full bg-transparent border-none text-xs font-bold text-gray-900 dark:text-white pl-2 pr-2 focus:ring-0 text-right"})})]}),e.jsx("button",{onClick:z,className:"bg-gray-900 dark:bg-white text-white dark:text-gray-900 p-2.5 rounded-xl shadow-lg hover:scale-105 transition-transform",children:e.jsx(Lr,{size:16})})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar pb-24",children:r&&!s?e.jsx("div",{className:"flex justify-center py-20",children:e.jsx(En,{className:"animate-spin text-teal-500",size:32})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-800 mb-6 overflow-hidden",children:e.jsxs("div",{className:"grid grid-cols-3 divide-x divide-gray-100 dark:divide-gray-700",children:[e.jsxs("div",{className:"p-4 flex flex-col items-center justify-center text-center group hover:bg-emerald-50/30 dark:hover:bg-emerald-900/10 transition-colors",children:[e.jsx("div",{className:"mb-2 p-2 bg-emerald-50 dark:bg-emerald-900/20 rounded-full text-emerald-600 dark:text-emerald-400",children:e.jsx(hs,{size:16})}),e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Income"}),e.jsx("h3",{className:"text-sm md:text-lg font-black text-gray-900 dark:text-white tracking-tight",children:j((s==null?void 0:s.total_income)||0)})]}),e.jsxs("div",{className:"p-4 flex flex-col items-center justify-center text-center group hover:bg-rose-50/30 dark:hover:bg-rose-900/10 transition-colors",children:[e.jsx("div",{className:"mb-2 p-2 bg-rose-50 dark:bg-rose-900/20 rounded-full text-rose-500 dark:text-rose-400",children:e.jsx(ff,{size:16})}),e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Expenses"}),e.jsx("h3",{className:"text-sm md:text-lg font-black text-gray-900 dark:text-white tracking-tight",children:j((s==null?void 0:s.total_expenses)||0)})]}),e.jsxs("div",{className:"p-4 flex flex-col items-center justify-center text-center group hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors relative overflow-hidden",children:[e.jsx("div",{className:"mb-2 p-2 bg-gray-100 dark:bg-gray-700 rounded-full text-gray-600 dark:text-gray-300",children:e.jsx(Le,{size:16})}),e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Net"}),e.jsxs("h3",{className:`text-sm md:text-lg font-black tracking-tight ${((s==null?void 0:s.net_profit_loss)||0)>=0?"text-teal-600 dark:text-teal-400":"text-rose-600 dark:text-rose-400"}`,children:[((s==null?void 0:s.net_profit_loss)||0)>=0?"+":"",j((s==null?void 0:s.net_profit_loss)||0)]})]})]})}),e.jsx("div",{className:"space-y-3",children:l.length>0?l.map(b=>{const f=g(b.date),v=y===b.date;return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-800 overflow-hidden",children:[e.jsxs("div",{onClick:()=>u(b.date),className:"p-4 flex flex-col gap-4 cursor-pointer active:bg-gray-50 dark:active:bg-gray-700/30 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"w-12 h-12 rounded-2xl bg-gray-50 dark:bg-gray-700 border border-gray-100 dark:border-gray-600 flex flex-col items-center justify-center text-center",children:[e.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase leading-none",children:f.month}),e.jsx("span",{className:"text-xl font-black text-gray-900 dark:text-white leading-none mt-0.5",children:f.day})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:f.weekday}),e.jsx("p",{className:"text-xs text-gray-400 font-medium",children:f.year})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Total Closing"}),e.jsx("p",{className:"text-base font-black text-gray-900 dark:text-white",children:j(b.closing_balance.total)})]}),e.jsx("div",{className:`p-2 rounded-full bg-gray-100 dark:bg-gray-700 transition-transform duration-300 ${v?"rotate-180":""}`,children:e.jsx(ht,{size:16,className:"text-gray-500"})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-gray-50 dark:border-gray-700/50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-50 dark:bg-orange-900/20 flex items-center justify-center text-orange-500 shrink-0",children:e.jsx(ls,{size:14})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-wide",children:"Cash In Hand"}),e.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:j(b.closing_balance.cash)})]})]}),e.jsxs("div",{className:"flex items-center gap-3 justify-end md:justify-start",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-50 dark:bg-blue-900/20 flex items-center justify-center text-blue-500 shrink-0 order-last md:order-first",children:e.jsx(dr,{size:14})}),e.jsxs("div",{className:"text-right md:text-left",children:[e.jsx("p",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-wide",children:"Bank / Online"}),e.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:j(b.closing_balance.online)})]})]})]})]}),v&&e.jsxs("div",{className:"border-t border-gray-100 dark:border-gray-800 bg-gray-50/50 dark:bg-gray-900/50 p-5 space-y-6 animate-in slide-in-from-top-2 duration-200",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-100 dark:border-gray-700 overflow-hidden",children:[e.jsx("div",{className:"px-4 py-2 bg-gray-50/80 dark:bg-gray-700/50 border-b border-gray-100 dark:border-gray-700",children:e.jsx("h4",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Daily Balance Sheet"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-xs whitespace-nowrap",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-50 dark:border-gray-700",children:[e.jsx("th",{className:"px-3 py-2 text-left font-bold text-gray-400 uppercase",children:"Type"}),e.jsx("th",{className:"px-3 py-2 text-right font-bold text-gray-400 uppercase",children:"Open"}),e.jsx("th",{className:"px-3 py-2 text-right font-bold text-emerald-500 uppercase",children:"Cr"}),e.jsx("th",{className:"px-3 py-2 text-right font-bold text-rose-500 uppercase",children:"Dr"}),e.jsx("th",{className:"px-3 py-2 text-right font-bold text-gray-400 uppercase",children:"Close"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-50 dark:divide-gray-700/50 font-medium",children:[e.jsxs("tr",{children:[e.jsxs("td",{className:"px-3 py-2 flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-orange-500 shrink-0"})," Cash"]}),e.jsx("td",{className:"px-3 py-2 text-right text-gray-500",children:b.opening_balance.cash.toLocaleString("en-IN")}),e.jsx("td",{className:"px-3 py-2 text-right text-emerald-600",children:b.credits.cash.toLocaleString("en-IN")}),e.jsx("td",{className:"px-3 py-2 text-right text-rose-600",children:b.debits.cash.toLocaleString("en-IN")}),e.jsx("td",{className:"px-3 py-2 text-right font-bold text-gray-900 dark:text-white",children:b.closing_balance.cash.toLocaleString("en-IN")})]}),e.jsxs("tr",{children:[e.jsxs("td",{className:"px-3 py-2 flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500 shrink-0"})," Online"]}),e.jsx("td",{className:"px-3 py-2 text-right text-gray-500",children:b.opening_balance.online.toLocaleString("en-IN")}),e.jsx("td",{className:"px-3 py-2 text-right text-emerald-600",children:b.credits.online.toLocaleString("en-IN")}),e.jsx("td",{className:"px-3 py-2 text-right text-rose-600",children:b.debits.online.toLocaleString("en-IN")}),e.jsx("td",{className:"px-3 py-2 text-right font-bold text-gray-900 dark:text-white",children:b.closing_balance.online.toLocaleString("en-IN")})]}),e.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700/20 font-bold",children:[e.jsx("td",{className:"px-3 py-2",children:"Total"}),e.jsx("td",{className:"px-3 py-2 text-right",children:b.opening_balance.total.toLocaleString("en-IN")}),e.jsx("td",{className:"px-3 py-2 text-right text-emerald-600",children:b.credits.total.toLocaleString("en-IN")}),e.jsx("td",{className:"px-3 py-2 text-right text-rose-600",children:b.debits.total.toLocaleString("en-IN")}),e.jsx("td",{className:"px-3 py-2 text-right",children:b.closing_balance.total.toLocaleString("en-IN")})]})]})]})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-3 pl-1",children:"Transactions"}),e.jsx("div",{className:"space-y-2",children:b.transactions.map((N,k)=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-xl border border-gray-100 dark:border-gray-700 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center shrink-0 
                                                                        ${N.method==="cash"?"bg-orange-50 text-orange-500 dark:bg-orange-900/20":"bg-blue-50 text-blue-500 dark:bg-blue-900/20"}`,children:N.method==="cash"?e.jsx(ls,{size:18}):e.jsx(dr,{size:18})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-xs font-bold text-gray-900 dark:text-white truncate max-w-[180px] sm:max-w-xs",children:N.description}),e.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[e.jsx("span",{className:"text-[10px] bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400 px-1.5 py-0.5 rounded font-medium",children:N.time}),e.jsx("span",{className:"text-[10px] text-gray-400 uppercase tracking-wide",children:N.method})]})]})]}),e.jsx("div",{className:"text-right pl-2",children:N.credit>0?e.jsx("div",{className:"text-emerald-600 dark:text-emerald-400 flex flex-col items-end",children:e.jsxs("div",{className:"flex items-center gap-0.5",children:[e.jsx(Bh,{size:12}),e.jsxs("span",{className:"text-sm font-black",children:["+",N.credit]})]})}):e.jsx("div",{className:"text-rose-600 dark:text-rose-400 flex flex-col items-end",children:e.jsxs("div",{className:"flex items-center gap-0.5",children:[e.jsx(Hh,{size:12}),e.jsxs("span",{className:"text-sm font-black",children:["-",N.debit]})]})})})]},k))})]})]})]},b.date)}):e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-400 text-sm",children:"No transactions found for this period."})})})]})})]})},Fs="https://prospine.in/admin/mobile/api",ly=()=>{const{user:t}=G(),[r,a]=p.useState(!0),[s,n]=p.useState("clinic"),[l,i]=p.useState([]),[d,o]=p.useState({total_amount:0}),[c,m]=p.useState([]),[h,x]=p.useState(!1),[_,y]=p.useState(!1),[w,z]=p.useState({branch_id:(t==null?void 0:t.branch_id)||"",category:"",expense_date:new Date().toISOString().split("T")[0],amount:"",payment_method:"cash",cheque_details:"",paid_to:"",description:""}),j=new Date,[g,u]=p.useState(new Date(j.getFullYear(),j.getMonth(),1).toISOString().split("T")[0]),[b,f]=p.useState(new Date(j.getFullYear(),j.getMonth()+1,0).toISOString().split("T")[0]);p.useEffect(()=>{(async()=>{if(t!=null&&t.employee_id)try{const M=await(await fetch(`${Fs}/admin/expenses.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"get_branches",user_id:t.employee_id})})).json();M.status==="success"&&m(M.data)}catch(P){console.error("Failed to fetch branches",P)}})()},[t==null?void 0:t.employee_id]);const v=async()=>{a(!0);try{const C=new URLSearchParams;C.append("type",s),C.append("start_date",g),C.append("end_date",b),t!=null&&t.branch_id&&C.append("branch_id",t.branch_id.toString());const M=await(await fetch(`${Fs}/admin/expenses.php?${C.toString()}`)).json();M.status==="success"&&(i(M.data),o(M.stats))}catch(C){console.error("Failed to fetch expenses",C)}finally{a(!1)}};p.useEffect(()=>{v()},[s]);const N=async(C,P)=>{try{i(L=>L.map(T=>T.expense_id===C?{...T,status:P}:T));const B=await(await fetch(`${Fs}/admin/expenses.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"update_status",expense_id:C,status:P,user_id:t==null?void 0:t.employee_id})})).json();B.status!=="success"&&(v(),alert("Failed to update status: "+B.message))}catch(M){console.error(M),v()}},k=async C=>{C.preventDefault(),y(!0);try{const M=await(await fetch(`${Fs}/admin/expenses.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"create_admin_expense",user_id:t==null?void 0:t.employee_id,...w})})).json();M.status==="success"?(x(!1),z({branch_id:(t==null?void 0:t.branch_id)||"",category:"",expense_date:new Date().toISOString().split("T")[0],amount:"",payment_method:"cash",cheque_details:"",paid_to:"",description:""}),v(),alert("Expense added successfully")):alert("Error: "+M.message)}catch(P){console.error(P),alert("Failed to create expense")}finally{y(!1)}},E=C=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2}).format(C),S=C=>{switch(C){case"approved":return"bg-emerald-50 text-emerald-600 border-emerald-100 dark:bg-emerald-900/20 dark:text-emerald-400 dark:border-emerald-900/30";case"rejected":return"bg-rose-50 text-rose-600 border-rose-100 dark:bg-rose-900/20 dark:text-rose-400 dark:border-rose-900/30";case"paid":return"bg-blue-50 text-blue-600 border-blue-100 dark:bg-blue-900/20 dark:text-blue-400 dark:border-blue-900/30";default:return"bg-amber-50 text-amber-600 border-amber-100 dark:bg-amber-900/20 dark:text-amber-400 dark:border-amber-900/30"}};return e.jsxs("div",{className:"flex flex-col h-full bg-gray-50 dark:bg-gray-900",children:[e.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-xl sticky top-0 z-30 border-b border-gray-200 dark:border-gray-700 pb-2 pt-[max(env(safe-area-inset-top),16px)]",children:[e.jsxs("div",{className:"px-4 mb-4 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-black text-gray-900 dark:text-white tracking-tight",children:"Expenses"}),e.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest",children:"Manage & Approve"})]}),s==="admin"&&e.jsx("button",{onClick:()=>x(!0),className:"bg-indigo-600 hover:bg-indigo-700 text-white p-2.5 rounded-full shadow-lg shadow-indigo-500/30 active:scale-95 transition-all",children:e.jsx(gr,{size:24})})]}),e.jsx("div",{className:"px-4 mb-4",children:e.jsxs("div",{className:"flex p-1 bg-gray-100 dark:bg-gray-700 rounded-xl",children:[e.jsx("button",{onClick:()=>n("clinic"),className:`flex-1 py-2 text-xs font-bold rounded-lg transition-all ${s==="clinic"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:"Clinic (Reception)"}),e.jsx("button",{onClick:()=>n("admin"),className:`flex-1 py-2 text-xs font-bold rounded-lg transition-all ${s==="admin"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:"Admin (Operational)"})]})}),e.jsxs("div",{className:"px-4 pb-2 flex items-center gap-2 overflow-x-auto no-scrollbar",children:[e.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 dark:bg-gray-700/50 p-1 rounded-xl flex-1 min-w-[200px]",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(fe,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"date",value:g,onChange:C=>u(C.target.value),className:"w-full bg-transparent border-none text-xs font-bold text-gray-900 dark:text-white pl-8 pr-2 focus:ring-0"})]}),e.jsx("span",{className:"text-gray-400 text-xs",children:"-"}),e.jsx("div",{className:"relative flex-1",children:e.jsx("input",{type:"date",value:b,onChange:C=>f(C.target.value),className:"w-full bg-transparent border-none text-xs font-bold text-gray-900 dark:text-white pl-2 pr-2 focus:ring-0 text-right"})})]}),e.jsx("button",{onClick:v,className:"bg-gray-900 dark:bg-white text-white dark:text-gray-900 p-2.5 rounded-xl shadow-lg hover:scale-105 transition-transform",children:e.jsx(Lr,{size:16})})]})]}),e.jsx("div",{className:"px-4 pt-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-600 dark:from-indigo-600 dark:to-purple-700 p-5 rounded-3xl shadow-lg text-white",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("div",{className:"p-2 bg-white/20 rounded-xl",children:e.jsx(Le,{size:20})}),e.jsx("span",{className:"text-[10px] font-bold bg-white/20 px-2 py-1 rounded-full uppercase tracking-wide",children:s==="clinic"?"Clinic Total":"Admin Total"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-white/60 uppercase tracking-widest",children:"Total Expenses"}),e.jsx("h3",{className:"text-2xl font-black tracking-tight mt-1",children:E(d.total_amount)})]})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 custom-scrollbar pb-24",children:r?e.jsx("div",{className:"flex justify-center py-10",children:e.jsx(En,{className:"animate-spin text-indigo-500",size:32})}):l.length>0?l.map(C=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-800",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-50 dark:bg-gray-700 flex items-center justify-center text-gray-500 text-xs font-bold",children:new Date(C.expense_date).getDate()}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-gray-900 dark:text-white",children:new Date(C.expense_date).toLocaleString("default",{month:"short",year:"numeric"})}),e.jsx("p",{className:"text-[10px] text-gray-400 font-medium",children:C.voucher_no})]})]}),e.jsxs("div",{className:`px-2.5 py-1 rounded-full text-[10px] font-bold border ${S(C.status)} capitalize flex items-center gap-1`,children:[C.status==="approved"&&e.jsx(re,{size:10}),C.status==="rejected"&&e.jsx(it,{size:10}),C.status==="pending"&&e.jsx(pe,{size:10}),C.status]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-900 dark:text-white line-clamp-1",children:C.paid_to}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5 line-clamp-1",children:C.description||C.expense_for}),e.jsxs("div",{className:"flex items-center gap-4 mt-3",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-500",children:[e.jsx(Qh,{size:12}),e.jsx("span",{children:C.branch_name})]}),e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-500",children:[e.jsx(Xh,{size:12}),e.jsx("span",{children:C.creator_username.split(" ")[0]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-50 dark:border-gray-700/50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[C.payment_method==="cash"?e.jsx(ls,{size:16,className:"text-orange-400"}):e.jsx(dr,{size:16,className:"text-blue-400"}),e.jsx("span",{className:"text-lg font-black text-gray-900 dark:text-white",children:E(C.amount)})]}),s==="clinic"&&C.status==="pending"&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>N(C.expense_id,"approved"),className:"px-3 py-1.5 bg-emerald-500 text-white rounded-lg text-xs font-bold shadow-md shadow-emerald-500/20 active:scale-95 transition-transform",children:"Approve"}),e.jsx("button",{onClick:()=>N(C.expense_id,"rejected"),className:"px-3 py-1.5 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded-lg text-xs font-bold active:scale-95 transition-transform",children:"Reject"})]})]})]},C.expense_id)):e.jsxs("div",{className:"text-center py-20",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Xe,{className:"text-gray-400",size:24})}),e.jsx("h3",{className:"text-gray-900 dark:text-white font-bold",children:"No Expenses"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Try adjusting your filters."})]})}),h&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 w-full max-w-lg rounded-3xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[e.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center",children:[e.jsx("h2",{className:"text-lg font-black text-gray-900 dark:text-white",children:"New Operational Expense"}),e.jsx("button",{onClick:()=>x(!1),className:"p-2 text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full",children:e.jsx(Te,{size:20})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar",children:e.jsxs("form",{id:"expenseForm",onSubmit:k,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Branch"}),e.jsxs("select",{value:w.branch_id,onChange:C=>z({...w,branch_id:C.target.value}),className:"w-full mt-1 p-3 bg-gray-50 dark:bg-gray-900 rounded-xl text-sm font-bold border-none ring-1 ring-gray-200 dark:ring-gray-700 focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"",children:"Select Branch"}),c.map(C=>e.jsx("option",{value:C.branch_id,children:C.branch_name},C.branch_id))]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Date"}),e.jsx("input",{type:"date",required:!0,value:w.expense_date,onChange:C=>z({...w,expense_date:C.target.value}),className:"w-full mt-1 p-3 bg-gray-50 dark:bg-gray-900 rounded-xl text-sm font-bold border-none ring-1 ring-gray-200 dark:ring-gray-700 focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Amount ()"}),e.jsx("input",{type:"number",required:!0,placeholder:"0.00",value:w.amount,onChange:C=>z({...w,amount:C.target.value}),className:"w-full mt-1 p-3 bg-gray-50 dark:bg-gray-900 rounded-xl text-sm font-bold border-none ring-1 ring-gray-200 dark:ring-gray-700 focus:ring-2 focus:ring-indigo-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Category"}),e.jsxs("select",{required:!0,value:w.category,onChange:C=>z({...w,category:C.target.value}),className:"w-full mt-1 p-3 bg-gray-50 dark:bg-gray-900 rounded-xl text-sm font-bold border-none ring-1 ring-gray-200 dark:ring-gray-700 focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"",children:"Select Category"}),e.jsx("option",{value:"Salary",children:"Salary / Wages"}),e.jsx("option",{value:"Rent",children:"Rent"}),e.jsx("option",{value:"Electricity",children:"Electricity Bill"}),e.jsx("option",{value:"Internet",children:"Internet / WiFi"}),e.jsx("option",{value:"Maintenance",children:"Maintenance & Repairs"}),e.jsx("option",{value:"Marketing",children:"Marketing / Ads"}),e.jsx("option",{value:"Provisions",children:"Provisions / Inventory"}),e.jsx("option",{value:"Equipment",children:"Medical Equipment"}),e.jsx("option",{value:"Petty Cash",children:"Petty Cash Refill"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Paid To"}),e.jsx("input",{type:"text",required:!0,placeholder:"Payee Name",value:w.paid_to,onChange:C=>z({...w,paid_to:C.target.value}),className:"w-full mt-1 p-3 bg-gray-50 dark:bg-gray-900 rounded-xl text-sm font-bold border-none ring-1 ring-gray-200 dark:ring-gray-700 focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Payment Method"}),e.jsxs("select",{required:!0,value:w.payment_method,onChange:C=>z({...w,payment_method:C.target.value}),className:"w-full mt-1 p-3 bg-gray-50 dark:bg-gray-900 rounded-xl text-sm font-bold border-none ring-1 ring-gray-200 dark:ring-gray-700 focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"cash",children:"Cash"}),e.jsx("option",{value:"upi",children:"UPI / GPay / PhonePe"}),e.jsx("option",{value:"net_banking",children:"Bank Transfer"}),e.jsx("option",{value:"cheque",children:"Cheque"}),e.jsx("option",{value:"credit_card",children:"Credit Card"}),e.jsx("option",{value:"other",children:"Other"})]})]}),w.payment_method==="cheque"&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Cheque Details"}),e.jsx("input",{type:"text",required:!0,placeholder:"Cheque No. & Bank",value:w.cheque_details,onChange:C=>z({...w,cheque_details:C.target.value}),className:"w-full mt-1 p-3 bg-gray-50 dark:bg-gray-900 rounded-xl text-sm font-bold border-none ring-1 ring-gray-200 dark:ring-gray-700 focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Description"}),e.jsx("textarea",{rows:3,className:"w-full mt-1 p-3 bg-gray-50 dark:bg-gray-900 rounded-xl text-sm font-bold border-none ring-1 ring-gray-200 dark:ring-gray-700 focus:ring-2 focus:ring-indigo-500 resize-none",placeholder:"Add notes...",value:w.description,onChange:C=>z({...w,description:C.target.value})})]})]})}),e.jsx("div",{className:"p-4 border-t border-gray-100 dark:border-gray-700 mx-4 mb-4",children:e.jsx("button",{type:"submit",form:"expenseForm",disabled:_,className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl text-sm font-bold shadow-lg shadow-indigo-500/30 active:scale-95 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex justify-center items-center gap-2",children:_?e.jsx(En,{className:"animate-spin",size:18}):"Save Expense"})})]})})]})},Fl="https://prospine.in/admin/mobile/api",iy=()=>{const t=ee(),{user:r}=G(),[a,s]=p.useState([]),[n,l]=p.useState(!0),i=async()=>{if(r)try{l(!0);const m=r.employee_id||r.id,x=await(await fetch(`${Fl}/notifications.php?employee_id=${m}`)).json();x.status==="success"&&s(x.data)}catch(m){console.error(m)}finally{l(!1)}},d=async m=>{try{await fetch(`${Fl}/notifications.php`,{method:"POST",body:JSON.stringify({action:"mark_read",notification_id:m})}),s(h=>h.map(x=>x.notification_id===m?{...x,is_read:1}:x))}catch(h){console.error(h)}},o=async()=>{if(r)try{const m=r.employee_id||r.id;await fetch(`${Fl}/notifications.php`,{method:"POST",body:JSON.stringify({action:"mark_all_read",employee_id:m})}),s(h=>h.map(x=>({...x,is_read:1})))}catch(m){console.error(m)}};p.useEffect(()=>{i()},[]);const c=m=>{const h=new Date(m),_=Math.floor((new Date().getTime()-h.getTime())/1e3);let y=_/31536e3;return y>1?Math.floor(y)+"y ago":(y=_/2592e3,y>1?Math.floor(y)+"mo ago":(y=_/86400,y>1?Math.floor(y)+"d ago":(y=_/3600,y>1?Math.floor(y)+"h ago":(y=_/60,y>1?Math.floor(y)+"m ago":Math.floor(_)+"s ago"))))};return e.jsxs("div",{className:"flex flex-col h-full bg-gray-50 dark:bg-gray-900",children:[e.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-xl sticky top-0 z-30 border-b border-gray-200 dark:border-gray-700 px-4 py-3 pt-[max(env(safe-area-inset-top),12px)] flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>t(-1),className:"p-2 -ml-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full",children:e.jsx(et,{size:20})}),e.jsx("div",{children:e.jsx("h1",{className:"text-lg font-black text-gray-900 dark:text-white",children:"Notifications"})})]}),a.some(m=>!m.is_read)&&e.jsxs("button",{onClick:o,className:"text-xs font-bold text-indigo-600 dark:text-indigo-400 hover:opacity-80 flex items-center gap-1",children:[e.jsx(re,{size:14}),"Mark all read"]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 custom-scrollbar",children:n?e.jsx("div",{className:"text-center py-10 text-gray-400 font-bold text-xs opacity-50 animate-pulse",children:"Loading..."}):a.length>0?a.map(m=>e.jsxs("div",{onClick:()=>!m.is_read&&d(m.notification_id),className:`relative p-4 rounded-2xl border transition-all ${m.is_read?"bg-white dark:bg-gray-800 border-gray-100 dark:border-gray-700/50 opacity-70":"bg-white dark:bg-gray-800 border-indigo-100 dark:border-indigo-900/30 shadow-md shadow-indigo-500/5"}`,children:[!m.is_read&&e.jsx("div",{className:"absolute top-4 right-4 w-2 h-2 rounded-full bg-indigo-500 shadow-sm shadow-indigo-500/50"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center shrink-0 ${m.is_read?"bg-gray-100 dark:bg-gray-700 text-gray-400":"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400"}`,children:e.jsx(ca,{size:18})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:`text-sm ${m.is_read?"text-gray-600 dark:text-gray-400 font-medium":"text-gray-900 dark:text-white font-bold"}`,children:m.message}),e.jsxs("div",{className:"flex items-center gap-3 mt-1.5",children:[e.jsxs("span",{className:"flex items-center gap-1 text-[10px] font-bold text-gray-400 uppercase tracking-wider",children:[e.jsx(pe,{size:10}),c(m.created_at)]}),m.link_url&&e.jsxs("a",{href:m.link_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-[10px] font-bold text-indigo-500 hover:text-indigo-600 uppercase tracking-wider",onClick:h=>h.stopPropagation(),children:["Open ",e.jsx(ef,{size:10})]})]})]})]})]},m.notification_id)):e.jsxs("div",{className:"text-center py-20 flex flex-col items-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mb-4 text-gray-400",children:e.jsx(ca,{size:24})}),e.jsx("h3",{className:"text-gray-900 dark:text-white font-bold",children:"No Notifications"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"You're all caught up!"})]})})]})},yc="https://prospine.in/admin/mobile/api",oy="https://prospine.in/admin",dy=()=>{var m;const{user:t}=G(),{theme:r,toggleTheme:a}=ya(),[s,n]=p.useState(null),[l,i]=p.useState([]),[d,o]=p.useState(!0),c=async()=>{if(t){o(!0);try{const h=t.employee_id||t.id,_=await(await fetch(`${yc}/profile.php?employee_id=${h}`)).json();_.status==="success"&&n(_.data);const w=await(await fetch(`${yc}/admin/my_branches.php?employee_id=${h}`)).json();w.status==="success"&&i(w.data)}catch(h){console.error(h)}finally{o(!1)}}};return p.useEffect(()=>{c()},[t]),d?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:e.jsx("div",{className:"w-8 h-8 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin"})}):s?e.jsxs("div",{className:"flex flex-col h-full bg-gray-50 dark:bg-gray-900 transition-colors overflow-y-auto pb-10",children:[e.jsx("div",{className:"px-6 py-5 flex justify-between items-center bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 sticky top-0 z-20",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-black text-gray-900 dark:text-white",children:"Profile Settings"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Manage your personal information"})]})}),e.jsxs("div",{className:"p-6 max-w-7xl mx-auto w-full space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-6 shadow-sm border border-gray-200 dark:border-gray-700 flex flex-col md:flex-row items-center md:items-start gap-6 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-indigo-500/10 to-purple-500/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),e.jsxs("div",{className:"relative group shrink-0",children:[e.jsx("div",{className:"w-24 h-24 md:w-28 md:h-28 rounded-full p-1 bg-gradient-to-tr from-indigo-500 to-purple-600",children:e.jsx("div",{className:"w-full h-full rounded-full bg-white dark:bg-gray-900 flex items-center justify-center overflow-hidden border-4 border-white dark:border-gray-900",children:s.photo_path?e.jsx("img",{src:`${oy}/${s.photo_path}`,alt:"Profile",className:"w-full h-full object-cover"}):e.jsx("span",{className:"text-4xl font-bold text-gray-300 dark:text-gray-600",children:(m=s.full_name)==null?void 0:m.charAt(0)})})}),e.jsx("button",{className:"absolute bottom-0 right-0 p-2 bg-white dark:bg-gray-700 rounded-full shadow-lg border border-gray-100 dark:border-gray-600 text-gray-600 dark:text-gray-300 hover:text-indigo-600",children:e.jsx(gx,{size:14})})]}),e.jsxs("div",{className:"text-center md:text-left flex-1 min-w-0 z-10",children:[e.jsx("span",{className:"inline-block px-2.5 py-0.5 rounded-md bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 text-[10px] font-bold uppercase tracking-wider mb-2",children:s.role}),e.jsx("h2",{className:"text-2xl font-black text-gray-900 dark:text-white mb-1",children:s.full_name}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-2 md:gap-4 text-sm text-gray-500 dark:text-gray-400 font-medium",children:[e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(Tr,{size:14})," ",s.email]}),e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(vt,{size:14})," ",s.city||"Unknown Location"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 text-blue-600 rounded-lg",children:e.jsx(X,{size:18})}),e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Personal Info"})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsx(Us,{label:"Employee ID",value:s.employee_id}),e.jsx(Us,{label:"Phone",value:s.phone_number}),e.jsx(Us,{label:"Address",value:s.address}),e.jsx(Us,{label:"Joined Date",value:s.date_of_joining,icon:e.jsx(fe,{size:14})})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx("div",{className:"p-2 bg-red-50 dark:bg-red-900/20 text-red-600 rounded-lg",children:e.jsx(rl,{size:18})}),e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Security"})]}),e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700/30 rounded-xl flex items-center justify-between mb-4",children:[e.jsx("span",{className:"text-xs font-bold text-gray-500",children:"Account Status"}),e.jsxs("span",{className:"px-2 py-1 bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400 rounded text-[10px] font-bold uppercase flex items-center gap-1",children:[e.jsx(re,{size:10})," Active"]})]}),e.jsxs("button",{className:"w-full flex items-center justify-between p-4 rounded-xl border border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600 hover:shadow-sm transition-all group",children:[e.jsxs("div",{className:"text-left",children:[e.jsx("h4",{className:"text-sm font-bold text-gray-900 dark:text-white group-hover:text-indigo-600 transition-colors",children:"Change Password"}),e.jsx("p",{className:"text-[10px] text-gray-400",children:"Update your login credentials"})]}),e.jsx(sf,{size:16,className:"text-gray-400 group-hover:text-indigo-600"})]})]})]}),e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx("div",{className:"p-2 bg-teal-50 dark:bg-teal-900/20 text-teal-600 rounded-lg",children:e.jsx(At,{size:18})}),e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Managed Branches"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.length>0?l.map(h=>e.jsxs("div",{className:"p-4 rounded-2xl border border-gray-100 dark:border-gray-700 bg-gray-50/50 dark:bg-gray-900/50 flex flex-col justify-between h-32 hover:border-teal-200 transition-colors cursor-default",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("div",{className:"p-2 bg-white dark:bg-gray-800 rounded-lg shadow-sm text-teal-600",children:e.jsx(At,{size:20})}),e.jsxs("span",{className:"text-[10px] font-bold bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-300 px-2 py-0.5 rounded",children:["ID: ",h.branch_id]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 dark:text-white mb-0.5",children:h.branch_name}),e.jsx("p",{className:"text-xs text-gray-500",children:"Active Center"})]})]},h.branch_id)):e.jsx("div",{className:"col-span-2 text-center py-8 text-gray-400 text-sm",children:"No branches assigned"})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx("div",{className:"p-2 bg-amber-50 dark:bg-amber-900/20 text-amber-600 rounded-lg",children:r==="dark"?e.jsx(Ho,{size:18}):e.jsx(qo,{size:18})}),e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"App Appearance"})]}),e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900/50 rounded-2xl border border-gray-100 dark:border-gray-700 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-bold text-gray-900 dark:text-white",children:"Dark Mode"}),e.jsx("p",{className:"text-[10px] text-gray-500 font-medium italic",children:"Reduce eye strain in low light"})]}),e.jsx("button",{onClick:a,className:`relative w-14 h-8 rounded-full transition-colors duration-300 focus:outline-none ${r==="dark"?"bg-indigo-600":"bg-gray-300"}`,children:e.jsx("div",{className:`absolute top-1 left-1 w-6 h-6 bg-white rounded-full shadow-md transform transition-transform duration-300 ${r==="dark"?"translate-x-6":"translate-x-0"}`})})]})]})]})]})]})]}):null},Us=({label:t,value:r,icon:a})=>e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1 block",children:t}),e.jsxs("div",{className:"text-sm font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[a&&e.jsx("span",{className:"text-gray-400",children:a}),r||"N/A"]})]}),bc="https://prospine.in/admin/mobile/api",vc={first_name:"",last_name:"",email:"",phone_number:"",role_id:"",branch_id:"",job_title:"",address:"",password:"",is_active:1},cy=()=>{const{user:t}=G();ya();const[r,a]=p.useState([]),[s,n]=p.useState([]),[l,i]=p.useState([]),[d,o]=p.useState([]),[c,m]=p.useState(!0),[h,x]=p.useState(""),[_,y]=p.useState(""),[w,z]=p.useState(""),[j,g]=p.useState(!1),[u,b]=p.useState(!1),[f,v]=p.useState(vc);p.useEffect(()=>{N()},[t]),p.useEffect(()=>{let P=r;if(h){const M=h.toLowerCase();P=P.filter(B=>`${B.first_name} ${B.last_name}`.toLowerCase().includes(M)||B.email.toLowerCase().includes(M))}_&&(P=P.filter(M=>M.role_id.toString()===_)),w&&(P=P.filter(M=>{var B;return((B=M.branch_id)==null?void 0:B.toString())===w})),n(P)},[r,h,_,w]);const N=async()=>{if(t){m(!0);try{const P=t.employee_id||t.id,B=await(await fetch(`${bc}/admin/staff.php?action=fetch_staff&user_id=${P}`)).json();B.status==="success"&&(a(B.data),i(B.roles),o(B.branches))}catch(P){console.error(P)}finally{m(!1)}}},k=()=>{v(vc),g(!0)},E=P=>{var M;v({employee_id:P.employee_id,first_name:P.first_name,last_name:P.last_name,email:P.email,phone_number:P.phone_number||"",role_id:P.role_id.toString(),branch_id:((M=P.branch_id)==null?void 0:M.toString())||"",job_title:P.job_title||"",address:P.address||"",password:"",is_active:P.is_active}),g(!0)},S=async()=>{if(t){if(!f.first_name||!f.last_name||!f.email||!f.role_id){alert("Please fill in required fields");return}b(!0);try{const P=t.employee_id||t.id,M=f.employee_id?"update_staff":"create_staff",L=await(await fetch(`${bc}/admin/staff.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:M,user_id:P,...f})})).json();L.status==="success"?(g(!1),N()):alert(L.message)}catch(P){console.error(P),alert("An error occurred")}finally{b(!1)}}},C=p.useMemo(()=>{const P={};return r.forEach(M=>{const B=M.branch_name||"Global";P[B]=(P[B]||0)+1}),P},[r]);return e.jsxs("div",{className:"flex flex-col h-screen bg-[#f8f9fc] dark:bg-[#0f172a] transition-all duration-300",children:[e.jsx("header",{className:"px-6 pt-12 pb-6 bg-white dark:bg-gray-800 border-b border-gray-100 dark:border-gray-700 shrink-0 z-40 sticky top-0",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-[0.2em] mb-1",children:"MANAGER PANEL"}),e.jsx("h1",{className:"text-xl font-black text-[#1e293b] dark:text-white uppercase tracking-tight",children:"Staff Roster"})]}),e.jsx("button",{onClick:k,className:"w-10 h-10 rounded-xl bg-teal-500 hover:bg-teal-600 text-white flex items-center justify-center shadow-lg shadow-teal-500/30 transition-all active:scale-95",children:e.jsx(gr,{size:24,strokeWidth:2.5})})]})}),e.jsxs("main",{className:"flex-1 overflow-y-auto p-6 space-y-8 touch-pan-y pb-24",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-[32px] p-6 shadow-sm border border-gray-100 dark:border-gray-800",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-4",children:"TEAM DISTRIBUTION"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(C).map(([P,M])=>e.jsxs("div",{className:"px-4 py-2 bg-[#f0f9f9] dark:bg-teal-900/10 text-[#0db9a8] rounded-xl font-black text-[10px] uppercase tracking-widest border border-teal-500/5",children:[P," ",e.jsx("span",{className:"mx-1 opacity-20",children:"/"})," ",M]},P))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{className:"w-full bg-white dark:bg-gray-800 rounded-2xl py-4 px-6 text-sm font-bold text-gray-700 dark:text-gray-200 shadow-sm border border-transparent focus:border-teal-500/20 outline-none transition-all",placeholder:"Filter by name or email...",value:h,onChange:P=>x(P.target.value)}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("select",{className:"w-full bg-white dark:bg-gray-800 rounded-2xl py-4 px-5 appearance-none text-[10px] font-black text-slate-400 dark:text-gray-500 shadow-sm border border-transparent outline-none truncate pr-10",value:_,onChange:P=>y(P.target.value),children:[e.jsx("option",{value:"",children:"ALL ROLES"}),l.map(P=>e.jsx("option",{value:P.role_id,children:P.role_name},P.role_id))]}),e.jsx(ht,{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-300",size:14})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{className:"w-full bg-white dark:bg-gray-800 rounded-2xl py-4 px-5 appearance-none text-[10px] font-black text-slate-400 dark:text-gray-500 shadow-sm border border-transparent outline-none truncate pr-10",value:w,onChange:P=>z(P.target.value),children:[e.jsx("option",{value:"",children:"ALL BRANCHES"}),d.map(P=>e.jsx("option",{value:P.branch_id,children:P.branch_name},P.branch_id))]}),e.jsx(ht,{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-300",size:14})]})]})]}),e.jsx("div",{className:"space-y-4",children:c?e.jsx("div",{className:"py-20 text-center",children:e.jsx(ne,{className:"animate-spin text-teal-500 mx-auto"})}):s.length===0?e.jsx("div",{className:"py-20 text-center text-gray-300 font-black text-[10px] uppercase tracking-[0.2em]",children:"No staff records found"}):s.map(P=>e.jsxs("div",{onClick:()=>E(P),className:"bg-white dark:bg-gray-800 p-6 rounded-[32px] shadow-sm border border-gray-50 dark:border-gray-800 flex flex-col gap-4 active:scale-[0.98] transition-all cursor-pointer group",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"w-12 h-12 rounded-2xl bg-gray-50 dark:bg-gray-900 text-gray-400 dark:text-gray-600 flex items-center justify-center font-black text-sm uppercase",children:[P.first_name[0],P.last_name[0]]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-black text-gray-900 dark:text-white text-base leading-tight",children:[P.first_name," ",P.last_name]}),e.jsx("p",{className:"text-[10px] font-bold text-gray-400 dark:text-gray-500 uppercase tracking-tight mt-1 truncate max-w-[150px]",children:P.email})]})]}),e.jsx("div",{className:`w-2 h-2 rounded-full ${P.is_active?"bg-emerald-500 shadow-[0_0_10px_rgba(16,185,129,0.3)]":"bg-rose-500"}`})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-50 dark:border-gray-800/50",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[10px] font-black text-indigo-500 dark:text-indigo-400 uppercase tracking-widest",children:P.role_name}),e.jsx("span",{className:"text-[9px] font-bold text-gray-400 uppercase mt-0.5",children:P.branch_name||"Global"})]}),e.jsx("div",{className:"text-[9px] font-black text-teal-500 uppercase tracking-[0.2em] opacity-0 group-hover:opacity-100 transition-opacity",children:"MANAGE"})]})]},P.employee_id))})]}),j&&e.jsxs("div",{className:"fixed inset-0 z-[100] bg-white dark:bg-gray-900 flex flex-col animate-in slide-in-from-bottom duration-300",children:[e.jsxs("header",{className:"px-6 pt-12 pb-6 flex justify-between items-center border-b border-gray-100 dark:border-gray-800 shrink-0",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white uppercase tracking-tight",children:f.employee_id?"Edit Staff":"Add Staff"}),e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mt-1",children:f.employee_id?"UPDATE DETAILS":"CREATE ACCOUNT"})]}),e.jsx("button",{onClick:()=>g(!1),className:"w-12 h-12 rounded-2xl bg-gray-50 dark:bg-gray-800 flex items-center justify-center text-gray-400 active:scale-95 transition-all",children:e.jsx(Te,{size:24})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[f.employee_id&&e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 p-4 rounded-3xl border border-gray-100 dark:border-gray-800 flex items-center justify-between",children:[e.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"ACCOUNT STATUS"}),e.jsx("button",{onClick:()=>v({...f,is_active:f.is_active?0:1}),className:`px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${f.is_active?"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-rose-100 text-rose-600 dark:bg-rose-900/30 dark:text-rose-400"}`,children:f.is_active?"ACTIVE":"INACTIVE"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"First Name"}),e.jsx("input",{className:"w-full bg-gray-50 dark:bg-gray-800 rounded-2xl py-3 px-4 text-sm font-bold text-gray-900 dark:text-white outline-none focus:ring-2 ring-teal-500/20",value:f.first_name,onChange:P=>v({...f,first_name:P.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Last Name"}),e.jsx("input",{className:"w-full bg-gray-50 dark:bg-gray-800 rounded-2xl py-3 px-4 text-sm font-bold text-gray-900 dark:text-white outline-none focus:ring-2 ring-teal-500/20",value:f.last_name,onChange:P=>v({...f,last_name:P.target.value})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(Tr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:16}),e.jsx("input",{className:"w-full bg-gray-50 dark:bg-gray-800 rounded-2xl py-3 pl-11 pr-4 text-sm font-bold text-gray-900 dark:text-white outline-none focus:ring-2 ring-teal-500/20",value:f.email,onChange:P=>v({...f,email:P.target.value}),type:"email"})]})]})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-100 dark:border-gray-800",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Role"}),e.jsxs("div",{className:"relative",children:[e.jsx(rl,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:16}),e.jsxs("select",{className:"w-full bg-gray-50 dark:bg-gray-800 rounded-2xl py-3 pl-11 pr-10 text-sm font-bold text-gray-900 dark:text-white outline-none appearance-none",value:f.role_id,onChange:P=>v({...f,role_id:P.target.value}),children:[e.jsx("option",{value:"",children:"Select Role"}),l.map(P=>e.jsx("option",{value:P.role_id,children:P.role_name},P.role_id))]}),e.jsx(ht,{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400",size:14})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Branch"}),e.jsxs("div",{className:"relative",children:[e.jsx(At,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:16}),e.jsxs("select",{className:"w-full bg-gray-50 dark:bg-gray-800 rounded-2xl py-3 pl-11 pr-10 text-sm font-bold text-gray-900 dark:text-white outline-none appearance-none",value:f.branch_id,onChange:P=>v({...f,branch_id:P.target.value}),children:[e.jsx("option",{value:"",children:"Global / None"}),d.map(P=>e.jsx("option",{value:P.branch_id,children:P.branch_name},P.branch_id))]}),e.jsx(ht,{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400",size:14})]})]})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-100 dark:border-gray-800",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Job Title"}),e.jsxs("div",{className:"relative",children:[e.jsx(ix,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:16}),e.jsx("input",{className:"w-full bg-gray-50 dark:bg-gray-800 rounded-2xl py-3 pl-11 pr-4 text-sm font-bold text-gray-900 dark:text-white outline-none focus:ring-2 ring-teal-500/20",value:f.job_title,onChange:P=>v({...f,job_title:P.target.value}),placeholder:"e.g. Senior Nurse"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Phone"}),e.jsxs("div",{className:"relative",children:[e.jsx(we,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:16}),e.jsx("input",{className:"w-full bg-gray-50 dark:bg-gray-800 rounded-2xl py-3 pl-11 pr-4 text-sm font-bold text-gray-900 dark:text-white outline-none focus:ring-2 ring-teal-500/20",value:f.phone_number,onChange:P=>v({...f,phone_number:P.target.value})})]})]})]}),e.jsx("div",{className:"space-y-4 pt-4 border-t border-gray-100 dark:border-gray-800",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:f.employee_id?"New Password (Optional)":"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(nf,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:16}),e.jsx("input",{className:"w-full bg-gray-50 dark:bg-gray-800 rounded-2xl py-3 pl-11 pr-4 text-sm font-bold text-gray-900 dark:text-white outline-none focus:ring-2 ring-teal-500/20",value:f.password,onChange:P=>v({...f,password:P.target.value}),type:"password",placeholder:f.employee_id?"Leave blank to keep current":"Min 8 characters"})]})]})}),e.jsx("div",{className:"h-24"})," "]}),e.jsx("div",{className:"p-6 border-t border-gray-100 dark:border-gray-800 bg-white dark:bg-gray-900 shrink-0",children:e.jsx("button",{onClick:S,disabled:u,className:"w-full py-4 bg-teal-600 hover:bg-teal-700 text-white font-black rounded-2xl shadow-xl shadow-teal-500/20 active:scale-95 transition-all text-sm uppercase tracking-widest flex items-center justify-center gap-2 disabled:opacity-50",children:u?"SAVING...":e.jsxs(e.Fragment,{children:[e.jsx(xf,{size:18,strokeWidth:2.5}),f.employee_id?"SAVE CHANGES":"CREATE STAFF"]})})})]})]})},jc="https://prospine.in/admin/mobile/api",uy=()=>{const{user:t}=G(),[r,a]=p.useState([]),[s,n]=p.useState([]),[l,i]=p.useState({pending:0}),[d,o]=p.useState(!0),[c,m]=p.useState(null),[h,x]=p.useState("pending"),[_,y]=p.useState(""),[w,z]=p.useState("");p.useEffect(()=>{j()},[t,h,_]);const j=async()=>{if(t){o(!0);try{const b=t.employee_id||t.id,v=await(await fetch(`${jc}/admin/attendance.php?action=fetch_attendance&user_id=${b}&status=${h}&branch_id=${_}`)).json();v.status==="success"&&(a(v.data),n(v.branches||[]),i(v.stats||{pending:0}))}catch(b){console.error(b)}finally{o(!1)}}},g=async(b,f)=>{if(t){m(b);try{const v=t.employee_id||t.id;(await(await fetch(`${jc}/admin/attendance.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"update_status",user_id:v,attendance_id:b,status:f})})).json()).status==="success"&&j()}catch(v){console.error(v)}finally{m(null)}}},u=p.useMemo(()=>{if(!w)return r;const b=w.toLowerCase();return r.filter(f=>{var v,N;return f.patient_name.toLowerCase().includes(b)||((v=f.patient_uid)==null?void 0:v.toLowerCase().includes(b))||((N=f.remarks)==null?void 0:N.toLowerCase().includes(b))})},[r,w]);return e.jsxs("div",{className:"flex flex-col h-screen bg-[#f8f9fc] dark:bg-[#0f172a] transition-all duration-300",children:[e.jsxs("header",{className:"px-6 pt-12 pb-6 bg-white dark:bg-gray-800 border-b border-gray-100 dark:border-gray-700 shrink-0 z-50",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-[0.2em] mb-1",children:"TEAM OVERVIEW"}),e.jsx("h1",{className:"text-xl font-black text-[#1e293b] dark:text-white uppercase tracking-tight",children:"Attendance Approval"})]}),e.jsxs("main",{className:"flex-1 overflow-y-auto p-6 space-y-8 touch-pan-y pb-24",children:[e.jsxs("div",{className:"bg-gradient-to-br from-[#1e293b] to-[#334155] dark:from-teal-600 dark:to-teal-800 p-8 rounded-[40px] shadow-xl text-white relative overflow-hidden group",children:[e.jsxs("div",{className:"relative z-10 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-white/50 uppercase tracking-[0.2em] mb-2",children:"ACTIONS REQUIRED"}),e.jsx("h2",{className:"text-4xl font-black tracking-tighter",children:l.pending}),e.jsx("p",{className:"text-sm font-bold text-white/70 mt-1 uppercase tracking-widest",children:"Pending Requests"})]}),e.jsx("div",{className:"w-16 h-16 bg-white/10 backdrop-blur-xl rounded-2xl flex items-center justify-center border border-white/20 group-hover:rotate-12 transition-transform duration-500",children:e.jsx(pe,{size:32})})]}),e.jsx("div",{className:"absolute top-[-20%] right-[-10%] w-64 h-64 bg-white/5 rounded-full blur-3xl group-hover:bg-white/10 transition-colors"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(He,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{className:"w-full bg-white dark:bg-gray-800 rounded-2xl py-5 pl-14 pr-6 text-sm font-bold text-gray-700 dark:text-gray-200 shadow-sm border border-transparent focus:border-teal-500/20 transition-all outline-none",placeholder:"Search by name or UID...",value:w,onChange:b=>z(b.target.value)})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("select",{className:"w-full bg-white dark:bg-gray-800 rounded-2xl py-4 px-5 appearance-none text-[10px] font-black text-slate-400 dark:text-gray-500 shadow-sm border border-transparent outline-none truncate pr-10",value:h,onChange:b=>x(b.target.value),children:[e.jsx("option",{value:"pending",children:"PENDING ONLY"}),e.jsx("option",{value:"approved",children:"PRESENT"}),e.jsx("option",{value:"rejected",children:"REJECTED"}),e.jsx("option",{value:"",children:"ALL STATUS"})]}),e.jsx(ht,{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-300 pointer-events-none",size:14})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{className:"w-full bg-white dark:bg-gray-800 rounded-2xl py-4 px-5 appearance-none text-[10px] font-black text-slate-400 dark:text-gray-500 shadow-sm border border-transparent outline-none truncate pr-10",value:_,onChange:b=>y(b.target.value),children:[e.jsx("option",{value:"",children:"ALL BRANCHES"}),s.map(b=>e.jsx("option",{value:b.branch_id,children:b.branch_name},b.branch_id))]}),e.jsx(ht,{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-300 pointer-events-none",size:14})]})]})]}),e.jsx("div",{className:"space-y-4",children:d?e.jsx("div",{className:"py-20 text-center",children:e.jsx(ne,{className:"animate-spin text-teal-500 mx-auto"})}):u.length===0?e.jsxs("div",{className:"py-24 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-50 dark:bg-gray-800/50 rounded-full flex items-center justify-center mx-auto mb-4 border border-gray-100 dark:border-gray-700",children:e.jsx(re,{size:32,className:"text-gray-200 dark:text-gray-700"})}),e.jsx("p",{className:"text-[10px] font-black text-gray-300 uppercase tracking-widest",children:"No pending queue"})]}):u.map(b=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-[36px] shadow-sm border border-gray-50 dark:border-gray-800 flex flex-col gap-6 group hover:border-teal-500/10 transition-all",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"w-14 h-14 rounded-2xl bg-teal-50 dark:bg-teal-900/20 text-teal-600 dark:text-teal-400 flex flex-col items-center justify-center font-black leading-none border border-teal-500/5",children:[e.jsx("span",{className:"text-lg",children:new Date(b.attendance_date).getDate()}),e.jsx("span",{className:"text-[9px] uppercase mt-0.5",children:new Date(b.attendance_date).toLocaleString("en",{month:"short"})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-black text-gray-900 dark:text-white text-lg leading-tight tracking-tight",children:b.patient_name}),e.jsxs("div",{className:"flex items-center gap-3 mt-1.5",children:[e.jsxs("span",{className:"text-[9px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-widest bg-gray-50 dark:bg-gray-900 px-2 py-1 rounded-md border border-gray-100 dark:border-gray-800",children:["UID ",b.patient_uid||b.patient_id]}),e.jsxs("span",{className:"flex items-center gap-1 text-[10px] font-bold text-indigo-500 dark:text-indigo-400",children:[e.jsx(At,{size:10})," ",b.branch_name]})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-300 uppercase tracking-widest mb-1.5",children:"REQUESTED"}),e.jsx("p",{className:"text-[10px] font-bold text-gray-500 dark:text-gray-400",children:b.approval_request_at?new Date(b.approval_request_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"N/A"})]})]}),b.remarks&&e.jsxs("div",{className:"bg-gray-50 dark:bg-[#0f172a] p-4 rounded-2xl border border-gray-100 dark:border-gray-700/50",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1.5 ml-1",children:"REMARKS"}),e.jsxs("p",{className:"text-xs font-bold text-gray-600 dark:text-gray-400 leading-relaxed italic",children:['"',b.remarks,'"']})]}),e.jsx("div",{className:"pt-2 flex gap-3",children:b.status==="pending"?e.jsxs(e.Fragment,{children:[e.jsx("button",{disabled:c!==null,onClick:()=>g(b.attendance_id,"approved"),className:"flex-1 bg-teal-500 hover:bg-teal-600 dark:bg-teal-600 dark:hover:bg-teal-700 text-white h-14 rounded-2xl flex items-center justify-center gap-2 text-[10px] font-black uppercase tracking-[0.2em] shadow-lg shadow-teal-500/10 active:scale-95 transition-all disabled:opacity-50",children:c===b.attendance_id?e.jsx(ne,{className:"animate-spin",size:18}):e.jsxs(e.Fragment,{children:["APPROVE ",e.jsx(re,{size:16})]})}),e.jsx("button",{disabled:c!==null,onClick:()=>g(b.attendance_id,"rejected"),className:"w-14 h-14 bg-gray-50 dark:bg-gray-700 text-gray-400 hover:text-rose-500 flex items-center justify-center rounded-2xl active:scale-95 transition-all",children:e.jsx(it,{size:22})})]}):e.jsx("div",{className:`w-full h-12 rounded-2xl flex items-center justify-center gap-3 text-[10px] font-black uppercase tracking-[0.3em] border ${b.status==="present"?"bg-emerald-50 text-emerald-600 border-emerald-100 dark:bg-emerald-900/10 dark:text-emerald-400 dark:border-emerald-800":"bg-rose-50 text-rose-600 border-rose-100 dark:bg-rose-900/10 dark:text-rose-400 dark:border-rose-800"}`,children:b.status==="present"?e.jsxs(e.Fragment,{children:[e.jsx(re,{size:14})," APPROVED & PROCESSED"]}):e.jsxs(e.Fragment,{children:[e.jsx(it,{size:14})," REQUEST REJECTED"]})})})]},b.attendance_id))})]})]})},Ul="https://prospine.in/admin/mobile/api",xy=()=>{const{user:t}=G(),r=ee(),[a,s]=p.useState([]),[n,l]=p.useState(!0),[i,d]=p.useState(!1),[o,c]=p.useState(null),[m,h]=p.useState({amount:"",date:new Date().toISOString().split("T")[0]}),[x,_]=p.useState(!1),[y,w]=p.useState(""),z=v=>{if(!v)return"";if(v.startsWith("http"))return v;let N=v;return N.startsWith("/")&&(N=N.substring(1)),N.startsWith("admin/")?`https://prospine.in/${N}`:`https://prospine.in/admin/${N}`};p.useEffect(()=>{j()},[t]);const j=async()=>{if(t){l(!0);try{const v=t.employee_id||t.id,k=await(await fetch(`${Ul}/admin/branches.php?action=fetch_branches&user_id=${v}`)).json();k.status==="success"&&s(k.data)}catch(v){console.error(v)}finally{l(!1)}}},g=async(v,N)=>{if(!t)return;const k=N===1?0:1;s(E=>E.map(S=>S.branch_id===v?{...S,is_active:k}:S));try{(await(await fetch(`${Ul}/admin/branches.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"toggle_status",branch_id:v,is_active:k})})).json()).status!=="success"&&j()}catch(E){console.error(E),j()}},u=async v=>{if(v.preventDefault(),!(!t||!o)){_(!0);try{const N=t.employee_id||t.id;(await(await fetch(`${Ul}/admin/branches.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"save_budget",user_id:N,branch_id:o.branch_id,daily_budget_amount:m.amount,effective_from_date:m.date})})).json()).status==="success"&&(d(!1),j())}catch(N){console.error(N)}finally{_(!1)}}},b=p.useMemo(()=>{if(!y)return a;const v=y.toLowerCase();return a.filter(N=>(N.branch_name||"").toLowerCase().includes(v)||(N.clinic_name||"").toLowerCase().includes(v)||(N.city||"").toLowerCase().includes(v)||(N.phone_primary||"").toLowerCase().includes(v))},[a,y]),f=p.useMemo(()=>({total:a.length,active:a.filter(v=>v.is_active===1).length,inactive:a.filter(v=>v.is_active===0).length}),[a]);return e.jsxs("div",{className:"flex flex-col min-h-screen bg-[#f8fafc] dark:bg-[#0f172a] transition-colors duration-200 font-sans relative overflow-hidden",children:[e.jsxs("div",{className:"fixed top-0 left-0 w-full h-full overflow-hidden pointer-events-none z-0",children:[e.jsx("div",{className:"absolute -top-[10%] -right-[10%] w-[50%] h-[50%] rounded-full bg-teal-400/10 dark:bg-teal-900/10 blur-3xl"}),e.jsx("div",{className:"absolute top-[20%] -left-[10%] w-[40%] h-[40%] rounded-full bg-blue-400/10 dark:bg-blue-900/10 blur-3xl"})]}),e.jsx("header",{className:"px-6 py-4 pt-11 flex items-center justify-between sticky top-0 z-30 bg-white/70 dark:bg-[#0f172a]/70 backdrop-blur-xl border-b border-gray-200/50 dark:border-gray-800/50",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-0.5",children:"Configuration"}),e.jsx("h1",{className:"text-xl font-black text-gray-900 dark:text-white tracking-tight",children:"Branch Directory"})]})}),e.jsxs("main",{className:"flex-1 p-4 md:p-6 overflow-y-auto z-10 pb-24",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-800 text-center",children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-1",children:"Total"}),e.jsx("h3",{className:"text-2xl font-black text-gray-900 dark:text-white tracking-tight",children:f.total})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-800 text-center",children:[e.jsx("p",{className:"text-[10px] font-bold text-emerald-500 uppercase tracking-wider mb-1",children:"Active"}),e.jsx("h3",{className:"text-2xl font-black text-emerald-600 dark:text-emerald-400 tracking-tight",children:f.active})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-800 text-center",children:[e.jsx("p",{className:"text-[10px] font-bold text-rose-500 uppercase tracking-wider mb-1",children:"Inactive"}),e.jsx("h3",{className:"text-2xl font-black text-rose-600 dark:text-rose-400 tracking-tight",children:f.inactive})]})]}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx(He,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:16}),e.jsx("input",{className:"w-full bg-white dark:bg-gray-800 rounded-2xl py-3.5 pl-11 pr-4 text-sm text-gray-900 dark:text-white border border-gray-100 dark:border-gray-800 focus:border-teal-500 focus:ring-1 focus:ring-teal-500 outline-none transition-colors shadow-sm",placeholder:"Search branches...",value:y,onChange:v=>w(v.target.value)})]}),e.jsx("div",{className:"space-y-4",children:n?e.jsx("div",{className:"py-12 flex justify-center",children:e.jsx("div",{className:"w-8 h-8 border-4 border-teal-200 border-t-teal-600 rounded-full animate-spin"})}):b.length===0?e.jsx("div",{className:"py-12 text-center text-gray-400 text-sm",children:"No branches found"}):b.map(v=>e.jsxs("div",{onClick:()=>r(`/admin/branches/${v.branch_id}`),className:`bg-white dark:bg-gray-800 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-800 overflow-hidden transition-all hover:shadow-md active:scale-[0.99] cursor-pointer ${v.is_active?"":"opacity-60"}`,children:[e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gray-50 dark:bg-gray-700/50 flex items-center justify-center overflow-hidden flex-shrink-0 border border-gray-100 dark:border-gray-700",children:v.logo_primary_path?e.jsx("img",{src:z(v.logo_primary_path),className:"w-full h-full object-contain"}):e.jsx(At,{className:"text-gray-400",size:20})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("h3",{className:"text-base font-black text-gray-900 dark:text-white tracking-tight truncate",children:v.branch_name}),e.jsx("p",{className:"text-[10px] font-bold text-teal-600 dark:text-teal-400 uppercase tracking-wider truncate",children:v.clinic_name})]}),e.jsxs("button",{onClick:N=>{N.stopPropagation(),g(v.branch_id,v.is_active)},className:`flex items-center gap-1.5 px-2.5 py-1.5 rounded-xl text-[10px] font-bold uppercase tracking-wide transition-colors ${v.is_active?"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400":"bg-rose-50 dark:bg-rose-900/20 text-rose-600 dark:text-rose-400"}`,children:[e.jsx(px,{size:10}),v.is_active?"Online":"Offline"]})]}),e.jsxs("p",{className:"text-[10px] font-bold text-gray-400 mt-1",children:["ID: ",v.branch_id]})]})]})}),e.jsxs("div",{className:"px-4 pb-3 grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-3 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-2 text-blue-500 mb-1",children:[e.jsx(vt,{size:12}),e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wide",children:"Location"})]}),e.jsxs("p",{className:"text-xs font-bold text-gray-700 dark:text-gray-300",children:[v.city,", ",v.state]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-3 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-2 text-emerald-500 mb-1",children:[e.jsx(we,{size:12}),e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wide",children:"Contact"})]}),e.jsx("p",{className:"text-xs font-bold text-gray-700 dark:text-gray-300",children:v.phone_primary})]})]}),e.jsx("div",{className:"px-4 pb-4",children:e.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-4 rounded-2xl flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 text-indigo-500 mb-1",children:[e.jsx(dr,{size:14}),e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wide",children:"Daily Budget"})]}),e.jsx("p",{className:"text-xl font-black text-indigo-700 dark:text-indigo-300 tracking-tight",children:v.current_budget?`${Number(v.current_budget).toLocaleString()}`:"No limit"})]}),e.jsx("button",{onClick:N=>{var k;N.stopPropagation(),c(v),h({...m,amount:((k=v.current_budget)==null?void 0:k.toString())||""}),d(!0)},className:"px-4 py-2.5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl text-[10px] font-bold uppercase tracking-wider transition-colors",children:"Configure"})]})}),e.jsxs("div",{className:"px-4 py-3 bg-gray-50 dark:bg-gray-700/30 flex justify-between items-center text-[10px] font-bold text-gray-400 uppercase tracking-wider border-t border-gray-100 dark:border-gray-700/50",children:[e.jsxs("span",{children:["Admin: ",v.admin_first_name," ",v.admin_last_name]}),e.jsxs("span",{children:["Since ",new Date(v.created_at).getFullYear()]})]})]},v.branch_id))})]}),i&&o&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 w-full max-w-sm rounded-3xl shadow-xl border border-gray-100 dark:border-gray-700 p-6 animate-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-indigo-500 uppercase tracking-wider",children:"Financial Control"}),e.jsx("h2",{className:"text-lg font-black text-gray-900 dark:text-white tracking-tight",children:"Set Daily Budget"})]}),e.jsx("button",{onClick:()=>d(!1),className:"w-8 h-8 bg-gray-100 dark:bg-gray-700 text-gray-400 rounded-xl flex items-center justify-center hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:e.jsx(it,{size:16})})]}),e.jsxs("form",{onSubmit:u,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-2 block",children:["Budget for ",o.branch_name]}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-lg font-black text-gray-400",children:""}),e.jsx("input",{autoFocus:!0,required:!0,type:"number",step:"0.01",className:"w-full bg-gray-50 dark:bg-gray-700/50 py-4 pl-10 pr-4 rounded-2xl text-2xl font-black text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500 border border-gray-100 dark:border-gray-700",value:m.amount,onChange:v=>h({...m,amount:v.target.value}),placeholder:"0.00"})]}),e.jsx("p",{className:"text-[10px] text-gray-400 mt-2",children:"This will set the daily spending limit for this branch."})]}),e.jsx("button",{disabled:x,className:"w-full py-3.5 bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50 text-white rounded-2xl text-sm font-bold tracking-wide transition-colors flex items-center justify-center gap-2",children:x?e.jsx(ne,{className:"animate-spin",size:16}):"Confirm Budget"})]})]})})]})},gy="https://prospine.in/admin/mobile/api",py=()=>{const{branchId:t}=Xn(),r=ee(),{user:a}=G(),[s,n]=p.useState(null),[l,i]=p.useState(!0);p.useEffect(()=>{d()},[t]);const d=async()=>{if(!(!a||!t)){i(!0);try{const c=a.employee_id||a.id,h=await(await fetch(`${gy}/admin/branches.php?action=fetch_branches&user_id=${c}`)).json();if(h.status==="success"){const x=h.data.find(_=>_.branch_id===parseInt(t));n(x||null)}}catch(c){console.error(c)}finally{i(!1)}}},o=c=>{if(!c)return"";if(c.startsWith("http"))return c;let m=c;return m.startsWith("/")&&(m=m.substring(1)),m.startsWith("admin/")?`https://prospine.in/${m}`:`https://prospine.in/admin/${m}`};return l?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#f8fafc] dark:bg-[#0f172a]",children:e.jsx("div",{className:"w-8 h-8 border-4 border-teal-200 border-t-teal-600 rounded-full animate-spin"})}):s?e.jsxs("div",{className:"flex flex-col min-h-screen bg-[#f8fafc] dark:bg-[#0f172a] transition-colors duration-200 font-sans relative overflow-hidden",children:[e.jsxs("div",{className:"fixed top-0 left-0 w-full h-full overflow-hidden pointer-events-none z-0",children:[e.jsx("div",{className:"absolute -top-[10%] -right-[10%] w-[50%] h-[50%] rounded-full bg-teal-400/10 dark:bg-teal-900/10 blur-3xl"}),e.jsx("div",{className:"absolute top-[20%] -left-[10%] w-[40%] h-[40%] rounded-full bg-indigo-400/10 dark:bg-indigo-900/10 blur-3xl"})]}),e.jsxs("header",{className:"px-6 py-4 pt-11 flex items-center gap-4 sticky top-0 z-30 bg-white/70 dark:bg-[#0f172a]/70 backdrop-blur-xl border-b border-gray-200/50 dark:border-gray-800/50",children:[e.jsx("button",{onClick:()=>r("/admin/branches"),className:"w-9 h-9 rounded-full bg-white dark:bg-gray-800/50 shadow-sm border border-gray-100 dark:border-gray-700 flex items-center justify-center text-gray-500 dark:text-gray-400 active:scale-95 transition-transform backdrop-blur-sm",children:e.jsx(Ye,{size:18})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-0.5",children:"Branch Details"}),e.jsx("h1",{className:"text-lg font-black text-gray-900 dark:text-white tracking-tight truncate",children:s.branch_name})]}),e.jsx("div",{className:`px-3 py-1.5 rounded-xl text-[10px] font-bold uppercase tracking-wide ${s.is_active?"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400":"bg-rose-50 dark:bg-rose-900/20 text-rose-600 dark:text-rose-400"}`,children:s.is_active?"Active":"Inactive"})]}),e.jsxs("main",{className:"flex-1 p-4 md:p-6 overflow-y-auto z-10 pb-24",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-800 p-4 mb-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gray-50 dark:bg-gray-700/50 flex items-center justify-center overflow-hidden border border-gray-100 dark:border-gray-700",children:s.logo_primary_path?e.jsx("img",{src:o(s.logo_primary_path),className:"w-full h-full object-contain"}):e.jsx(At,{className:"text-gray-400",size:28})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-black text-gray-900 dark:text-white tracking-tight",children:s.branch_name}),e.jsx("p",{className:"text-[10px] font-bold text-teal-600 dark:text-teal-400 uppercase tracking-wider",children:s.clinic_name}),e.jsxs("p",{className:"text-[10px] font-bold text-gray-400 mt-1",children:["ID: #",s.branch_id]})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-50 dark:bg-emerald-900/20 flex items-center justify-center text-emerald-500",children:e.jsx(we,{size:14})}),e.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider",children:"Phone"})]}),e.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:s.phone_primary}),s.phone_secondary&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:s.phone_secondary})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-50 dark:bg-blue-900/20 flex items-center justify-center text-blue-500",children:e.jsx(Tr,{size:14})}),e.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider",children:"Email"})]}),e.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white break-all",children:s.email||"N/A"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-800 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-50 dark:bg-indigo-900/20 flex items-center justify-center text-indigo-500",children:e.jsx(vt,{size:18})}),e.jsx("h3",{className:"text-base font-black text-gray-900 dark:text-white tracking-tight",children:"Location"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-0.5",children:"Address"}),e.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[s.address_line_1,s.address_line_2&&e.jsxs(e.Fragment,{children:[e.jsx("br",{}),s.address_line_2]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-3 rounded-xl",children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-0.5",children:"City & State"}),e.jsxs("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:[s.city,", ",s.state]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-3 rounded-xl",children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-0.5",children:"Pincode"}),e.jsx("p",{className:"text-sm font-black text-gray-900 dark:text-white font-mono",children:s.pincode})]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-800 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-teal-50 dark:bg-teal-900/20 flex items-center justify-center text-teal-500",children:e.jsx(rl,{size:18})}),e.jsx("h3",{className:"text-base font-black text-gray-900 dark:text-white tracking-tight",children:"Branch Admin"})]}),e.jsxs("div",{className:"flex items-center gap-4 p-3 bg-gray-50 dark:bg-gray-700/30 rounded-2xl",children:[e.jsxs("div",{className:"w-12 h-12 rounded-2xl bg-teal-500 flex items-center justify-center text-white text-lg font-black",children:[s.admin_first_name[0],s.admin_last_name[0]]}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-black text-gray-900 dark:text-white",children:[s.admin_first_name," ",s.admin_last_name]}),e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider",children:"Branch Supervisor"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-3",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-2 rounded-xl text-center",children:[e.jsx("p",{className:"text-[9px] font-bold text-gray-400 uppercase",children:"ID"}),e.jsxs("p",{className:"text-sm font-black text-gray-900 dark:text-white",children:["#",s.branch_id]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-2 rounded-xl text-center",children:[e.jsx("p",{className:"text-[9px] font-bold text-gray-400 uppercase",children:"Est."}),e.jsx("p",{className:"text-sm font-black text-gray-900 dark:text-white",children:new Date(s.created_at).getFullYear()})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-2 rounded-xl text-center",children:[e.jsx("p",{className:"text-[9px] font-bold text-gray-400 uppercase",children:"Currency"}),e.jsx("p",{className:"text-sm font-black text-gray-900 dark:text-white",children:"INR"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 dark:from-indigo-900 dark:to-indigo-800 p-6 rounded-3xl shadow-lg text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 -mt-4 -mr-4 w-32 h-32 bg-white/10 rounded-full blur-2xl"}),e.jsx("div",{className:"absolute bottom-0 left-0 -mb-4 -ml-4 w-24 h-24 bg-indigo-500/20 rounded-full blur-2xl"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center backdrop-blur-sm",children:e.jsx(dr,{size:18})}),e.jsx("span",{className:"text-sm font-bold text-gray-300 uppercase tracking-wider",children:"Daily Budget"})]}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-black",children:""}),e.jsx("span",{className:"text-4xl font-black tracking-tight",children:s.current_budget?Number(s.current_budget).toLocaleString():"---"})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:s.current_budget?"Daily spending limit for operational expenses":"No budget limit configured for this branch"})]})]})]})]}):e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-[#f8fafc] dark:bg-[#0f172a] p-6 text-center",children:[e.jsx(it,{size:48,className:"text-rose-500 mb-4"}),e.jsx("h2",{className:"text-xl font-black text-gray-900 dark:text-white mb-2",children:"Branch Not Found"}),e.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"The branch you're looking for doesn't exist."}),e.jsx("button",{onClick:()=>r("/admin/branches"),className:"px-6 py-3 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-2xl font-bold text-sm",children:"Back to Directory"})]})},mr="https://prospine.in/admin/mobile/api",my=()=>{const{user:t}=G(),[r,a]=p.useState([]),[s,n]=p.useState(!0),[l,i]=p.useState(""),[d,o]=p.useState(null),[c,m]=p.useState([]),[h,x]=p.useState(!1),[_,y]=p.useState(!1),[w,z]=p.useState(!1),[j,g]=p.useState([]),[u,b]=p.useState({reg:"",tests:{}}),[f,v]=p.useState(null),[N,k]=p.useState(!1),[E,S]=p.useState(null),[C,P]=p.useState(!1),[M,B]=p.useState({name:"",phone:""});p.useEffect(()=>{w&&fetch(`${mr}/admin/referrals.php?action=fetch_test_types`).then($=>$.json()).then($=>{$.status==="success"&&g($.data)}).catch(console.error)},[w]),p.useEffect(()=>{if(t){const $=t.employee_id||t.id;fetch(`${mr}/admin/branches.php?action=fetch_branches&user_id=${$}`).then(V=>V.json()).then(V=>{V.status==="success"&&V.data.length>0&&v(V.data[0])}).catch(console.error)}},[t]);const L=async()=>{if(!(!M.name||!M.phone))try{const V=await(await fetch(`${mr}/admin/referrals.php?action=add_partner`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(M)})).json();V.status==="success"?(P(!1),B({name:"",phone:""}),D(),S({type:"success",message:"Partner added successfully"})):S({type:"error",message:V.message||"Failed to add partner"})}catch($){console.error($),S({type:"error",message:"Network error occurred"})}finally{setTimeout(()=>S(null),3e3)}},T=()=>{if(!u.reg&&Object.values(u.tests).every($=>$==="")){S({type:"error",message:"Please set at least one rate value"}),setTimeout(()=>S(null),3e3);return}k(!0)},W=async()=>{try{const V=await(await fetch(`${mr}/admin/referrals.php?action=update_global_rates`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({rate_registration:u.reg,rates:u.tests})})).json();k(!1),V.status==="success"?(z(!1),b({reg:"",tests:{}}),D(),S({type:"success",message:"Global rates updated successfully"})):S({type:"error",message:V.message||"Update failed"})}catch($){console.error($),S({type:"error",message:"Network error occurred"})}finally{setTimeout(()=>S(null),3e3)}};p.useEffect(()=>{D()},[t]);const D=async()=>{if(t){n(!0);try{const $=t.employee_id||t.id,Y=await(await fetch(`${mr}/admin/referrals.php?action=fetch_partners&user_id=${$}`)).json();Y.status==="success"?a(Y.data):a([])}catch($){console.error($),a([])}finally{n(!1)}}},U=async $=>{if(!t)return;x(!0),o($);const V=t.employee_id||t.id;try{const le=await(await fetch(`${mr}/admin/referrals.php?action=fetch_transactions&partner_id=${$.partner_id}&user_id=${V}`)).json();le.status==="success"&&m(le.data),x(!1)}catch(Y){console.error(Y),x(!1)}},A=async($,V)=>{const Y=c.find(oe=>oe.id===$);if(!Y)return;const le=Y.status==="pending"?"paid":"pending";m(oe=>oe.map(pr=>pr.id===$?{...pr,status:le}:pr));try{await fetch(`${mr}/admin/referrals.php?action=update_status`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:V,id:$,status:le})}),D()}catch(oe){console.error(oe),m(pr=>pr.map(O=>O.id===$?{...O,status:Y.status}:O))}},H=p.useMemo(()=>{if(!l)return r;const $=l.toLowerCase();return r.filter(V=>V.name.toLowerCase().includes($)||V.phone&&V.phone.toLowerCase().includes($))},[r,l]),Q=p.useMemo(()=>{const $=r.reduce((le,oe)=>le+oe.total_revenue,0),V=r.reduce((le,oe)=>le+oe.pending_commission,0),Y=r.length;return{totalRevenue:$,totalCommission:V,activePartners:Y}},[r]);return e.jsxs("div",{className:"flex flex-col min-h-screen bg-[#f8fafc] dark:bg-[#0f172a] transition-colors duration-200 font-sans relative overflow-hidden",children:[e.jsxs("div",{className:"fixed top-0 left-0 w-full h-full overflow-hidden pointer-events-none z-0",children:[e.jsx("div",{className:"absolute -top-[10%] -left-[10%] w-[50%] h-[50%] rounded-full bg-indigo-400/10 dark:bg-indigo-900/10 blur-3xl"}),e.jsx("div",{className:"absolute bottom-[20%] -right-[10%] w-[40%] h-[40%] rounded-full bg-emerald-400/10 dark:bg-emerald-900/10 blur-3xl"})]}),e.jsxs("header",{className:"px-6 py-4 pt-11 flex items-center gap-4 sticky top-0 z-30 bg-white/70 dark:bg-[#0f172a]/70 backdrop-blur-xl border-b border-gray-200/50 dark:border-gray-800/50",children:[d?e.jsx("button",{onClick:()=>o(null),className:"w-9 h-9 rounded-full bg-white dark:bg-gray-800/50 shadow-sm border border-gray-100 dark:border-gray-700 flex items-center justify-center text-gray-500 dark:text-gray-400 active:scale-95 transition-transform backdrop-blur-sm",children:e.jsx(Ye,{size:18})}):null,e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-0.5",children:"Management"}),e.jsx("h1",{className:"text-xl font-black text-gray-900 dark:text-white tracking-tight truncate",children:d?d.name:"Referral Analytics"})]}),d&&e.jsx("button",{onClick:()=>y(!0),className:"w-10 h-10 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl transition-colors shadow-lg shadow-indigo-600/20 flex items-center justify-center",title:"Generate Invoice",children:e.jsx(Xe,{size:18})}),!d&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>P(!0),className:"w-10 h-10 bg-indigo-50 dark:bg-gray-700 rounded-xl flex items-center justify-center text-indigo-600 dark:text-indigo-400 hover:bg-indigo-100 dark:hover:bg-gray-600 transition-colors",title:"Add Partner",children:e.jsx(gr,{size:18})}),e.jsxs("button",{onClick:()=>z(!0),className:"px-4 py-2 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-xl text-[10px] font-bold uppercase tracking-wider transition-colors shadow-lg flex items-center gap-2",children:[e.jsx(gc,{size:14})," Global Rates"]})]})]}),e.jsx("main",{className:"flex-1 p-4 md:p-6 overflow-y-auto z-10 pb-24",children:d?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"mb-4 bg-white dark:bg-gray-800 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-800 p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider",children:"Transaction History"}),e.jsxs("div",{className:"text-xs font-bold text-gray-500",children:[c.length," Records"]})]}),h?e.jsx("div",{className:"py-12 flex justify-center",children:e.jsx("div",{className:"w-8 h-8 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin"})}):e.jsx("div",{className:"space-y-3",children:c.map($=>e.jsxs("div",{className:"group flex flex-col sm:flex-row sm:items-center gap-4 p-4 rounded-2xl bg-gray-50 dark:bg-gray-700/20 hover:bg-gray-100 dark:hover:bg-gray-700/40 transition-colors border border-transparent hover:border-gray-200 dark:hover:border-gray-600",children:[e.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center shrink-0 ${$.type==="registration"?"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400"}`,children:$.type==="registration"?e.jsx(ut,{size:18}):e.jsx(ne,{size:18})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-bold text-gray-900 dark:text-white",children:$.patient_name}),e.jsxs("p",{className:"text-[11px] font-medium text-gray-500 uppercase tracking-wide flex items-center gap-2 mt-0.5",children:[e.jsx("span",{children:$.service_name}),e.jsx("span",{className:"w-1 h-1 rounded-full bg-gray-300 dark:bg-gray-600"}),e.jsx("span",{children:new Date($.date).toLocaleDateString()})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-4 w-full sm:w-auto pl-14 sm:pl-0",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Comm."}),e.jsxs("p",{className:"text-sm font-black text-rose-600 dark:text-rose-400",children:["",$.commission]})]}),e.jsxs("button",{onClick:V=>{V.stopPropagation(),A($.id,$.type)},className:`px-3 py-1.5 rounded-xl text-[10px] font-bold uppercase tracking-wide flex items-center gap-1.5 transition-all w-24 justify-center ${$.status==="paid"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 hover:bg-green-200 dark:hover:bg-green-900/50":"bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400 hover:bg-amber-200 dark:hover:bg-amber-900/50"}`,children:[$.status==="paid"?e.jsx(is,{size:12}):e.jsx(pe,{size:12}),$.status]})]})]},$.id))})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-4 shadow-xl shadow-gray-200/50 dark:shadow-none border border-gray-100 dark:border-gray-700 mb-6 relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-indigo-50 dark:bg-indigo-900/10 rounded-full blur-3xl -mr-16 -mt-16 pointer-events-none"}),e.jsxs("div",{className:"flex flex-row items-center justify-between relative z-10 divide-x divide-gray-100 dark:divide-gray-700",children:[e.jsxs("div",{className:"flex-1 pr-2",children:[e.jsx("p",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest mb-1 truncate",children:"Revenue"}),e.jsxs("h3",{className:"text-xl font-black text-gray-900 dark:text-white tracking-tighter flex items-center gap-0.5",children:[e.jsx("span",{className:"text-sm text-gray-400",children:""}),s?"---":Q.totalRevenue.toLocaleString()]})]}),e.jsxs("div",{className:"flex-1 px-4",children:[e.jsx("p",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest mb-1 truncate",children:"Payable"}),e.jsxs("h3",{className:"text-xl font-black text-rose-500 tracking-tighter flex items-center gap-0.5",children:[e.jsx("span",{className:"text-sm text-rose-300",children:""}),s?"---":Q.totalCommission.toLocaleString()]})]}),e.jsxs("div",{className:"flex-1 pl-2 text-right",children:[e.jsx("p",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest mb-1 truncate",children:"Partners"}),e.jsx("h3",{className:"text-xl font-black text-indigo-600 dark:text-indigo-400 tracking-tighter",children:s?"-":Q.activePartners})]})]})]}),e.jsxs("div",{className:"relative mb-6",children:[e.jsx(He,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:16}),e.jsx("input",{className:"w-full bg-white dark:bg-gray-800 rounded-2xl py-3.5 pl-11 pr-4 text-sm text-gray-900 dark:text-white border border-gray-100 dark:border-gray-800 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none transition-colors shadow-sm",placeholder:"Search partners by name or phone...",value:l,onChange:$=>i($.target.value)})]}),e.jsx("div",{className:"space-y-3",children:s?e.jsx("div",{className:"py-12 flex justify-center",children:e.jsx("div",{className:"w-8 h-8 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin"})}):H.length===0?e.jsx("div",{className:"py-12 text-center text-gray-400 text-sm",children:"No partners found"}):H.map($=>e.jsxs("div",{onClick:()=>U($),className:"bg-white dark:bg-gray-800 rounded-3xl p-4 shadow-sm border border-gray-100 dark:border-gray-800 hover:scale-[1.01] active:scale-[0.99] transition-all cursor-pointer group",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-indigo-50 dark:bg-indigo-900/20 flex items-center justify-center text-indigo-600 dark:text-indigo-400 font-black text-lg",children:$.name.charAt(0)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-base font-bold text-gray-900 dark:text-white truncate group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors",children:$.name}),e.jsx("p",{className:"text-xs text-gray-500 font-medium",children:$.phone})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider",children:"Payable"}),e.jsxs("p",{className:"text-lg font-black text-rose-600 dark:text-rose-400",children:["",$.pending_commission.toLocaleString()]})]}),e.jsx("div",{className:"text-gray-300 dark:text-gray-600",children:e.jsx(os,{size:20})})]}),e.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-100 dark:border-gray-700/50 flex gap-4 overflow-x-auto hide-scrollbar",children:[e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-gray-50 dark:bg-gray-700/30 rounded-xl whitespace-nowrap",children:[e.jsx(ut,{size:12,className:"text-gray-400"}),e.jsxs("span",{className:"text-[10px] font-bold text-gray-600 dark:text-gray-300 uppercase",children:[$.total_patients," Patients"]})]}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-gray-50 dark:bg-gray-700/30 rounded-xl whitespace-nowrap",children:[e.jsx(tl,{size:12,className:"text-gray-400"}),e.jsxs("span",{className:"text-[10px] font-bold text-gray-600 dark:text-gray-300 uppercase",children:["Rev: ",$.total_revenue.toLocaleString()]})]})]})]},$.partner_id))})]})}),_&&d&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 w-full max-w-2xl rounded-3xl shadow-2xl flex flex-col max-h-[90vh]",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-indigo-500 uppercase tracking-widest",children:"Statement"}),e.jsx("h3",{className:"text-lg font-black text-gray-900 dark:text-white",children:"Payable Invoice"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>window.print(),className:"w-10 h-10 rounded-xl bg-gray-100 dark:bg-gray-700 flex items-center justify-center text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:e.jsx(Xe,{size:18})}),e.jsx("button",{onClick:()=>y(!1),className:"w-10 h-10 rounded-xl bg-rose-50 dark:bg-rose-900/20 flex items-center justify-center text-rose-500 hover:bg-rose-100 dark:hover:bg-rose-900/40 transition-colors",children:e.jsx(it,{size:18})})]})]}),e.jsxs("div",{className:"print-only flex-1 overflow-y-auto p-6 bg-white text-gray-900 font-mono text-xs leading-tight",children:[e.jsx("table",{className:"w-full mb-6",children:e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsxs("td",{className:"align-top w-1/2",children:[e.jsx("h1",{className:"text-xl font-bold tracking-tight uppercase text-black",children:(f==null?void 0:f.clinic_name)||"PROSPINE"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:(f==null?void 0:f.branch_name)||"Advanced Spine & Pain Clinic"})]}),e.jsxs("td",{className:"align-top w-1/2 text-right",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("p",{className:"text-[10px] font-bold uppercase text-gray-400",children:"Invoice Date"}),e.jsx("p",{className:"font-bold text-black",children:new Date().toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold uppercase text-gray-400",children:"Bill To"}),e.jsx("p",{className:"font-bold text-black",children:d.name}),e.jsx("p",{className:"text-[10px] text-gray-600",children:d.phone})]})]})]})})}),e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b-2 border-gray-800",children:[e.jsx("th",{className:"pb-2 text-[10px] font-bold uppercase text-gray-500 w-24",children:"Date"}),e.jsx("th",{className:"pb-2 text-[10px] font-bold uppercase text-gray-500",children:"Service / Patient"}),e.jsx("th",{className:"pb-2 text-[10px] font-bold uppercase text-gray-500 text-right",children:"Reference Amt"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:c.filter($=>$.status==="pending").map(($,V)=>e.jsxs("tr",{children:[e.jsx("td",{className:"py-2 text-gray-600 align-top",children:new Date($.date).toLocaleDateString()}),e.jsxs("td",{className:"py-2 align-top",children:[e.jsx("p",{className:"font-bold text-gray-900",children:$.service_name}),e.jsx("p",{className:"text-[10px] text-gray-500",children:$.patient_name})]}),e.jsxs("td",{className:"py-2 text-right font-bold align-top",children:["",$.commission]})]},V))}),e.jsxs("tfoot",{children:[e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"pt-4",children:e.jsx("div",{className:"border-t-2 border-gray-800 w-full"})})}),e.jsxs("tr",{children:[e.jsx("td",{colSpan:2,className:"pt-2 text-right text-[10px] font-bold uppercase text-gray-400 align-middle",children:"Total Payable"}),e.jsxs("td",{className:"pt-2 text-right text-xl font-black text-gray-900 align-middle",children:["",c.filter($=>$.status==="pending").reduce(($,V)=>$+Number(V.commission),0).toLocaleString()]})]})]})]})]}),e.jsx("div",{className:"px-6 py-4 border-t border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-700/30 rounded-b-3xl",children:e.jsxs("button",{onClick:()=>window.print(),className:"w-full py-3 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-xl font-bold text-sm tracking-wide uppercase hover:opacity-90 transition-opacity flex items-center justify-center gap-2",children:[e.jsx(Xe,{size:16})," Download PDF Statement"]})})]})}),w&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 w-full max-w-lg rounded-3xl shadow-2xl flex flex-col max-h-[90vh]",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-black text-gray-900 dark:text-white",children:"Global Rates"}),e.jsx("button",{onClick:()=>z(!1),className:"w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center text-gray-500 hover:text-gray-900",children:e.jsx(it,{size:18})})]}),e.jsxs("div",{className:"p-6 overflow-y-auto space-y-4",children:[e.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl mb-4",children:e.jsxs("p",{className:"text-xs text-blue-600 dark:text-blue-300 font-medium leading-relaxed",children:[e.jsx(gc,{size:14,className:"inline mr-1"}),"Changes here will apply to ",e.jsx("b",{children:"ALL active partners"})," immediately. Leave fields empty to keep existing rates for that type."]})}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest block mb-2",children:"Registration Rate (Fixed )"}),e.jsx("input",{type:"number",className:"w-full bg-gray-50 dark:bg-gray-900 rounded-xl py-3 px-4 font-bold text-gray-900 dark:text-white border border-gray-200 dark:border-gray-700 focus:border-indigo-500 outline-none",placeholder:"e.g. 50",value:u.reg,onChange:$=>b({...u,reg:$.target.value})})]}),e.jsxs("div",{className:"border-t border-gray-100 dark:border-gray-700 pt-4",children:[e.jsx("p",{className:"text-xs font-bold text-gray-900 dark:text-white mb-3 uppercase tracking-wide",children:"Test Rates (Fixed )"}),e.jsx("div",{className:"space-y-3",children:j.map($=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 w-1/3 truncate",title:$,children:$}),e.jsx("input",{type:"number",className:"flex-1 bg-gray-50 dark:bg-gray-900 rounded-xl py-2 px-3 font-semibold text-gray-900 dark:text-white border border-gray-200 dark:border-gray-700 focus:border-indigo-500 outline-none text-sm",placeholder:`Rate for ${$}`,value:u.tests[$]||"",onChange:V=>b({...u,tests:{...u.tests,[$]:V.target.value}})})]},$))})]})]}),e.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50 rounded-b-3xl flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>z(!1),className:"px-5 py-2.5 rounded-xl font-bold text-gray-500 hover:bg-gray-200 dark:hover:bg-gray-800 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:T,className:"px-5 py-2.5 bg-indigo-600 text-white rounded-xl font-bold shadow-lg shadow-indigo-600/20 hover:bg-indigo-700 transition-colors",children:"Apply Global Rates"})]})]})}),N&&e.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 w-full max-w-sm rounded-3xl shadow-2xl p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-amber-100 dark:bg-amber-900/30 rounded-full flex items-center justify-center mx-auto mb-4 text-amber-600 dark:text-amber-400",children:e.jsx(ne,{size:32})}),e.jsx("h3",{className:"text-lg font-black text-gray-900 dark:text-white mb-2",children:"Confirm Global Update?"}),e.jsxs("p",{className:"text-sm text-gray-500 mb-6",children:["This will update referral rates for ",e.jsx("b",{children:"ALL active partners"})," and recalculate existing pending commissions. This action cannot be undone efficiently."]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>k(!1),className:"flex-1 py-3 rounded-xl font-bold text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:W,className:"flex-1 py-3 bg-indigo-600 text-white rounded-xl font-bold shadow-lg shadow-indigo-600/30 hover:bg-indigo-700 transition-colors",children:"Confirm & Update"})]})]})}),C&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 w-full max-w-sm rounded-3xl shadow-2xl flex flex-col",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-black text-gray-900 dark:text-white",children:"Add New Partner"}),e.jsx("button",{onClick:()=>P(!1),className:"w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center text-gray-500 hover:text-gray-900",children:e.jsx(it,{size:18})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest block mb-2",children:"Partner Name"}),e.jsx("input",{className:"w-full bg-gray-50 dark:bg-gray-900 rounded-xl py-3 px-4 font-bold text-gray-900 dark:text-white border border-gray-200 dark:border-gray-700 focus:border-indigo-500 outline-none",placeholder:"e.g. Dr. Smith",value:M.name,onChange:$=>B({...M,name:$.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest block mb-2",children:"Phone Number"}),e.jsx("input",{className:"w-full bg-gray-50 dark:bg-gray-900 rounded-xl py-3 px-4 font-bold text-gray-900 dark:text-white border border-gray-200 dark:border-gray-700 focus:border-indigo-500 outline-none",placeholder:"e.g. 9876543210",value:M.phone,onChange:$=>B({...M,phone:$.target.value})})]})]}),e.jsx("div",{className:"px-6 py-4 border-t border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50 rounded-b-3xl",children:e.jsx("button",{onClick:L,disabled:!M.name||!M.phone,className:"w-full py-3 bg-indigo-600 disabled:opacity-50 text-white rounded-xl font-bold shadow-lg shadow-indigo-600/20 hover:bg-indigo-700 transition-colors",children:"Create Partner"})})]})}),E&&e.jsxs("div",{className:`fixed bottom-6 right-6 z-[120] px-6 py-4 rounded-2xl shadow-2xl flex items-center gap-3 animate-in slide-in-from-bottom-10 fade-in duration-300 ${E.type==="success"?"bg-emerald-500 text-white":"bg-rose-500 text-white"}`,children:[E.type==="success"?e.jsx(is,{size:24}):e.jsx(it,{size:24}),e.jsx("p",{className:"font-bold",children:E.message})]}),e.jsx("style",{children:`
                @media print {
                    body {
                        visibility: hidden;
                    }
                    .print-only {
                        visibility: visible !important;
                        position: absolute !important;
                        left: 0 !important;
                        top: 0 !important;
                        width: 100% !important;
                        height: auto !important;
                        margin: 0 !important;
                        padding: 0 !important;
                        background: white !important;
                        z-index: 99999;
                        overflow: visible !important;
                    }
                    .print-only * {
                        visibility: visible !important;
                    }
                    
                    /* Hide non-printable elements inside the print container if any */
                    .print-only button { display: none !important; }
                    
                    /* Page settings */
                    @page { size: auto; margin: 15mm; }
                    body { margin: 15mm; }
                    table { page-break-inside: auto; }
                    tr { page-break-inside: avoid; page-break-after: auto; }
                    thead { display: table-header-group; }
                    tfoot { display: table-footer-group; }
                }
            `})]})},hy="https://prospine.in/admin/mobile/api",fy="https://prospine.in/admin",yy=()=>{const{id:t}=Xn(),r=ee(),{user:a}=G(),[s,n]=p.useState(null),[l,i]=p.useState(!0),[d,o]=p.useState("profile"),c=async()=>{try{const k=await(await fetch(`${hy}/admin/patients.php?action=fetch_patient_details&patient_id=${t}&user_id=${a==null?void 0:a.employee_id}`)).json();k.status==="success"?n(k.data):console.error(k.message)}catch(N){console.error(N)}finally{i(!1)}};if(p.useEffect(()=>{c()},[t]),l)return e.jsx("div",{className:"flex h-full items-center justify-center bg-gray-50 dark:bg-gray-900",children:e.jsx("div",{className:"w-8 h-8 border-4 border-teal-500 border-t-transparent rounded-full animate-spin"})});if(!s)return e.jsxs("div",{className:"flex flex-col h-full bg-gray-50 dark:bg-gray-900 items-center justify-center",children:[e.jsx("p",{className:"text-gray-500",children:"Patient not found"}),e.jsx("button",{onClick:()=>r(-1),className:"mt-4 text-teal-600 font-bold",children:"Go Back"})]});const{basic:m,financials:h,treatment:x,attendance:_,payments:y}=s,w=x.days>0?Math.min(100,Math.round(_.length/x.days*100)):0,z=h.credit_balance>0,j=z?"Advance Balance":"Total Due",g=z?h.credit_balance:h.balance_due,u=({active:N,onClick:k,label:E,icon:S})=>e.jsxs("button",{onClick:k,className:`flex-1 flex items-center justify-center gap-2 py-3 text-xs font-black uppercase tracking-wide rounded-xl transition-all duration-300
            ${N?"bg-white dark:bg-gray-700 text-teal-600 dark:text-teal-400 shadow-sm scale-[1.02]":"text-gray-400 dark:text-gray-500 hover:bg-gray-200/50 dark:hover:bg-gray-700/50"}`,children:[S," ",E]}),b=({title:N,icon:k,children:E})=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-5 shadow-sm border border-gray-100 dark:border-gray-700",children:[e.jsxs("h3",{className:"text-[11px] font-black text-gray-900 dark:text-white mb-4 uppercase tracking-wider flex items-center gap-2 border-b border-gray-100 dark:border-gray-700 pb-2",children:[e.jsx("span",{className:"text-teal-500",children:k}),N]}),e.jsx("div",{className:"mt-2 text-sm",children:E})]}),f=({icon:N,label:k,value:E,className:S=""})=>e.jsxs("div",{className:`p-3 bg-gray-50 dark:bg-gray-700/30 rounded-2xl ${S}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[e.jsx("div",{className:"text-gray-400 dark:text-gray-500",children:N}),e.jsx("p",{className:"text-[10px] font-bold text-gray-400 dark:text-gray-500 uppercase",children:k})]}),e.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white break-words leading-tight pl-1",children:E||"N/A"})]}),v=({label:N,value:k,colorClass:E,icon:S})=>e.jsxs("div",{className:`rounded-2xl p-4 border flex justify-between items-center ${E}`,children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold opacity-70 uppercase tracking-widest",children:N}),e.jsx("p",{className:"text-xl font-black mt-1",children:k})]}),S]});return e.jsxs("div",{className:"flex flex-col h-full bg-gray-50/50 dark:bg-gray-900 transition-colors duration-200",children:[e.jsx("header",{className:"px-6 py-4 pt-11 flex items-center justify-between sticky top-0 z-20 bg-gray-50/80 dark:bg-gray-900/80 backdrop-blur-xl border-b border-gray-200/50 dark:border-gray-800/50",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>r(-1),className:"w-10 h-10 rounded-full bg-white dark:bg-gray-800 shadow-sm border border-gray-100 dark:border-gray-700 flex items-center justify-center text-gray-600 dark:text-gray-300 active:scale-95 transition-transform",children:e.jsx(Ye,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-black text-gray-900 dark:text-white leading-tight truncate max-w-[200px]",children:m.name}),e.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:["#",m.patient_uid||m.patient_id]})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 pb-24 space-y-6 no-scrollbar",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-1 shadow-lg shadow-gray-200/50 dark:shadow-none border border-gray-100 dark:border-gray-700 relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-24 bg-gradient-to-r from-teal-500 to-emerald-600"}),e.jsxs("div",{className:"relative pt-12 px-5 pb-5 flex flex-col items-center",children:[e.jsx("div",{className:"w-24 h-24 rounded-full border-4 border-white dark:border-gray-800 bg-gray-200 shadow-md mb-3 overflow-hidden",children:m.photo?e.jsx("img",{src:`${fy}/${m.photo}`,alt:"Profile",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-3xl font-black text-gray-400 uppercase bg-gray-100 dark:bg-gray-700",children:m.name.charAt(0)})}),e.jsx("div",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-wider mb-4 border-2 ${m.status.toLowerCase()==="active"?"bg-green-50 text-green-600 border-green-100":"bg-gray-50 text-gray-500 border-gray-100"}`,children:m.status}),e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsxs("a",{href:`tel:${m.phone}`,className:"flex-1 py-3 rounded-2xl bg-gray-50 dark:bg-gray-700/50 text-gray-700 dark:text-gray-300 font-bold text-xs flex items-center justify-center gap-2 transition-colors hover:bg-teal-50 hover:text-teal-600",children:[e.jsx(we,{size:14})," Call"]}),e.jsxs("a",{href:`mailto:${m.email}`,className:"flex-1 py-3 rounded-2xl bg-gray-50 dark:bg-gray-700/50 text-gray-700 dark:text-gray-300 font-bold text-xs flex items-center justify-center gap-2 transition-colors hover:bg-blue-50 hover:text-blue-600",children:[e.jsx(Tr,{size:14})," Email"]})]})]})]}),e.jsxs("div",{className:"flex p-1 bg-gray-200/50 dark:bg-gray-800 rounded-2xl",children:[e.jsx(u,{active:d==="profile",onClick:()=>o("profile"),label:"Profile",icon:e.jsx(X,{size:14})}),e.jsx(u,{active:d==="timeline",onClick:()=>o("timeline"),label:"Timeline",icon:e.jsx(ne,{size:14})}),e.jsx(u,{active:d==="billing",onClick:()=>o("billing"),label:"Billing",icon:e.jsx(Le,{size:14})})]}),e.jsxs("div",{className:"animate-in slide-in-from-bottom-5 fade-in duration-300",children:[d==="profile"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(b,{title:"Basic Details",icon:e.jsx(X,{size:14}),children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(f,{icon:e.jsx(X,{size:14}),label:"Full Name",value:m.name,className:"col-span-2"}),e.jsx(f,{icon:e.jsx(pe,{size:14}),label:"Age",value:`${m.age} Years`}),e.jsx(f,{icon:e.jsx(X,{size:14}),label:"Gender",value:m.gender}),e.jsx(f,{icon:e.jsx(we,{size:14}),label:"Phone",value:m.phone,className:"col-span-2"}),e.jsx(f,{icon:e.jsx(vt,{size:14}),label:"Address",value:m.address,className:"col-span-2"})]})}),e.jsx(b,{title:"Medical Context",icon:e.jsx(zr,{size:14}),children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsx(f,{icon:e.jsx(ne,{size:14}),label:"Treatment Plan",value:x.type}),e.jsx(f,{icon:e.jsx(ms,{size:14}),label:"Occupation",value:m.occupation||"N/A"})]}),e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700/30 rounded-2xl",children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 dark:text-gray-500 uppercase mb-1",children:"Remarks"}),e.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300 italic",children:['"',m.remarks||"No remarks recorded.",'"']})]})]})})]}),d==="timeline"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-violet-700 rounded-3xl p-6 text-white shadow-xl relative overflow-hidden",children:[e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-indigo-200 text-xs font-bold uppercase tracking-wider mb-1",children:"Active Treatment"}),e.jsx("p",{className:"text-2xl font-black capitalize",children:x.type})]}),e.jsxs("div",{className:"bg-white/20 px-3 py-1 rounded-full text-xs font-bold backdrop-blur-md border border-white/10",children:[x.days," Days Goal"]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("div",{className:"flex justify-between text-xs font-bold text-indigo-100 mb-2",children:[e.jsxs("span",{children:["Attendance (",w,"%)"]}),e.jsxs("span",{children:[_.length,"/",x.days," Sessions"]})]}),e.jsx("div",{className:"h-3 w-full bg-black/20 rounded-full overflow-hidden backdrop-blur-sm border border-white/10",children:e.jsx("div",{className:"h-full bg-white rounded-full shadow-[0_0_15px_rgba(255,255,255,0.5)] transition-all duration-1000",style:{width:`${w}%`}})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-6 pt-4 border-t border-white/10",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-indigo-200 text-[10px] uppercase font-bold",children:"Start Date"}),e.jsx("p",{className:"font-bold text-xs",children:x.start_date?new Date(x.start_date).toLocaleDateString():"N/A"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-indigo-200 text-[10px] uppercase font-bold",children:"End Date"}),e.jsx("p",{className:"font-bold text-xs",children:x.end_date?new Date(x.end_date).toLocaleDateString():"N/A"})]})]})]}),e.jsx("div",{className:"absolute -right-10 -bottom-10 w-40 h-40 bg-white/10 rounded-full blur-3xl"})]}),e.jsx(b,{title:"Session History",icon:e.jsx(fe,{size:14}),children:e.jsxs("div",{className:"space-y-0 relative border-l-2 border-gray-100 dark:border-gray-700 ml-2",children:[_.slice(0,10).map((N,k)=>e.jsxs("div",{className:"pl-6 pb-6 relative last:pb-0",children:[e.jsx("div",{className:"absolute -left-[5px] top-1.5 w-3 h-3 rounded-full bg-teal-500 border-2 border-white dark:border-gray-800"}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-3 rounded-xl",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsxs("span",{className:"text-xs font-bold text-gray-900 dark:text-white capitalize",children:[N.status," Use"]}),e.jsx("span",{className:"text-[10px] font-bold text-gray-400",children:N.attendance_date})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:N.remarks||"Regular session"})]})]},k)),_.length===0&&e.jsx("p",{className:"text-sm text-gray-400 pl-6 italic",children:"No sessions recorded."})]})})]}),d==="billing"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:`rounded-3xl p-6 text-white shadow-xl relative overflow-hidden ${z?"bg-gradient-to-tr from-green-700 to-emerald-600":"bg-gradient-to-tr from-gray-900 to-gray-800 dark:from-black dark:to-gray-900"}`,children:e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-white/60 uppercase tracking-widest",children:j}),e.jsxs("p",{className:"text-4xl font-black mt-1",children:["",g.toLocaleString()]})]}),e.jsx("div",{className:"w-12 h-12 rounded-full bg-white/10 flex items-center justify-center",children:e.jsx(Le,{size:24,className:"text-white"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 border-t border-white/10 pt-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-white/60 uppercase font-bold",children:"Planned Cost"}),e.jsxs("p",{className:"font-bold",children:["",h.billed.toLocaleString()]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-[10px] text-white/60 uppercase font-bold",children:"Consumed Value"}),e.jsxs("p",{className:"font-bold",children:["",h.consumed_liability.toLocaleString()]})]})]})]})}),e.jsx(b,{title:"Financial Overview",icon:e.jsx(hs,{size:14}),children:e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(v,{label:"Total Paid",value:`${h.paid.toLocaleString()}`,colorClass:"bg-green-50 border-green-100 text-green-700 dark:bg-green-900/20 dark:border-green-800 dark:text-green-400",icon:e.jsx(re,{size:16})}),e.jsx(v,{label:"Collection",value:`${h.payment_percentage}%`,colorClass:"bg-blue-50 border-blue-100 text-blue-700 dark:bg-blue-900/20 dark:border-blue-800 dark:text-blue-400",icon:e.jsx(ne,{size:16})})]})}),e.jsx(b,{title:"Payment History",icon:e.jsx(dr,{size:14}),children:e.jsxs("div",{className:"space-y-3",children:[y.map((N,k)=>e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700/30 rounded-2xl flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:["",N.amount.toLocaleString()]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:"text-[10px] font-bold uppercase bg-white dark:bg-gray-800 px-2 py-0.5 rounded text-gray-500 border border-gray-100 dark:border-gray-700",children:N.mode}),e.jsx("span",{className:"text-[10px] text-gray-400",children:new Date(N.payment_date).toLocaleDateString()})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("p",{className:"text-[10px] text-gray-400 italic max-w-[100px] truncate",children:N.remarks})})]},k)),y.length===0&&e.jsx("p",{className:"text-sm text-gray-400 italic",children:"No payments recorded."})]})})]})]})]})]})},by="https://prospine.in/admin/mobile/api",vy=()=>{const t=ee(),{user:r}=G(),[a,s]=p.useState([]),[n,l]=p.useState(!0),[i,d]=p.useState(""),[o,c]=p.useState("all");p.useEffect(()=>{r&&m()},[r,i,o]);const m=async()=>{try{const x=r.employee_id||(r==null?void 0:r.id);let _=`${by}/admin/patients.php?action=fetch_patients&user_id=${x}`;i&&(_+=`&search=${encodeURIComponent(i)}`),o!=="all"&&(_+=`&status=${o}`);const w=await(await fetch(_)).json();w.status==="success"?s(w.data):s([])}catch(x){console.error(x)}finally{l(!1)}},h=p.useMemo(()=>{const x=a.reduce((y,w)=>y+w.balance_due,0),_=a.filter(y=>y.status.toLowerCase()==="active").length;return{totalDue:x,activeCount:_}},[a]);return e.jsxs("div",{className:"flex flex-col min-h-screen bg-[#f8fafc] dark:bg-[#0f172a] transition-colors duration-200 font-sans",children:[e.jsxs("header",{className:"px-6 py-4 pt-10 sticky top-0 z-30 bg-white/80 dark:bg-[#0f172a]/80 backdrop-blur-md border-b border-gray-100 dark:border-gray-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Clinic Records"}),e.jsx("h1",{className:"text-xl font-black text-gray-900 dark:text-white",children:"Patient Directory"})]}),e.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-50 dark:bg-indigo-900/20 flex items-center justify-center text-indigo-600 dark:text-indigo-400 font-bold",children:a.length})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(He,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:16}),e.jsx("input",{className:"w-full bg-gray-50 dark:bg-gray-800/50 rounded-xl py-3 pl-11 pr-4 text-sm font-semibold text-gray-900 dark:text-white border border-gray-200 dark:border-gray-700 focus:border-indigo-500 outline-none transition-all placeholder:text-gray-400",placeholder:"Search name, ID, phone...",value:i,onChange:x=>d(x.target.value)})]}),e.jsxs("button",{onClick:()=>c(x=>x==="all"?"active":x==="active"?"inactive":"all"),className:`px-4 rounded-xl font-bold text-xs uppercase tracking-wider transition-colors border flex items-center gap-2 ${o!=="all"?"bg-indigo-600 border-indigo-600 text-white":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-500 dark:text-gray-400"}`,children:[e.jsx(Lr,{size:14}),o==="all"?"All":o]})]})]}),!i&&e.jsx("div",{className:"px-6 pt-6 pb-2",children:e.jsxs("div",{className:"p-5 rounded-3xl bg-gradient-to-br from-gray-900 to-gray-800 dark:from-indigo-600 dark:to-violet-700 text-white shadow-xl shadow-indigo-500/10 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full blur-3xl -mr-10 -mt-10"}),e.jsxs("div",{className:"flex justify-between items-end relative z-10",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-white/60 uppercase tracking-widest mb-1",children:"Total Outstanding"}),e.jsxs("h2",{className:"text-2xl font-black tracking-tight",children:["",h.totalDue.toLocaleString()]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-[10px] font-bold text-white/60 uppercase tracking-widest mb-1",children:"Active Patients"}),e.jsx("h2",{className:"text-2xl font-black tracking-tight",children:h.activeCount})]})]})]})}),e.jsx("main",{className:"flex-1 p-6 space-y-4 pb-24",children:n?e.jsx("div",{className:"py-20 flex justify-center",children:e.jsx("div",{className:"w-8 h-8 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin"})}):a.length===0?e.jsx("div",{className:"py-20 text-center text-gray-400 font-medium",children:"No patients found"}):a.map(x=>{var _;return e.jsxs("div",{onClick:()=>t(`/admin/patients/${x.patient_id}`),className:"bg-white dark:bg-gray-800 rounded-2xl p-4 shadow-sm border border-gray-100 dark:border-gray-700 relative overflow-hidden cursor-pointer active:scale-[0.98] transition-transform",children:[e.jsx("div",{className:`absolute top-0 left-0 w-1 h-full ${x.status.toLowerCase()==="active"?"bg-teal-500":"bg-gray-300 dark:bg-gray-600"}`}),e.jsxs("div",{className:"flex justify-between items-start mb-3 pl-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white text-base leading-tight",children:x.patient_name||"Unknown Patient"}),e.jsxs("p",{className:"text-xs font-bold text-gray-400 mt-1 uppercase tracking-wider",children:["#",x.patient_uid||x.patient_id]})]}),e.jsx("span",{className:`px-2 py-1 rounded-lg text-[10px] font-black uppercase tracking-wider ${x.status.toLowerCase()==="active"?"bg-teal-50 text-teal-600 dark:bg-teal-900/30 dark:text-teal-400":"bg-gray-100 text-gray-500 dark:bg-gray-700 dark:text-gray-400"}`,children:x.status})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 pl-3 mb-3",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-2.5",children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase mb-1",children:"Plan"}),e.jsxs("p",{className:"text-xs font-bold text-gray-900 dark:text-white capitalize truncate",children:[x.treatment_type," (",x.treatment_days," Days)"]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-2.5",children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase mb-1",children:"Progress"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 h-1.5 bg-gray-200 dark:bg-gray-600 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-teal-500 rounded-full",style:{width:`${Math.min(100,Math.round(x.sessions_attended/(x.treatment_days||1)*100))}%`}})}),e.jsxs("span",{className:"text-[10px] font-bold text-gray-600 dark:text-gray-400",children:[Math.round(x.sessions_attended/(x.treatment_days||1)*100),"%"]})]})]})]}),e.jsxs("div",{className:"pl-3 pt-3 border-t border-gray-50 dark:border-gray-700 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Paid"}),e.jsxs("p",{className:"text-xs font-black text-gray-900 dark:text-white",children:["",x.total_paid.toLocaleString()]})]}),e.jsxs("div",{className:`flex items-center gap-1.5 px-3 py-1.5 rounded-xl ${(x.credit_balance||0)>0?"bg-green-50 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-red-50 text-red-700 dark:bg-red-900/30 dark:text-red-400"}`,children:[(x.credit_balance||0)>0?e.jsx(is,{size:12,strokeWidth:3}):e.jsx(pe,{size:12,strokeWidth:3}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-[8px] font-black uppercase opacity-70 leading-none mb-0.5",children:(x.credit_balance||0)>0?"Advance Bal":"Due Balance"}),e.jsxs("p",{className:"text-xs font-black leading-none",children:["",(_=(x.credit_balance||0)>0?x.credit_balance:x.balance_due)==null?void 0:_.toLocaleString()]})]})]})]})]},x.patient_id)})})]})},Bs="https://prospine.in/admin/mobile/api",jy=()=>{const{user:t}=G(),[r,a]=p.useState(!0),[s,n]=p.useState("complaints"),[l,i]=p.useState({complaints:[],sources:[],consultations:[],services:[]}),[d,o]=p.useState(!1),[c,m]=p.useState(null),[h,x]=p.useState({name:"",code:"",is_active:1,display_order:0}),[_,y]=p.useState(!1);p.useEffect(()=>{t&&w()},[t]);const w=async()=>{a(!0);try{const v=t.employee_id||(t==null?void 0:t.id),k=await(await fetch(`${Bs}/admin/reception_settings.php?action=fetch_metadata&user_id=${v}`)).json();if(k.status==="success"){const E={complaints:k.data.complaints.map(S=>({...S,id:S.complaint_id,name:S.complaint_name,code:S.complaint_code})),sources:k.data.sources.map(S=>({...S,id:S.source_id,name:S.source_name,code:S.source_code})),consultations:k.data.consultations.map(S=>({...S,id:S.consultation_id,name:S.consultation_name,code:S.consultation_code})),services:k.data.services.map(S=>({...S,id:S.service_id,name:S.service_name,code:S.service_code}))};i(E)}}catch(v){console.error(v)}finally{a(!1)}},z=async v=>{v.preventDefault(),y(!0);try{const N=t.employee_id||(t==null?void 0:t.id),E=await(await fetch(`${Bs}/admin/reception_settings.php?action=save`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"save",user_id:N,category:s,id:c?c.id:null,...h})})).json();E.status==="success"?(o(!1),w()):alert(E.message)}catch(N){console.error(N)}finally{y(!1)}},j=async v=>{const N=v.is_active===1?0:1,k={...l},E=k[s].findIndex(S=>S.id===v.id);E!==-1&&(k[s][E].is_active=N),i(k);try{await fetch(`${Bs}/admin/reception_settings.php?action=toggle_status`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({category:s,id:v.id,status:N})})}catch{w()}},g=async v=>{if(confirm("Are you sure? This cannot be undone."))try{(await(await fetch(`${Bs}/admin/reception_settings.php?action=delete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({category:s,id:v})})).json()).status==="success"&&w()}catch(N){console.error(N)}},u=(v=null)=>{m(v),x(v?{name:v.name,code:v.code,is_active:v.is_active,display_order:v.display_order}:{name:"",code:"",is_active:1,display_order:0}),o(!0)},b=[{id:"complaints",label:"Complaints",singular:"Complaint",icon:e.jsx(zr,{size:16}),color:"text-blue-500"},{id:"sources",label:"Sources",singular:"Source",icon:e.jsx(lf,{size:16}),color:"text-purple-500"},{id:"consultations",label:"Consultations",singular:"Consultation",icon:e.jsx(ix,{size:16}),color:"text-emerald-500"},{id:"services",label:"Services",singular:"Service",icon:e.jsx(Ot,{size:16}),color:"text-orange-500"}],f=b.find(v=>v.id===s);return e.jsxs("div",{className:"flex flex-col h-full bg-[#f8fafc] dark:bg-[#0f172a] transition-colors duration-200",children:[e.jsxs("header",{className:"px-6 py-4 pt-11 sticky top-0 z-30 bg-white/80 dark:bg-[#0f172a]/80 backdrop-blur-md border-b border-gray-100 dark:border-gray-800",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Configuration"}),e.jsxs("h1",{className:"text-xl font-black text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(fx,{size:20,className:"text-gray-400"}),"Reception Settings"]})]}),e.jsx("button",{onClick:()=>u(),className:"bg-indigo-600 hover:bg-indigo-700 text-white p-3 rounded-xl shadow-lg shadow-indigo-500/30 active:scale-95 transition-all",children:e.jsx(gr,{size:20})})]}),e.jsx("div",{className:"flex gap-2 overflow-x-auto no-scrollbar pb-2",children:b.map(v=>e.jsxs("button",{onClick:()=>n(v.id),className:`flex items-center gap-2 px-4 py-2.5 rounded-xl text-xs font-bold transition-all whitespace-nowrap border ${s===v.id?"bg-white dark:bg-gray-800 border-gray-100 dark:border-gray-700 shadow-sm text-gray-900 dark:text-white":"bg-transparent border-transparent text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"}`,children:[e.jsx("span",{className:s===v.id?v.color:"",children:v.icon}),v.label]},v.id))})]}),e.jsx("main",{className:"flex-1 p-4 pb-24 overflow-y-auto",children:e.jsx("div",{className:"space-y-3",children:r?e.jsx("div",{className:"py-20 flex justify-center",children:e.jsx("div",{className:"w-8 h-8 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin"})}):l[s].length===0?e.jsxs("div",{className:"py-20 text-center text-gray-400",children:[e.jsx("p",{className:"text-sm font-bold",children:"No items found"}),e.jsx("p",{className:"text-xs mt-1",children:"Add a new item to get started"})]}):l[s].map(v=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-800 flex items-center gap-4 group",children:[e.jsxs("div",{className:"w-10 h-10 rounded-xl bg-gray-50 dark:bg-gray-700 flex items-center justify-center text-xs font-black text-gray-300",children:["#",v.display_order]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white text-sm truncate",children:v.name}),e.jsx("code",{className:"text-[10px] text-gray-400 font-mono bg-gray-50 dark:bg-gray-900 px-1.5 py-0.5 rounded uppercase",children:v.code})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>j(v),className:`p-2 rounded-lg transition-colors ${v.is_active?"text-emerald-500 hover:bg-emerald-50":"text-gray-300 hover:text-gray-500 hover:bg-gray-100"}`,children:e.jsx(px,{size:16})}),e.jsx("button",{onClick:()=>u(v),className:"p-2 text-gray-400 hover:text-indigo-500 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded-lg transition-colors",children:e.jsx(gx,{size:16})}),e.jsx("button",{onClick:()=>g(v.id),className:"p-2 text-gray-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg transition-colors",children:e.jsx(hf,{size:16})})]})]},v.id))})}),d&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in zoom-in-95 duration-200",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 w-full max-w-sm rounded-3xl shadow-2xl p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest px-2 py-1 rounded bg-gray-100 dark:bg-gray-700 ${f==null?void 0:f.color}`,children:f==null?void 0:f.label}),e.jsx("h2",{className:"text-xl font-black text-gray-900 dark:text-white mt-2",children:c?`Edit ${f==null?void 0:f.singular}`:`New ${f==null?void 0:f.singular}`})]}),e.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(it,{size:24})})]}),e.jsxs("form",{onSubmit:z,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest block mb-1.5",children:"Display Name"}),e.jsx("input",{required:!0,value:h.name,onChange:v=>x({...h,name:v.target.value}),className:"w-full bg-gray-50 dark:bg-gray-700/50 rounded-xl px-4 py-3 text-sm font-bold text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"e.g. Neck Pain"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest block mb-1.5",children:"System Code"}),e.jsx("input",{required:!0,value:h.code,onChange:v=>x({...h,code:v.target.value}),className:"w-full bg-gray-50 dark:bg-gray-700/50 rounded-xl px-4 py-3 text-sm font-mono text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"e.g. neck_pain"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest block mb-1.5",children:"Order"}),e.jsx("input",{type:"number",value:h.display_order,onChange:v=>x({...h,display_order:parseInt(v.target.value)||0}),className:"w-full bg-gray-50 dark:bg-gray-700/50 rounded-xl px-4 py-3 text-sm font-bold text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500"})]}),e.jsx("div",{className:"flex items-end pb-3",children:e.jsxs("button",{type:"button",onClick:()=>x({...h,is_active:h.is_active?0:1}),className:`flex items-center gap-2 px-4 py-2.5 rounded-xl text-xs font-bold transition-all border ${h.is_active?"bg-emerald-50 border-emerald-100 text-emerald-600":"bg-gray-50 border-gray-100 text-gray-400"}`,children:[e.jsx(re,{size:14}),h.is_active?"Active":"Inactive"]})})]}),e.jsx("button",{disabled:_,className:"w-full py-3.5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl text-sm font-bold shadow-lg shadow-indigo-500/30 active:scale-95 transition-all mt-4",children:_?"Saving...":"Save Changes"})]})]})})]})},ky=({version:t,notes:r,url:a,forceUpdate:s,onClose:n})=>{const l=()=>{window.open(a,"_blank"),s||n()};return e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 w-full max-w-sm rounded-3xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 p-6 text-white text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4 backdrop-blur-md",children:e.jsx(xc,{size:32,className:"text-white"})}),e.jsx("h2",{className:"text-2xl font-black",children:"Update Available"}),e.jsxs("p",{className:"font-bold opacity-90 mt-1",children:["Version ",t]})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 rounded-2xl p-4 mb-6",children:[e.jsx("p",{className:"text-xs font-bold text-indigo-400 uppercase tracking-wider mb-2",children:"What's New"}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium",children:r||"New features and improvements are available."})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:l,className:"w-full py-4 bg-indigo-600 hover:bg-indigo-700 text-white font-black rounded-xl shadow-lg shadow-indigo-500/30 active:scale-95 transition-all flex items-center justify-center gap-2",children:[e.jsx(xc,{size:20}),"Download Update"]}),!s&&e.jsx("button",{onClick:n,className:"w-full py-3 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 font-bold text-sm transition-colors",children:"Skip for now"})]})]})]})})},wy="2.5.0",Ny="https://prospine.in/admin/mobile/api",kc=()=>{const t=G(r=>r.user);return(t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="superadmin"?e.jsx(oa,{to:"/admin/dashboard",replace:!0}):e.jsx(oa,{to:"/dashboard",replace:!0})},_y=()=>{var a;const r=((a=Ct().state)==null?void 0:a.title)||"Feature";return e.jsx(Jf,{title:r})};function Sy(){const t=sessionStorage.getItem("hasSeenSplash"),[r,a]=p.useState(!t),s=G(c=>c.isAuthenticated),[n,l]=p.useState(!1),[i,d]=p.useState(null);p.useEffect(()=>{if(r){const c=setTimeout(()=>{a(!1),sessionStorage.setItem("hasSeenSplash","true")},3e3);return()=>clearTimeout(c)}},[r]),p.useEffect(()=>{(async()=>{try{const h=await(await fetch(`${Ny}/check_update.php`)).json();if(h.status==="success"&&h.data){const x=h.data.latest_version;o(x,wy)>0&&(d(h.data),l(!0))}}catch(m){console.error("Update check failed",m)}})()},[]);const o=(c,m)=>{const h=c.split(".").map(Number),x=m.split(".").map(Number);for(let _=0;_<Math.max(h.length,x.length);_++){const y=h[_]||0,w=x[_]||0;if(y>w)return 1;if(y<w)return-1}return 0};return r?e.jsx(ah,{}):e.jsxs(Jm,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:[e.jsxs(Bm,{children:[e.jsx(q,{path:"/login",element:s?e.jsx(kc,{}):e.jsx(Ah,{})}),e.jsxs(q,{element:e.jsx(Kf,{}),children:[e.jsx(q,{path:"/admin/dashboard",element:e.jsx(Zf,{})}),e.jsx(q,{path:"/admin/chat",element:e.jsx(Rs,{})}),e.jsx(q,{path:"/admin/chat/:id",element:e.jsx(Rs,{})}),e.jsx(q,{path:"/admin/ledger",element:e.jsx(ny,{})}),e.jsx(q,{path:"/admin/expenses",element:e.jsx(ly,{})}),e.jsx(q,{path:"/admin/notifications",element:e.jsx(iy,{})}),e.jsx(q,{path:"/admin/profile",element:e.jsx(dy,{})}),e.jsx(q,{path:"/admin/staff",element:e.jsx(cy,{})}),e.jsx(q,{path:"/admin/attendance",element:e.jsx(uy,{})}),e.jsx(q,{path:"/admin/branches",element:e.jsx(xy,{})}),e.jsx(q,{path:"/admin/branches/:branchId",element:e.jsx(py,{})}),e.jsx(q,{path:"/admin/referrals",element:e.jsx(my,{})}),e.jsx(q,{path:"/admin/patients",element:e.jsx(vy,{})}),e.jsx(q,{path:"/admin/patients/:id",element:e.jsx(yy,{})}),e.jsx(q,{path:"/admin/feedback",element:e.jsx(ty,{})}),e.jsx(q,{path:"/admin/issues",element:e.jsx(ry,{})}),e.jsx(q,{path:"/admin/settings/reception",element:e.jsx(jy,{})}),e.jsx(q,{path:"/admin/menu",element:e.jsx(ay,{})})]}),e.jsxs(q,{element:e.jsx(Qf,{}),children:[e.jsx(q,{path:"/",element:e.jsx(kc,{})}),e.jsx(q,{path:"/dashboard",element:e.jsx(yf,{})}),e.jsx(q,{path:"/chat",element:e.jsx(Rs,{})}),e.jsx(q,{path:"/chat/:id",element:e.jsx(Rs,{})}),e.jsx(q,{path:"/patients",element:e.jsx(vf,{})}),e.jsx(q,{path:"/patients/:id",element:e.jsx(kf,{})}),e.jsx(q,{path:"/appointments",element:e.jsx(wf,{})}),e.jsx(q,{path:"/profile",element:e.jsx(Sf,{})}),e.jsx(q,{path:"/menu",element:e.jsx(Cf,{})}),e.jsx(q,{path:"/inquiry",element:e.jsx(Pf,{})}),e.jsx(q,{path:"/registration",element:e.jsx(Lf,{})}),e.jsx(q,{path:"/registration/new",element:e.jsx(Tf,{})}),e.jsx(q,{path:"/attendance",element:e.jsx(Mf,{})}),e.jsx(q,{path:"/billing",element:e.jsx(Df,{})}),e.jsx(q,{path:"/tests",element:e.jsx($f,{})}),e.jsx(q,{path:"/tests/new",element:e.jsx(If,{})}),e.jsx(q,{path:"/reports",element:e.jsx(Rf,{})}),e.jsx(q,{path:"/expenses",element:e.jsx(Uf,{})}),e.jsx(q,{path:"/support",element:e.jsx(Wf,{})}),e.jsx(q,{path:"/about",element:e.jsx(Hf,{})}),e.jsx(q,{path:"/feedback",element:e.jsx(Vf,{})}),e.jsx(q,{path:"/menu-placeholder",element:e.jsx(_y,{})})]}),e.jsx(q,{path:"*",element:e.jsx(oa,{to:"/",replace:!0})})]}),n&&i&&e.jsx(ky,{version:i.latest_version,notes:i.release_notes,url:i.download_url,forceUpdate:i.force_update,onClose:()=>l(!1)})]})}const Cy="modulepreload",zy=function(t){return"/"+t},wc={},Py=function(r,a,s){let n=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),d=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));n=Promise.allSettled(a.map(o=>{if(o=zy(o),o in wc)return;wc[o]=!0;const c=o.endsWith(".css"),m=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${m}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":Cy,c||(h.as="script"),h.crossOrigin="",h.href=o,d&&h.setAttribute("nonce",d),document.head.appendChild(h),c)return new Promise((x,_)=>{h.addEventListener("load",x),h.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${o}`)))})}))}function l(i){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=i,window.dispatchEvent(d),!d.defaultPrevented)throw i}return n.then(i=>{for(const d of i||[])d.status==="rejected"&&l(d.reason);return r().catch(l)})};/*! Capacitor: https://capacitorjs.com/ - MIT License */const Ey=t=>{const r=new Map;r.set("web",{name:"web"});const a=t.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:r},s=(l,i)=>{a.platforms.set(l,i)},n=l=>{a.platforms.has(l)&&(a.currentPlatform=a.platforms.get(l))};return a.addPlatform=s,a.setPlatform=n,a},Ly=t=>t.CapacitorPlatforms=Ey(t),bx=Ly(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});bx.addPlatform;bx.setPlatform;var xa;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(xa||(xa={}));class Bl extends Error{constructor(r,a,s){super(r),this.message=r,this.code=a,this.data=s}}const Ty=t=>{var r,a;return t!=null&&t.androidBridge?"android":!((a=(r=t==null?void 0:t.webkit)===null||r===void 0?void 0:r.messageHandlers)===null||a===void 0)&&a.bridge?"ios":"web"},My=t=>{var r,a,s,n,l;const i=t.CapacitorCustomPlatform||null,d=t.Capacitor||{},o=d.Plugins=d.Plugins||{},c=t.CapacitorPlatforms,m=()=>i!==null?i.name:Ty(t),h=((r=c==null?void 0:c.currentPlatform)===null||r===void 0?void 0:r.getPlatform)||m,x=()=>h()!=="web",_=((a=c==null?void 0:c.currentPlatform)===null||a===void 0?void 0:a.isNativePlatform)||x,y=N=>{const k=b.get(N);return!!(k!=null&&k.platforms.has(h())||j(N))},w=((s=c==null?void 0:c.currentPlatform)===null||s===void 0?void 0:s.isPluginAvailable)||y,z=N=>{var k;return(k=d.PluginHeaders)===null||k===void 0?void 0:k.find(E=>E.name===N)},j=((n=c==null?void 0:c.currentPlatform)===null||n===void 0?void 0:n.getPluginHeader)||z,g=N=>t.console.error(N),u=(N,k,E)=>Promise.reject(`${E} does not have an implementation of "${k}".`),b=new Map,f=(N,k={})=>{const E=b.get(N);if(E)return console.warn(`Capacitor plugin "${N}" already registered. Cannot register plugins twice.`),E.proxy;const S=h(),C=j(N);let P;const M=async()=>(!P&&S in k?P=typeof k[S]=="function"?P=await k[S]():P=k[S]:i!==null&&!P&&"web"in k&&(P=typeof k.web=="function"?P=await k.web():P=k.web),P),B=(A,H)=>{var Q,$;if(C){const V=C==null?void 0:C.methods.find(Y=>H===Y.name);if(V)return V.rtype==="promise"?Y=>d.nativePromise(N,H.toString(),Y):(Y,le)=>d.nativeCallback(N,H.toString(),Y,le);if(A)return(Q=A[H])===null||Q===void 0?void 0:Q.bind(A)}else{if(A)return($=A[H])===null||$===void 0?void 0:$.bind(A);throw new Bl(`"${N}" plugin is not implemented on ${S}`,xa.Unimplemented)}},L=A=>{let H;const Q=(...$)=>{const V=M().then(Y=>{const le=B(Y,A);if(le){const oe=le(...$);return H=oe==null?void 0:oe.remove,oe}else throw new Bl(`"${N}.${A}()" is not implemented on ${S}`,xa.Unimplemented)});return A==="addListener"&&(V.remove=async()=>H()),V};return Q.toString=()=>`${A.toString()}() { [capacitor code] }`,Object.defineProperty(Q,"name",{value:A,writable:!1,configurable:!1}),Q},T=L("addListener"),W=L("removeListener"),D=(A,H)=>{const Q=T({eventName:A},H),$=async()=>{const Y=await Q;W({eventName:A,callbackId:Y},H)},V=new Promise(Y=>Q.then(()=>Y({remove:$})));return V.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await $()},V},U=new Proxy({},{get(A,H){switch(H){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return C?D:T;case"removeListener":return W;default:return L(H)}}});return o[N]=U,b.set(N,{name:N,proxy:U,platforms:new Set([...Object.keys(k),...C?[S]:[]])}),U},v=((l=c==null?void 0:c.currentPlatform)===null||l===void 0?void 0:l.registerPlugin)||f;return d.convertFileSrc||(d.convertFileSrc=N=>N),d.getPlatform=h,d.handleError=g,d.isNativePlatform=_,d.isPluginAvailable=w,d.pluginMethodNoop=u,d.registerPlugin=v,d.Exception=Bl,d.DEBUG=!!d.DEBUG,d.isLoggingEnabled=!!d.isLoggingEnabled,d.platform=d.getPlatform(),d.isNative=d.isNativePlatform(),d},Dy=t=>t.Capacitor=My(t),Mn=Dy(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),al=Mn.registerPlugin;Mn.Plugins;class vx{constructor(r){this.listeners={},this.retainedEventArguments={},this.windowListeners={},r&&(console.warn(`Capacitor WebPlugin "${r.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=r)}addListener(r,a){let s=!1;this.listeners[r]||(this.listeners[r]=[],s=!0),this.listeners[r].push(a);const l=this.windowListeners[r];l&&!l.registered&&this.addWindowListener(l),s&&this.sendRetainedArgumentsForEvent(r);const i=async()=>this.removeListener(r,a);return Promise.resolve({remove:i})}async removeAllListeners(){this.listeners={};for(const r in this.windowListeners)this.removeWindowListener(this.windowListeners[r]);this.windowListeners={}}notifyListeners(r,a,s){const n=this.listeners[r];if(!n){if(s){let l=this.retainedEventArguments[r];l||(l=[]),l.push(a),this.retainedEventArguments[r]=l}return}n.forEach(l=>l(a))}hasListeners(r){return!!this.listeners[r].length}registerWindowListener(r,a){this.windowListeners[a]={registered:!1,windowEventName:r,pluginEventName:a,handler:s=>{this.notifyListeners(a,s)}}}unimplemented(r="not implemented"){return new Mn.Exception(r,xa.Unimplemented)}unavailable(r="not available"){return new Mn.Exception(r,xa.Unavailable)}async removeListener(r,a){const s=this.listeners[r];if(!s)return;const n=s.indexOf(a);this.listeners[r].splice(n,1),this.listeners[r].length||this.removeWindowListener(this.windowListeners[r])}addWindowListener(r){window.addEventListener(r.windowEventName,r.handler),r.registered=!0}removeWindowListener(r){r&&(window.removeEventListener(r.windowEventName,r.handler),r.registered=!1)}sendRetainedArgumentsForEvent(r){const a=this.retainedEventArguments[r];a&&(delete this.retainedEventArguments[r],a.forEach(s=>{this.notifyListeners(r,s)}))}}const Nc=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),_c=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class $y extends vx{async getCookies(){const r=document.cookie,a={};return r.split(";").forEach(s=>{if(s.length<=0)return;let[n,l]=s.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");n=_c(n).trim(),l=_c(l).trim(),a[n]=l}),a}async setCookie(r){try{const a=Nc(r.key),s=Nc(r.value),n=`; expires=${(r.expires||"").replace("expires=","")}`,l=(r.path||"/").replace("path=",""),i=r.url!=null&&r.url.length>0?`domain=${r.url}`:"";document.cookie=`${a}=${s||""}${n}; path=${l}; ${i};`}catch(a){return Promise.reject(a)}}async deleteCookie(r){try{document.cookie=`${r.key}=; Max-Age=0`}catch(a){return Promise.reject(a)}}async clearCookies(){try{const r=document.cookie.split(";")||[];for(const a of r)document.cookie=a.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(r){return Promise.reject(r)}}async clearAllCookies(){try{await this.clearCookies()}catch(r){return Promise.reject(r)}}}al("CapacitorCookies",{web:()=>new $y});const Iy=async t=>new Promise((r,a)=>{const s=new FileReader;s.onload=()=>{const n=s.result;r(n.indexOf(",")>=0?n.split(",")[1]:n)},s.onerror=n=>a(n),s.readAsDataURL(t)}),Ry=(t={})=>{const r=Object.keys(t);return Object.keys(t).map(n=>n.toLocaleLowerCase()).reduce((n,l,i)=>(n[l]=t[r[i]],n),{})},Ay=(t,r=!0)=>t?Object.entries(t).reduce((s,n)=>{const[l,i]=n;let d,o;return Array.isArray(i)?(o="",i.forEach(c=>{d=r?encodeURIComponent(c):c,o+=`${l}=${d}&`}),o.slice(0,-1)):(d=r?encodeURIComponent(i):i,o=`${l}=${d}`),`${s}&${o}`},"").substr(1):null,Oy=(t,r={})=>{const a=Object.assign({method:t.method||"GET",headers:t.headers},r),n=Ry(t.headers)["content-type"]||"";if(typeof t.data=="string")a.body=t.data;else if(n.includes("application/x-www-form-urlencoded")){const l=new URLSearchParams;for(const[i,d]of Object.entries(t.data||{}))l.set(i,d);a.body=l.toString()}else if(n.includes("multipart/form-data")||t.data instanceof FormData){const l=new FormData;if(t.data instanceof FormData)t.data.forEach((d,o)=>{l.append(o,d)});else for(const d of Object.keys(t.data))l.append(d,t.data[d]);a.body=l;const i=new Headers(a.headers);i.delete("content-type"),a.headers=i}else(n.includes("application/json")||typeof t.data=="object")&&(a.body=JSON.stringify(t.data));return a};class Fy extends vx{async request(r){const a=Oy(r,r.webFetchExtra),s=Ay(r.params,r.shouldEncodeUrlParams),n=s?`${r.url}?${s}`:r.url,l=await fetch(n,a),i=l.headers.get("content-type")||"";let{responseType:d="text"}=l.ok?r:{};i.includes("application/json")&&(d="json");let o,c;switch(d){case"arraybuffer":case"blob":c=await l.blob(),o=await Iy(c);break;case"json":o=await l.json();break;case"document":case"text":default:o=await l.text()}const m={};return l.headers.forEach((h,x)=>{m[x]=h}),{data:o,headers:m,status:l.status,url:l.url}}async get(r){return this.request(Object.assign(Object.assign({},r),{method:"GET"}))}async post(r){return this.request(Object.assign(Object.assign({},r),{method:"POST"}))}async put(r){return this.request(Object.assign(Object.assign({},r),{method:"PUT"}))}async patch(r){return this.request(Object.assign(Object.assign({},r),{method:"PATCH"}))}async delete(r){return this.request(Object.assign(Object.assign({},r),{method:"DELETE"}))}}al("CapacitorHttp",{web:()=>new Fy});const Sc=al("App",{web:()=>Py(()=>import("./web-BMDqV8nz.js"),[]).then(t=>new t.AppWeb)});var Wi;(function(t){t.Dark="DARK",t.Light="LIGHT",t.Default="DEFAULT"})(Wi||(Wi={}));var Cc;(function(t){t.None="NONE",t.Slide="SLIDE",t.Fade="FADE"})(Cc||(Cc={}));const Wl=al("StatusBar");var zc;(zc=window.Capacitor)!=null&&zc.isNativePlatform()&&(Wl.setStyle({style:Wi.Light}),Wl.setBackgroundColor({color:"#FFFFFF"}),Wl.setOverlaysWebView({overlay:!0}),document.documentElement.style.setProperty("--safe-area-inset-top","32px"));Sc.addListener("backButton",({canGoBack:t})=>{t?window.history.back():Sc.exitApp()});Hl.createRoot(document.getElementById("root")).render(e.jsx(p.StrictMode,{children:e.jsx(Sy,{})}));export{vx as W};
